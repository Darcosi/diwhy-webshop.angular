"use strict";(self.webpackChunkdiwhy_webshop=self.webpackChunkdiwhy_webshop||[]).push([[438],{6438:(k,p,a)=>{a.r(p),a.d(p,{ItemsAdminModule:()=>S});var d=a(9808),u=a(3287),e=a(5e3),g=a(9832),l=a(6640),h=a(2290),c=a(3075),_=a(4106),Z=a(7531),v=a(7423);function A(n,i){1&n&&(e.TgZ(0,"h1",17),e._uU(1,"Add new item!"),e.qZA())}function C(n,i){1&n&&(e.TgZ(0,"h1",17),e._uU(1,"Update item!"),e.qZA())}function I(n,i){1&n&&(e.TgZ(0,"div",18),e._uU(1,"Name is required!"),e.qZA())}function T(n,i){1&n&&(e.TgZ(0,"div",18),e._uU(1,"Price is required!"),e.qZA())}function M(n,i){1&n&&(e.TgZ(0,"div",18),e._uU(1,"Image is required!"),e.qZA())}function b(n,i){if(1&n&&(e.TgZ(0,"button",19),e._uU(1,"Add item"),e.qZA()),2&n){e.oxw();const t=e.MAs(4);e.Q6J("disabled",t.invalid)}}function x(n,i){if(1&n&&(e.TgZ(0,"button",19),e._uU(1,"Update item"),e.qZA()),2&n){e.oxw();const t=e.MAs(4);e.Q6J("disabled",t.invalid)}}let q=(()=>{class n{constructor(t,o){this.service=t,this.toastr=o}ngOnInit(){this.resetForm()}resetForm(t){null!=t&&t.resetForm(),this.service.formData={id:"",name:"",image:"",price:0,description:""},null==t||t.form.markAsUntouched(),null==t||t.form.markAsPristine()}onSubmit(t){let o=t.value;t.form.markAsUntouched(),""!==t.value.id?this.service.updateItem(o).then(()=>{this.toastr.success("Item updated successfully!","Item update"),this.resetForm()}).catch(r=>{this.toastr.error(r,"Item update error")}):this.service.createItem(o).then(()=>{t.form.markAsUntouched(),this.resetForm(),this.toastr.success("Item added successfully!","Item add")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.l),e.Y36(h._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-item"]],decls:25,vars:12,consts:[[1,"formDiv"],["class","display-4",4,"ngIf"],["autocomplete","off",3,"submit"],["form","ngForm"],["type","hidden","name","id",3,"ngModel","ngModelChange"],["id","ngModel"],[1,"form-group"],["type","text","matInput","","name","name","placeholder","Item name","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","validation-error",4,"ngIf"],["type","number","matInput","","name","price","placeholder","Item's price in HUF","required","",1,"form-control",3,"ngModel","ngModelChange"],["price","ngModel"],["type","text","matInput","","name","image","placeholder","Image URL","required","",1,"form-control",3,"ngModel","ngModelChange"],["image","ngModel"],["type","text","matInput","","name","description","placeholder","Description...",1,"form-control",3,"ngModel","ngModelChange"],["description","ngModel"],["mat-raised-button","","color","primary","type","submit","class","btn btn-lg btn-block btn-info",3,"disabled",4,"ngIf"],[1,"display-4"],[1,"validation-error"],["mat-raised-button","","color","primary","type","submit",1,"btn","btn-lg","btn-block","btn-info",3,"disabled"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"div",0),e.YNc(1,A,2,0,"h1",1),e.YNc(2,C,2,0,"h1",1),e.TgZ(3,"form",2,3),e.NdJ("submit",function(){e.CHM(r);const s=e.MAs(4);return o.onSubmit(s)}),e.TgZ(5,"input",4,5),e.NdJ("ngModelChange",function(s){return o.service.formData.id=s}),e.qZA(),e.TgZ(7,"mat-form-field",6)(8,"input",7,8),e.NdJ("ngModelChange",function(s){return o.service.formData.name=s}),e.qZA(),e.YNc(10,I,2,0,"div",9),e.qZA(),e.TgZ(11,"mat-form-field",6)(12,"input",10,11),e.NdJ("ngModelChange",function(s){return o.service.formData.price=s}),e.qZA(),e.YNc(14,T,2,0,"div",9),e.qZA(),e.TgZ(15,"mat-form-field",6)(16,"input",12,13),e.NdJ("ngModelChange",function(s){return o.service.formData.image=s}),e.qZA(),e.YNc(18,M,2,0,"div",9),e.qZA(),e.TgZ(19,"mat-form-field",6)(20,"textarea",14,15),e.NdJ("ngModelChange",function(s){return o.service.formData.description=s}),e.qZA()(),e.TgZ(22,"div",6),e.YNc(23,b,2,1,"button",16),e.YNc(24,x,2,1,"button",16),e.qZA()()()}if(2&t){const r=e.MAs(6),m=e.MAs(9),s=e.MAs(13),f=e.MAs(17);e.xp6(1),e.Q6J("ngIf",!r.value),e.xp6(1),e.Q6J("ngIf",r.value),e.xp6(3),e.Q6J("ngModel",o.service.formData.id),e.xp6(3),e.Q6J("ngModel",o.service.formData.name),e.xp6(2),e.Q6J("ngIf",m.invalid&&m.touched),e.xp6(2),e.Q6J("ngModel",o.service.formData.price),e.xp6(2),e.Q6J("ngIf",s.invalid&&s.touched),e.xp6(2),e.Q6J("ngModel",o.service.formData.image),e.xp6(2),e.Q6J("ngIf",f.invalid&&f.touched),e.xp6(2),e.Q6J("ngModel",o.service.formData.description),e.xp6(3),e.Q6J("ngIf",!r.value),e.xp6(1),e.Q6J("ngIf",r.value)}},directives:[d.O5,c._Y,c.JL,c.F,c.Fj,c.JJ,c.On,_.KE,Z.Nt,c.Q7,c.wV,v.lW],styles:["form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}mat-form-field[_ngcontent-%COMP%]{width:64%}.formDiv[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#1e1e1e;padding:16px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:24px}"]}),n})();var y=a(773);function N(n,i){1&n&&(e.TgZ(0,"span",2),e._UZ(1,"mat-spinner"),e.qZA())}function O(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"a",4),e.NdJ("click",function(){const m=e.CHM(t).$implicit;return e.oxw().onEdit(m)}),e._UZ(11,"i",5),e.qZA()(),e.TgZ(12,"td")(13,"a",6),e.NdJ("click",function(){const m=e.CHM(t).$implicit;return e.oxw().onDelete(m)}),e._UZ(14,"i",7),e.qZA()()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.s9C("src",t.image,e.LSH),e.xp6(2),e.hij("",t.price," Ft"),e.xp6(2),e.Oqu(t.description)}}let w=(()=>{class n{constructor(t){this.service=t,this.loading=!1}ngOnInit(){this.loading=!0,this.service.getItems("name","asc").subscribe(t=>{this.lista=t.map(o=>{this.loading=!1;const r=o.payload.doc.data();return{id:o.payload.doc.id,description:r.description,image:r.image,name:r.name,price:r.price}})})}onEdit(t){this.service.formData=Object.assign({},t),(document.querySelector("mat-sidenav-content")||window).scrollTo(0,0)}onDelete(t){confirm("Are you sure to delete this item?")&&this.service.deleteItem(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-item-list"]],decls:15,vars:2,consts:[["class","spinnerDiv",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"spinnerDiv"],["height","100",3,"src"],[1,"btn","text-success",3,"click"],[1,"bi","bi-pencil-square"],[1,"btn","text-danger",3,"click"],[1,"bi","bi-trash"]],template:function(t,o){1&t&&(e.YNc(0,N,2,0,"span",0),e.TgZ(1,"table")(2,"thead")(3,"th"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Image"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Price"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Description"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Manage"),e.qZA()(),e.TgZ(13,"tbody"),e.YNc(14,O,15,4,"tr",1),e.qZA()()),2&t&&(e.Q6J("ngIf",o.loading),e.xp6(14),e.Q6J("ngForOf",o.lista))},directives:[d.O5,y.Ou,d.sg],styles:["tr[_ngcontent-%COMP%]{background-color:#1e1e1e}tr[_ngcontent-%COMP%]:hover{background-color:#282828}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:.5em 1em;width:100%;margin:0;overflow:scroll}"]}),n})();var U=a(1012);function J(n,i){if(1&n&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE("",t.name," - ",t.price," Ft")}}function F(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.YNc(9,J,3,2,"div",0),e.qZA()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.phone),e.xp6(1),e.Q6J("ngForOf",t.items)}}let Q=(()=>{class n{constructor(t,o){this.service=t,this.cartserv=o,this.loading=!1}ngOnInit(){this.cartserv.getOrders().subscribe(t=>{this.oLista=t.map(o=>{const r=o.payload.doc.data();return{address:r.address,email:r.address,name:r.name,phone:r.phone,items:r.cart}})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.l),e.Y36(U.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-order-list"]],decls:14,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"thead")(2,"th"),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Address"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Email"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Phone"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Items"),e.qZA()(),e.TgZ(12,"tbody"),e.YNc(13,F,10,5,"tr",0),e.qZA()()),2&t&&(e.xp6(13),e.Q6J("ngForOf",o.oLista))},directives:[d.sg],styles:["tr[_ngcontent-%COMP%]{background-color:#1e1e1e}tr[_ngcontent-%COMP%]:hover{background-color:#282828}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:.5em 1em;width:100%;margin:0}"]}),n})();function D(n,i){1&n&&(e.TgZ(0,"div",5),e._UZ(1,"app-new-item")(2,"br")(3,"app-item-list"),e.qZA())}function Y(n,i){1&n&&(e.TgZ(0,"div",5),e._UZ(1,"app-order-list"),e.qZA())}const L=[{path:"",component:(()=>{class n{constructor(){this.itemToShow=!0}ngOnInit(){}changeSide(t){this.itemToShow="items"===t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-items-admin"]],decls:9,vars:2,consts:[[1,"container"],[3,"change"],["value","items"],["vlaue","orders"],["style","width: 100%;",4,"ngIf"],[2,"width","100%"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"mat-button-toggle-group",1),e.NdJ("change",function(m){return o.changeSide(m.value)}),e.TgZ(2,"mat-button-toggle",2),e._uU(3,"Items"),e.qZA(),e.TgZ(4,"mat-button-toggle",3),e._uU(5,"Orders"),e.qZA()(),e._UZ(6,"br"),e.YNc(7,D,4,0,"div",4),e.YNc(8,Y,2,0,"div",4),e.qZA()),2&t&&(e.xp6(7),e.Q6J("ngIf",o.itemToShow),e.xp6(1),e.Q6J("ngIf",!o.itemToShow))},directives:[g.A9,g.Yi,d.O5,q,w,Q],styles:["app-new-item[_ngcontent-%COMP%]{margin-bottom:32px;padding-bottom:20000px}.container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}"]}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(L)],u.Bz]}),n})(),S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,P]]}),n})()}}]);