"use strict";(self.webpackChunkdiwhy_webshop=self.webpackChunkdiwhy_webshop||[]).push([[179],{1012:(Jt,at,O)=>{O.d(at,{N:()=>G});var g=O(5e3),l=O(6185);let G=(()=>{class X{constructor(Oe){this.firestore=Oe,this.cartData={name:"",email:"",address:"",phone:"",items:[]}}ngOnInit(){}order(Oe){return new Promise((Be,me)=>{this.firestore.collection("orders").add(Oe).then(Fe=>{Be(Fe)},Fe=>me(Fe))})}addToCart(Oe){console.log(JSON.stringify(this.cartData)),this.cartData.items.push(Oe),localStorage.setItem("cart",JSON.stringify(this.cartData.items))}getCart(){return this.cartData}getOrders(){return this.firestore.collection("orders").snapshotChanges()}}return X.\u0275fac=function(Oe){return new(Oe||X)(g.LFG(l.ST))},X.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})()},6640:(Jt,at,O)=>{O.d(at,{l:()=>G});var g=O(5e3),l=O(6185);let G=(()=>{class X{constructor(Oe){this.firestore=Oe}createItem(Oe){return new Promise((Be,me)=>{this.firestore.collection("items").add(Oe).then(Fe=>{Be(Fe)},Fe=>me(Fe))})}getItems(Oe,Be){return this.firestore.collection("items",me=>me.orderBy(Oe,Be).limit(63)).snapshotChanges()}getFoamItems(Oe,Be){return this.firestore.collection("items",me=>me.where("name",">=","Spray").orderBy(Oe,Be).limit(3)).snapshotChanges()}updateItem(Oe){let Be=Oe.id;return new Promise((me,Fe)=>{this.firestore.collection("items").doc(Be).update(Oe).then(te=>{me(te)},te=>Fe(te))})}deleteItem(Oe){return new Promise((Be,me)=>{this.firestore.collection("items").doc(Oe.id).delete().then(Fe=>{Be(Fe)},Fe=>me(Fe))})}}return X.\u0275fac=function(Oe){return new(Oe||X)(g.LFG(l.ST))},X.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})()},8374:(Jt,at,O)=>{var g=O(2313),l=O(5e3),G=O(3287),X=O(3075),be=O(1012),Oe=O(6185),Be=O(1205);let me=(()=>{class u{constructor(a,f,v){this.router=a,this.firestore=f,this.auth=v}ngOnInit(){}register(a,f){return this.auth.createUserWithEmailAndPassword(a,f)}login(a,f){return localStorage.setItem("cart","[]"),this.auth.onAuthStateChanged(M=>{M&&this.firestore.collection("users").doc(M.uid).ref.get().then(ee=>{ee.exists&&(this.userData={email:ee.get("email"),isAdmin:!1,address:ee.get("address"),name:ee.get("name"),phone:ee.get("phone")},console.log("THIS IIIIISSSSSS!"),console.log(this.userData),localStorage.setItem("cartUser",JSON.stringify(this.userData)))})}),this.auth.signInWithEmailAndPassword(a,f)}logout(){return localStorage.setItem("cart","[]"),localStorage.setItem("cartUser","{}"),this.userData={email:"",isAdmin:!1,address:"",name:"",phone:""},this.auth.signOut()}isLoggedIn(){return this.auth.user}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(G.F0),l.LFG(Oe.ST),l.LFG(Be.zQ))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();var Fe=O(2290),te=O(9808),ce=O(508),Se=O(3191),Xe=O(9646),Ze=O(2843),nt=O(4128),pt=O(727),ze=O(8505),Le=O(4004),He=O(262),Pe=O(8746),ve=O(3099),le=O(5698),Ee=O(4351),lt=O(9300);class Ue{}class We{constructor(h){this.normalizedNames=new Map,this.lazyUpdate=null,h?this.lazyInit="string"==typeof h?()=>{this.headers=new Map,h.split("\n").forEach(a=>{const f=a.indexOf(":");if(f>0){const v=a.slice(0,f),M=v.toLowerCase(),ee=a.slice(f+1).trim();this.maybeSetNormalizedName(v,M),this.headers.has(M)?this.headers.get(M).push(ee):this.headers.set(M,[ee])}})}:()=>{this.headers=new Map,Object.keys(h).forEach(a=>{let f=h[a];const v=a.toLowerCase();"string"==typeof f&&(f=[f]),f.length>0&&(this.headers.set(v,f),this.maybeSetNormalizedName(a,v))})}:this.headers=new Map}has(h){return this.init(),this.headers.has(h.toLowerCase())}get(h){this.init();const a=this.headers.get(h.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(h){return this.init(),this.headers.get(h.toLowerCase())||null}append(h,a){return this.clone({name:h,value:a,op:"a"})}set(h,a){return this.clone({name:h,value:a,op:"s"})}delete(h,a){return this.clone({name:h,value:a,op:"d"})}maybeSetNormalizedName(h,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,h)}init(){this.lazyInit&&(this.lazyInit instanceof We?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(h=>this.applyUpdate(h)),this.lazyUpdate=null))}copyFrom(h){h.init(),Array.from(h.headers.keys()).forEach(a=>{this.headers.set(a,h.headers.get(a)),this.normalizedNames.set(a,h.normalizedNames.get(a))})}clone(h){const a=new We;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof We?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([h]),a}applyUpdate(h){const a=h.name.toLowerCase();switch(h.op){case"a":case"s":let f=h.value;if("string"==typeof f&&(f=[f]),0===f.length)return;this.maybeSetNormalizedName(h.name,a);const v=("a"===h.op?this.headers.get(a):void 0)||[];v.push(...f),this.headers.set(a,v);break;case"d":const M=h.value;if(M){let ee=this.headers.get(a);if(!ee)return;ee=ee.filter(Me=>-1===M.indexOf(Me)),0===ee.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,ee)}else this.headers.delete(a),this.normalizedNames.delete(a)}}forEach(h){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>h(this.normalizedNames.get(a),this.headers.get(a)))}}class mt{encodeKey(h){return ct(h)}encodeValue(h){return ct(h)}decodeKey(h){return decodeURIComponent(h)}decodeValue(h){return decodeURIComponent(h)}}const Et=/%(\d[a-f0-9])/gi,Dt={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ct(u){return encodeURIComponent(u).replace(Et,(h,a)=>{var f;return null!==(f=Dt[a])&&void 0!==f?f:h})}function mn(u){return`${u}`}class en{constructor(h={}){if(this.updates=null,this.cloneFrom=null,this.encoder=h.encoder||new mt,h.fromString){if(h.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gt(u,h){const a=new Map;return u.length>0&&u.replace(/^\?/,"").split("&").forEach(v=>{const M=v.indexOf("="),[ee,Me]=-1==M?[h.decodeKey(v),""]:[h.decodeKey(v.slice(0,M)),h.decodeValue(v.slice(M+1))],ut=a.get(ee)||[];ut.push(Me),a.set(ee,ut)}),a}(h.fromString,this.encoder)}else h.fromObject?(this.map=new Map,Object.keys(h.fromObject).forEach(a=>{const f=h.fromObject[a];this.map.set(a,Array.isArray(f)?f:[f])})):this.map=null}has(h){return this.init(),this.map.has(h)}get(h){this.init();const a=this.map.get(h);return a?a[0]:null}getAll(h){return this.init(),this.map.get(h)||null}keys(){return this.init(),Array.from(this.map.keys())}append(h,a){return this.clone({param:h,value:a,op:"a"})}appendAll(h){const a=[];return Object.keys(h).forEach(f=>{const v=h[f];Array.isArray(v)?v.forEach(M=>{a.push({param:f,value:M,op:"a"})}):a.push({param:f,value:v,op:"a"})}),this.clone(a)}set(h,a){return this.clone({param:h,value:a,op:"s"})}delete(h,a){return this.clone({param:h,value:a,op:"d"})}toString(){return this.init(),this.keys().map(h=>{const a=this.encoder.encodeKey(h);return this.map.get(h).map(f=>a+"="+this.encoder.encodeValue(f)).join("&")}).filter(h=>""!==h).join("&")}clone(h){const a=new en({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(h),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(h=>this.map.set(h,this.cloneFrom.map.get(h))),this.updates.forEach(h=>{switch(h.op){case"a":case"s":const a=("a"===h.op?this.map.get(h.param):void 0)||[];a.push(mn(h.value)),this.map.set(h.param,a);break;case"d":if(void 0===h.value){this.map.delete(h.param);break}{let f=this.map.get(h.param)||[];const v=f.indexOf(mn(h.value));-1!==v&&f.splice(v,1),f.length>0?this.map.set(h.param,f):this.map.delete(h.param)}}}),this.cloneFrom=this.updates=null)}}class Ut{constructor(){this.map=new Map}set(h,a){return this.map.set(h,a),this}get(h){return this.map.has(h)||this.map.set(h,h.defaultValue()),this.map.get(h)}delete(h){return this.map.delete(h),this}has(h){return this.map.has(h)}keys(){return this.map.keys()}}function un(u){return"undefined"!=typeof ArrayBuffer&&u instanceof ArrayBuffer}function dn(u){return"undefined"!=typeof Blob&&u instanceof Blob}function xt(u){return"undefined"!=typeof FormData&&u instanceof FormData}class Ke{constructor(h,a,f,v){let M;if(this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=h.toUpperCase(),function jt(u){switch(u){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||v?(this.body=void 0!==f?f:null,M=v):M=f,M&&(this.reportProgress=!!M.reportProgress,this.withCredentials=!!M.withCredentials,M.responseType&&(this.responseType=M.responseType),M.headers&&(this.headers=M.headers),M.context&&(this.context=M.context),M.params&&(this.params=M.params)),this.headers||(this.headers=new We),this.context||(this.context=new Ut),this.params){const ee=this.params.toString();if(0===ee.length)this.urlWithParams=a;else{const Me=a.indexOf("?");this.urlWithParams=a+(-1===Me?"?":Me<a.length-1?"&":"")+ee}}else this.params=new en,this.urlWithParams=a}serializeBody(){return null===this.body?null:un(this.body)||dn(this.body)||xt(this.body)||function It(u){return"undefined"!=typeof URLSearchParams&&u instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof en?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xt(this.body)?null:dn(this.body)?this.body.type||null:un(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof en?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(h={}){var a;const f=h.method||this.method,v=h.url||this.url,M=h.responseType||this.responseType,ee=void 0!==h.body?h.body:this.body,Me=void 0!==h.withCredentials?h.withCredentials:this.withCredentials,ut=void 0!==h.reportProgress?h.reportProgress:this.reportProgress;let Yt=h.headers||this.headers,Wt=h.params||this.params;const Bn=null!==(a=h.context)&&void 0!==a?a:this.context;return void 0!==h.setHeaders&&(Yt=Object.keys(h.setHeaders).reduce((ji,Ki)=>ji.set(Ki,h.setHeaders[Ki]),Yt)),h.setParams&&(Wt=Object.keys(h.setParams).reduce((ji,Ki)=>ji.set(Ki,h.setParams[Ki]),Wt)),new Ke(f,v,ee,{params:Wt,headers:Yt,context:Bn,reportProgress:ut,responseType:M,withCredentials:Me})}}var it=(()=>((it=it||{})[it.Sent=0]="Sent",it[it.UploadProgress=1]="UploadProgress",it[it.ResponseHeader=2]="ResponseHeader",it[it.DownloadProgress=3]="DownloadProgress",it[it.Response=4]="Response",it[it.User=5]="User",it))();class Rn extends class Vt{constructor(h,a=200,f="OK"){this.headers=h.headers||new We,this.status=void 0!==h.status?h.status:a,this.statusText=h.statusText||f,this.url=h.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(h={}){super(h),this.type=it.Response,this.body=void 0!==h.body?h.body:null}clone(h={}){return new Rn({body:void 0!==h.body?h.body:this.body,headers:h.headers||this.headers,status:void 0!==h.status?h.status:this.status,statusText:h.statusText||this.statusText,url:h.url||this.url||void 0})}}function Kn(u,h){return{body:h,headers:u.headers,context:u.context,observe:u.observe,params:u.params,reportProgress:u.reportProgress,responseType:u.responseType,withCredentials:u.withCredentials}}let wn=(()=>{class u{constructor(a){this.handler=a}request(a,f,v={}){let M;if(a instanceof Ke)M=a;else{let ut,Yt;ut=v.headers instanceof We?v.headers:new We(v.headers),v.params&&(Yt=v.params instanceof en?v.params:new en({fromObject:v.params})),M=new Ke(a,f,void 0!==v.body?v.body:null,{headers:ut,context:v.context,params:Yt,reportProgress:v.reportProgress,responseType:v.responseType||"json",withCredentials:v.withCredentials})}const ee=(0,Xe.of)(M).pipe((0,Ee.b)(ut=>this.handler.handle(ut)));if(a instanceof Ke||"events"===v.observe)return ee;const Me=ee.pipe((0,lt.h)(ut=>ut instanceof Rn));switch(v.observe||"body"){case"body":switch(M.responseType){case"arraybuffer":return Me.pipe((0,Le.U)(ut=>{if(null!==ut.body&&!(ut.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ut.body}));case"blob":return Me.pipe((0,Le.U)(ut=>{if(null!==ut.body&&!(ut.body instanceof Blob))throw new Error("Response is not a Blob.");return ut.body}));case"text":return Me.pipe((0,Le.U)(ut=>{if(null!==ut.body&&"string"!=typeof ut.body)throw new Error("Response is not a string.");return ut.body}));default:return Me.pipe((0,Le.U)(ut=>ut.body))}case"response":return Me;default:throw new Error(`Unreachable: unhandled observe type ${v.observe}}`)}}delete(a,f={}){return this.request("DELETE",a,f)}get(a,f={}){return this.request("GET",a,f)}head(a,f={}){return this.request("HEAD",a,f)}jsonp(a,f){return this.request("JSONP",a,{params:(new en).append(f,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,f={}){return this.request("OPTIONS",a,f)}patch(a,f,v={}){return this.request("PATCH",a,Kn(v,f))}post(a,f,v={}){return this.request("POST",a,Kn(v,f))}put(a,f,v={}){return this.request("PUT",a,Kn(v,f))}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(Ue))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})();const U=["*"];let x;function ge(u){var h;return(null===(h=function j(){if(void 0===x&&(x=null,"undefined"!=typeof window)){const u=window;void 0!==u.trustedTypes&&(x=u.trustedTypes.createPolicy("angular#components",{createHTML:h=>h}))}return x}())||void 0===h?void 0:h.createHTML(u))||u}function rt(u){return Error(`Unable to find icon with the name "${u}"`)}function Ie(u){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${u}".`)}function je(u){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${u}".`)}class ft{constructor(h,a,f){this.url=h,this.svgText=a,this.options=f}}let _e=(()=>{class u{constructor(a,f,v,M){this._httpClient=a,this._sanitizer=f,this._errorHandler=M,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=v}addSvgIcon(a,f,v){return this.addSvgIconInNamespace("",a,f,v)}addSvgIconLiteral(a,f,v){return this.addSvgIconLiteralInNamespace("",a,f,v)}addSvgIconInNamespace(a,f,v,M){return this._addSvgIconConfig(a,f,new ft(v,null,M))}addSvgIconResolver(a){return this._resolvers.push(a),this}addSvgIconLiteralInNamespace(a,f,v,M){const ee=this._sanitizer.sanitize(l.q3G.HTML,v);if(!ee)throw je(v);const Me=ge(ee);return this._addSvgIconConfig(a,f,new ft("",Me,M))}addSvgIconSet(a,f){return this.addSvgIconSetInNamespace("",a,f)}addSvgIconSetLiteral(a,f){return this.addSvgIconSetLiteralInNamespace("",a,f)}addSvgIconSetInNamespace(a,f,v){return this._addSvgIconSetConfig(a,new ft(f,null,v))}addSvgIconSetLiteralInNamespace(a,f,v){const M=this._sanitizer.sanitize(l.q3G.HTML,f);if(!M)throw je(f);const ee=ge(M);return this._addSvgIconSetConfig(a,new ft("",ee,v))}registerFontClassAlias(a,f=a){return this._fontCssClassesByAlias.set(a,f),this}classNameForFontAlias(a){return this._fontCssClassesByAlias.get(a)||a}setDefaultFontSetClass(a){return this._defaultFontSetClass=a,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(a){const f=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,a);if(!f)throw Ie(a);const v=this._cachedIconsByUrl.get(f);return v?(0,Xe.of)(de(v)):this._loadSvgIconFromConfig(new ft(a,null)).pipe((0,ze.b)(M=>this._cachedIconsByUrl.set(f,M)),(0,Le.U)(M=>de(M)))}getNamedSvgIcon(a,f=""){const v=ye(f,a);let M=this._svgIconConfigs.get(v);if(M)return this._getSvgFromConfig(M);if(M=this._getIconConfigFromResolvers(f,a),M)return this._svgIconConfigs.set(v,M),this._getSvgFromConfig(M);const ee=this._iconSetConfigs.get(f);return ee?this._getSvgFromIconSetConfigs(a,ee):(0,Ze._)(rt(v))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(a){return a.svgText?(0,Xe.of)(de(this._svgElementFromConfig(a))):this._loadSvgIconFromConfig(a).pipe((0,Le.U)(f=>de(f)))}_getSvgFromIconSetConfigs(a,f){const v=this._extractIconWithNameFromAnySet(a,f);if(v)return(0,Xe.of)(v);const M=f.filter(ee=>!ee.svgText).map(ee=>this._loadSvgIconSetFromConfig(ee).pipe((0,He.K)(Me=>{const Yt=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,ee.url)} failed: ${Me.message}`;return this._errorHandler.handleError(new Error(Yt)),(0,Xe.of)(null)})));return(0,nt.D)(M).pipe((0,Le.U)(()=>{const ee=this._extractIconWithNameFromAnySet(a,f);if(!ee)throw rt(a);return ee}))}_extractIconWithNameFromAnySet(a,f){for(let v=f.length-1;v>=0;v--){const M=f[v];if(M.svgText&&M.svgText.toString().indexOf(a)>-1){const ee=this._svgElementFromConfig(M),Me=this._extractSvgIconFromSet(ee,a,M.options);if(Me)return Me}}return null}_loadSvgIconFromConfig(a){return this._fetchIcon(a).pipe((0,ze.b)(f=>a.svgText=f),(0,Le.U)(()=>this._svgElementFromConfig(a)))}_loadSvgIconSetFromConfig(a){return a.svgText?(0,Xe.of)(null):this._fetchIcon(a).pipe((0,ze.b)(f=>a.svgText=f))}_extractSvgIconFromSet(a,f,v){const M=a.querySelector(`[id="${f}"]`);if(!M)return null;const ee=M.cloneNode(!0);if(ee.removeAttribute("id"),"svg"===ee.nodeName.toLowerCase())return this._setSvgAttributes(ee,v);if("symbol"===ee.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(ee),v);const Me=this._svgElementFromString(ge("<svg></svg>"));return Me.appendChild(ee),this._setSvgAttributes(Me,v)}_svgElementFromString(a){const f=this._document.createElement("DIV");f.innerHTML=a;const v=f.querySelector("svg");if(!v)throw Error("<svg> tag not found");return v}_toSvgElement(a){const f=this._svgElementFromString(ge("<svg></svg>")),v=a.attributes;for(let M=0;M<v.length;M++){const{name:ee,value:Me}=v[M];"id"!==ee&&f.setAttribute(ee,Me)}for(let M=0;M<a.childNodes.length;M++)a.childNodes[M].nodeType===this._document.ELEMENT_NODE&&f.appendChild(a.childNodes[M].cloneNode(!0));return f}_setSvgAttributes(a,f){return a.setAttribute("fit",""),a.setAttribute("height","100%"),a.setAttribute("width","100%"),a.setAttribute("preserveAspectRatio","xMidYMid meet"),a.setAttribute("focusable","false"),f&&f.viewBox&&a.setAttribute("viewBox",f.viewBox),a}_fetchIcon(a){var f;const{url:v,options:M}=a,ee=null!==(f=null==M?void 0:M.withCredentials)&&void 0!==f&&f;if(!this._httpClient)throw function Ce(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==v)throw Error(`Cannot fetch icon from URL "${v}".`);const Me=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,v);if(!Me)throw Ie(v);const ut=this._inProgressUrlFetches.get(Me);if(ut)return ut;const Yt=this._httpClient.get(Me,{responseType:"text",withCredentials:ee}).pipe((0,Le.U)(Wt=>ge(Wt)),(0,Pe.x)(()=>this._inProgressUrlFetches.delete(Me)),(0,ve.B)());return this._inProgressUrlFetches.set(Me,Yt),Yt}_addSvgIconConfig(a,f,v){return this._svgIconConfigs.set(ye(a,f),v),this}_addSvgIconSetConfig(a,f){const v=this._iconSetConfigs.get(a);return v?v.push(f):this._iconSetConfigs.set(a,[f]),this}_svgElementFromConfig(a){if(!a.svgElement){const f=this._svgElementFromString(a.svgText);this._setSvgAttributes(f,a.options),a.svgElement=f}return a.svgElement}_getIconConfigFromResolvers(a,f){for(let v=0;v<this._resolvers.length;v++){const M=this._resolvers[v](f,a);if(M)return Ve(M)?new ft(M.url,null,M.options):new ft(M,null)}}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(wn,8),l.LFG(g.H7),l.LFG(te.K0,8),l.LFG(l.qLn))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function de(u){return u.cloneNode(!0)}function ye(u,h){return u+":"+h}function Ve(u){return!(!u.url||!u.options)}const wt=(0,ce.pj)(class{constructor(u){this._elementRef=u}}),Nt=new l.OlP("mat-icon-location",{providedIn:"root",factory:function cn(){const u=(0,l.f3M)(te.K0),h=u?u.location:null;return{getPathname:()=>h?h.pathname+h.search:""}}}),oi=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ri=oi.map(u=>`[${u}]`).join(", "),Hn=/^url\(['"]?#(.*?)['"]?\)$/;let ti=(()=>{class u extends wt{constructor(a,f,v,M,ee){super(a),this._iconRegistry=f,this._location=M,this._errorHandler=ee,this._inline=!1,this._currentIconFetch=pt.w0.EMPTY,v||a.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(a){this._inline=(0,Se.Ig)(a)}get svgIcon(){return this._svgIcon}set svgIcon(a){a!==this._svgIcon&&(a?this._updateSvgIcon(a):this._svgIcon&&this._clearSvgElement(),this._svgIcon=a)}get fontSet(){return this._fontSet}set fontSet(a){const f=this._cleanupFontValue(a);f!==this._fontSet&&(this._fontSet=f,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(a){const f=this._cleanupFontValue(a);f!==this._fontIcon&&(this._fontIcon=f,this._updateFontIconClasses())}_splitIconName(a){if(!a)return["",""];const f=a.split(":");switch(f.length){case 1:return["",f[0]];case 2:return f;default:throw Error(`Invalid icon name: "${a}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const a=this._elementsWithExternalReferences;if(a&&a.size){const f=this._location.getPathname();f!==this._previousPath&&(this._previousPath=f,this._prependPathToReferences(f))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(a){this._clearSvgElement();const f=this._location.getPathname();this._previousPath=f,this._cacheChildrenWithExternalReferences(a),this._prependPathToReferences(f),this._elementRef.nativeElement.appendChild(a)}_clearSvgElement(){const a=this._elementRef.nativeElement;let f=a.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();f--;){const v=a.childNodes[f];(1!==v.nodeType||"svg"===v.nodeName.toLowerCase())&&v.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const a=this._elementRef.nativeElement,f=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();f!=this._previousFontSetClass&&(this._previousFontSetClass&&a.classList.remove(this._previousFontSetClass),f&&a.classList.add(f),this._previousFontSetClass=f),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&a.classList.remove(this._previousFontIconClass),this.fontIcon&&a.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(a){return"string"==typeof a?a.trim().split(" ")[0]:a}_prependPathToReferences(a){const f=this._elementsWithExternalReferences;f&&f.forEach((v,M)=>{v.forEach(ee=>{M.setAttribute(ee.name,`url('${a}#${ee.value}')`)})})}_cacheChildrenWithExternalReferences(a){const f=a.querySelectorAll(ri),v=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let M=0;M<f.length;M++)oi.forEach(ee=>{const Me=f[M],ut=Me.getAttribute(ee),Yt=ut?ut.match(Hn):null;if(Yt){let Wt=v.get(Me);Wt||(Wt=[],v.set(Me,Wt)),Wt.push({name:ee,value:Yt[1]})}})}_updateSvgIcon(a){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),a){const[f,v]=this._splitIconName(a);f&&(this._svgNamespace=f),v&&(this._svgName=v),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(v,f).pipe((0,le.q)(1)).subscribe(M=>this._setSvgElement(M),M=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${f}:${v}! ${M.message}`))})}}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.SBq),l.Y36(_e),l.$8M("aria-hidden"),l.Y36(Nt),l.Y36(l.qLn))},u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(a,f){2&a&&(l.uIk("data-mat-icon-type",f._usingFontIcon()?"font":"svg")("data-mat-icon-name",f._svgName||f.fontIcon)("data-mat-icon-namespace",f._svgNamespace||f.fontSet),l.ekj("mat-icon-inline",f.inline)("mat-icon-no-color","primary"!==f.color&&"accent"!==f.color&&"warn"!==f.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:U,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),u})(),rr=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[ce.BQ],ce.BQ]}),u})();var Ai=O(4106),Ar=O(7531),mi=O(7423);function hn(u,h){if(1&u){const a=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._UZ(4,"img",14),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td")(8,"a",15),l.NdJ("click",function(){const M=l.CHM(a).$implicit;return l.oxw().onDelete(M)}),l.TgZ(9,"mat-icon",16),l._uU(10,"remove_shopping_cart"),l.qZA()()()()}if(2&u){const a=h.$implicit;l.xp6(2),l.Oqu(a.name),l.xp6(2),l.s9C("src",a.image,l.LSH),l.xp6(2),l.hij("",a.price," Ft")}}let Yn=(()=>{class u{constructor(a,f,v,M){this.cartservice=a,this.router=f,this.userv=v,this.toastr=M,this.stringCart=localStorage.getItem("cart"),this.cartLista=JSON.parse(localStorage.getItem("cart")||"[]"),this.totalPrice=this.calculatePrice(),this.userData=JSON.parse(localStorage.getItem("cartUser")||"{email: '', isAdmin: false, address: '', name: '', phone: ''}"),this.orderForm=new X.cw({email:new X.NI(this.userData.email),address:new X.NI(this.userData.address),name:new X.NI(this.userData.name),phone:new X.NI(this.userData.phone),cart:new X.NI(this.cartLista)})}ngOnInit(){}calculatePrice(){return Array.isArray(this.cartLista)?this.cartLista.reduce((a,f)=>a+f.price,0):0}onDelete(a){const f=this.cartLista.filter(v=>v!==a);console.log(this.cartLista.filter(v=>v==a)),this.cartservice.cartData.items=f,localStorage.setItem("cart",JSON.stringify(f)),this.cartLista=JSON.parse(localStorage.getItem("cart")||"[]"),this.stringCart=localStorage.getItem("cart"),this.totalPrice=this.calculatePrice(),console.log(JSON.stringify(this.userData))}onSubmit(){this.toastr.success("Your order was successfully sent","Order"),this.cartservice.order(this.orderForm.value),localStorage.setItem("cart","[]"),this.router.navigateByUrl("/home")}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(be.N),l.Y36(G.F0),l.Y36(me),l.Y36(Fe._W))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-cart"]],decls:34,vars:5,consts:[[1,"display-4"],[4,"ngFor","ngForOf"],[1,"right"],[1,"formDiv"],["autocomplete","off",3,"formGroup","ngSubmit"],["form","ngForm"],["type","hidden","name","id"],["type","hidden","autocomplete","off","name","cart","formControlName","cart",3,"value"],[1,"form-group"],["type","text","matInput","","name","email","placeholder","Email address","required","","formControlName","email",1,"form-control"],["type","text","matInput","","name","name","placeholder","Full name","required","","formControlName","name",1,"form-control"],["type","text","matInput","","name","address","placeholder","Address","required","","formControlName","address",1,"form-control"],["type","text","matInput","","name","phone","placeholder","Phone number","required","","formControlName","phone",1,"form-control"],["mat-raised-button","","color","primary","type","submit",1,"btn","btn-lg","btn-block","btn-info",3,"disabled"],["height","100",3,"src"],[1,"btn","text-danger",3,"click"],["color","red"]],template:function(a,f){if(1&a&&(l.TgZ(0,"h1",0),l._uU(1,"Cart"),l.qZA(),l.TgZ(2,"table")(3,"thead")(4,"th"),l._uU(5,"Name"),l.qZA(),l.TgZ(6,"th"),l._uU(7,"Image"),l.qZA(),l.TgZ(8,"th"),l._uU(9,"Price"),l.qZA(),l.TgZ(10,"th"),l._uU(11,"Remove"),l.qZA()(),l.TgZ(12,"tbody"),l.YNc(13,hn,11,3,"tr",1),l.qZA()(),l.TgZ(14,"h2",2),l._uU(15),l.qZA(),l.TgZ(16,"div",3)(17,"h1",0),l._uU(18,"Order data"),l.qZA(),l.TgZ(19,"form",4,5),l.NdJ("ngSubmit",function(){return f.onSubmit()}),l._UZ(21,"input",6)(22,"input",7),l.TgZ(23,"mat-form-field",8),l._UZ(24,"input",9),l.qZA(),l.TgZ(25,"mat-form-field",8),l._UZ(26,"input",10),l.qZA(),l.TgZ(27,"mat-form-field",8),l._UZ(28,"input",11),l.qZA(),l.TgZ(29,"mat-form-field",8),l._UZ(30,"input",12),l.qZA(),l.TgZ(31,"div",8)(32,"button",13),l._uU(33,"Order"),l.qZA()()()()),2&a){const v=l.MAs(20);l.xp6(13),l.Q6J("ngForOf",f.cartLista),l.xp6(2),l.hij("Total: ",f.totalPrice," Ft"),l.xp6(4),l.Q6J("formGroup",f.orderForm),l.xp6(3),l.s9C("value",f.cartLista),l.xp6(10),l.Q6J("disabled",v.invalid)}},directives:[te.sg,ti,X._Y,X.JL,X.sg,X.Fj,X.JJ,X.u,Ai.KE,Ar.Nt,X.Q7,mi.lW],styles:["tr[_ngcontent-%COMP%]{background-color:#1e1e1e}tr[_ngcontent-%COMP%]:hover{background-color:#282828}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:.5em 1em;width:100%;margin:0}.right[_ngcontent-%COMP%]{text-align:end}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}mat-form-field[_ngcontent-%COMP%]{width:64%}.formDiv[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#1e1e1e;padding:16px}input[_ngcontent-%COMP%]{font-size:24px}"]}),u})(),Oi=(()=>{class u{constructor(a,f){this.userv=a,this.router=f,this.isReallyAdmin="false"}canActivate(a,f){return this.isReallyAdmin=JSON.parse(localStorage.getItem("admin")),"true"===this.isReallyAdmin||(this.router.navigateByUrl("home"),!1)}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(me),l.LFG(G.F0))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),Mr=(()=>{class u{constructor(a,f){this.userv=a,this.router=f}canActivate(a,f){return!JSON.parse(localStorage.getItem("user"))||this.router.createUrlTree(["/home"])}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(me),l.LFG(G.F0))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();var Er=O(6640),hi=O(5494),Qi=O(925),ki=O(226);class Ji{attach(h){return this._attachedHost=h,h.attach(this)}detach(){let h=this._attachedHost;null!=h&&(this._attachedHost=null,h.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(h){this._attachedHost=h}}class Gi extends Ji{constructor(h,a,f,v){super(),this.component=h,this.viewContainerRef=a,this.injector=f,this.componentFactoryResolver=v}}class Qr extends Ji{constructor(h,a,f){super(),this.templateRef=h,this.viewContainerRef=a,this.context=f}get origin(){return this.templateRef.elementRef}attach(h,a=this.context){return this.context=a,super.attach(h)}detach(){return this.context=void 0,super.detach()}}class cr extends Ji{constructor(h){super(),this.element=h instanceof l.SBq?h.nativeElement:h}}class vt extends class dt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(h){return h instanceof Gi?(this._attachedPortal=h,this.attachComponentPortal(h)):h instanceof Qr?(this._attachedPortal=h,this.attachTemplatePortal(h)):this.attachDomPortal&&h instanceof cr?(this._attachedPortal=h,this.attachDomPortal(h)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(h){this._disposeFn=h}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(h,a,f,v,M){super(),this.outletElement=h,this._componentFactoryResolver=a,this._appRef=f,this._defaultInjector=v,this.attachDomPortal=ee=>{const Me=ee.element,ut=this._document.createComment("dom-portal");Me.parentNode.insertBefore(ut,Me),this.outletElement.appendChild(Me),this._attachedPortal=ee,super.setDisposeFn(()=>{ut.parentNode&&ut.parentNode.replaceChild(Me,ut)})},this._document=M}attachComponentPortal(h){const f=(h.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(h.component);let v;return h.viewContainerRef?(v=h.viewContainerRef.createComponent(f,h.viewContainerRef.length,h.injector||h.viewContainerRef.injector),this.setDisposeFn(()=>v.destroy())):(v=f.create(h.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(v.hostView),this.setDisposeFn(()=>{this._appRef.detachView(v.hostView),v.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(v)),this._attachedPortal=h,v}attachTemplatePortal(h){let a=h.viewContainerRef,f=a.createEmbeddedView(h.templateRef,h.context);return f.rootNodes.forEach(v=>this.outletElement.appendChild(v)),f.detectChanges(),this.setDisposeFn(()=>{let v=a.indexOf(f);-1!==v&&a.remove(v)}),this._attachedPortal=h,f}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(h){return h.hostView.rootNodes[0]}}let _i=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({}),u})();var $i=O(7579),ur=O(6451),wi=O(2722),Nr=O(4482),ma=O(5403),Hi=O(1159);const ps=(0,Qi.Mq)();class Do{constructor(h,a){this._viewportRuler=h,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=a}attach(){}enable(){if(this._canBeEnabled()){const h=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=h.style.left||"",this._previousHTMLStyles.top=h.style.top||"",h.style.left=(0,Se.HM)(-this._previousScrollPosition.left),h.style.top=(0,Se.HM)(-this._previousScrollPosition.top),h.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const h=this._document.documentElement,f=h.style,v=this._document.body.style,M=f.scrollBehavior||"",ee=v.scrollBehavior||"";this._isEnabled=!1,f.left=this._previousHTMLStyles.left,f.top=this._previousHTMLStyles.top,h.classList.remove("cdk-global-scrollblock"),ps&&(f.scrollBehavior=v.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ps&&(f.scrollBehavior=M,v.scrollBehavior=ee)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const a=this._document.body,f=this._viewportRuler.getViewportSize();return a.scrollHeight>f.height||a.scrollWidth>f.width}}class Ls{constructor(h,a,f,v){this._scrollDispatcher=h,this._ngZone=a,this._viewportRuler=f,this._config=v,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(h){this._overlayRef=h}enable(){if(this._scrollSubscription)return;const h=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=h.subscribe(()=>{const a=this._viewportRuler.getViewportScrollPosition().top;Math.abs(a-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=h.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ao{enable(){}disable(){}attach(){}}function gs(u,h){return h.some(a=>u.bottom<a.top||u.top>a.bottom||u.right<a.left||u.left>a.right)}function na(u,h){return h.some(a=>u.top<a.top||u.bottom>a.bottom||u.left<a.left||u.right>a.right)}class Ys{constructor(h,a,f,v){this._scrollDispatcher=h,this._viewportRuler=a,this._ngZone=f,this._config=v,this._scrollSubscription=null}attach(h){this._overlayRef=h}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const a=this._overlayRef.overlayElement.getBoundingClientRect(),{width:f,height:v}=this._viewportRuler.getViewportSize();gs(a,[{width:f,height:v,bottom:v,right:f,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ms=(()=>{class u{constructor(a,f,v,M){this._scrollDispatcher=a,this._viewportRuler=f,this._ngZone=v,this.noop=()=>new Ao,this.close=ee=>new Ls(this._scrollDispatcher,this._ngZone,this._viewportRuler,ee),this.block=()=>new Do(this._viewportRuler,this._document),this.reposition=ee=>new Ys(this._scrollDispatcher,this._viewportRuler,this._ngZone,ee),this._document=M}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(hi.mF),l.LFG(hi.rL),l.LFG(l.R0b),l.LFG(te.K0))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();class ls{constructor(h){if(this.scrollStrategy=new Ao,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,h){const a=Object.keys(h);for(const f of a)void 0!==h[f]&&(this[f]=h[f])}}}class Qs{constructor(h,a){this.connectionPair=h,this.scrollableViewProperties=a}}class ys{constructor(h,a,f,v,M,ee,Me,ut,Yt){this._portalOutlet=h,this._host=a,this._pane=f,this._config=v,this._ngZone=M,this._keyboardDispatcher=ee,this._document=Me,this._location=ut,this._outsideClickDispatcher=Yt,this._backdropElement=null,this._backdropClick=new $i.x,this._attachments=new $i.x,this._detachments=new $i.x,this._locationChanges=pt.w0.EMPTY,this._backdropClickHandler=Wt=>this._backdropClick.next(Wt),this._backdropTransitionendHandler=Wt=>{this._disposeBackdrop(Wt.target)},this._keydownEvents=new $i.x,this._outsidePointerEvents=new $i.x,v.scrollStrategy&&(this._scrollStrategy=v.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=v.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(h){let a=this._portalOutlet.attach(h);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,le.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),a}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const h=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),h}dispose(){var h;const a=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(h=this._host)||void 0===h||h.remove(),this._previousHostParent=this._pane=this._host=null,a&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(h){h!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=h,this.hasAttached()&&(h.attach(this),this.updatePosition()))}updateSize(h){this._config=Object.assign(Object.assign({},this._config),h),this._updateElementSize()}setDirection(h){this._config=Object.assign(Object.assign({},this._config),{direction:h}),this._updateElementDirection()}addPanelClass(h){this._pane&&this._toggleClasses(this._pane,h,!0)}removePanelClass(h){this._pane&&this._toggleClasses(this._pane,h,!1)}getDirection(){const h=this._config.direction;return h?"string"==typeof h?h:h.value:"ltr"}updateScrollStrategy(h){h!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=h,this.hasAttached()&&(h.attach(this),h.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const h=this._pane.style;h.width=(0,Se.HM)(this._config.width),h.height=(0,Se.HM)(this._config.height),h.minWidth=(0,Se.HM)(this._config.minWidth),h.minHeight=(0,Se.HM)(this._config.minHeight),h.maxWidth=(0,Se.HM)(this._config.maxWidth),h.maxHeight=(0,Se.HM)(this._config.maxHeight)}_togglePointerEvents(h){this._pane.style.pointerEvents=h?"":"none"}_attachBackdrop(){const h="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(h)})}):this._backdropElement.classList.add(h)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const h=this._backdropElement;!h||(h.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{h.addEventListener("transitionend",this._backdropTransitionendHandler)}),h.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(h)},500)))}_toggleClasses(h,a,f){const v=(0,Se.Eq)(a||[]).filter(M=>!!M);v.length&&(f?h.classList.add(...v):h.classList.remove(...v))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const h=this._ngZone.onStable.pipe((0,wi.R)((0,ur.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),h.unsubscribe())})})}_disposeScrollStrategy(){const h=this._scrollStrategy;h&&(h.disable(),h.detach&&h.detach())}_disposeBackdrop(h){h&&(h.removeEventListener("click",this._backdropClickHandler),h.removeEventListener("transitionend",this._backdropTransitionendHandler),h.remove(),this._backdropElement===h&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Hr=(()=>{class u{constructor(a,f){this._platform=f,this._document=a}ngOnDestroy(){var a;null===(a=this._containerElement)||void 0===a||a.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const a="cdk-overlay-container";if(this._platform.isBrowser||(0,Qi.Oy)()){const v=this._document.querySelectorAll(`.${a}[platform="server"], .${a}[platform="test"]`);for(let M=0;M<v.length;M++)v[M].remove()}const f=this._document.createElement("div");f.classList.add(a),(0,Qi.Oy)()?f.setAttribute("platform","test"):this._platform.isBrowser||f.setAttribute("platform","server"),this._document.body.appendChild(f),this._containerElement=f}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(te.K0),l.LFG(Qi.t4))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const Wo="cdk-overlay-connected-position-bounding-box",$r=/([A-Za-z%]+)$/;class Ir{constructor(h,a,f,v,M){this._viewportRuler=a,this._document=f,this._platform=v,this._overlayContainer=M,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $i.x,this._resizeSubscription=pt.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(h)}get positions(){return this._preferredPositions}attach(h){this._validatePositions(),h.hostElement.classList.add(Wo),this._overlayRef=h,this._boundingBox=h.hostElement,this._pane=h.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const h=this._originRect,a=this._overlayRect,f=this._viewportRect,v=this._containerRect,M=[];let ee;for(let Me of this._preferredPositions){let ut=this._getOriginPoint(h,v,Me),Yt=this._getOverlayPoint(ut,a,Me),Wt=this._getOverlayFit(Yt,a,f,Me);if(Wt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Me,ut);this._canFitWithFlexibleDimensions(Wt,Yt,f)?M.push({position:Me,origin:ut,overlayRect:a,boundingBoxRect:this._calculateBoundingBoxRect(ut,Me)}):(!ee||ee.overlayFit.visibleArea<Wt.visibleArea)&&(ee={overlayFit:Wt,overlayPoint:Yt,originPoint:ut,position:Me,overlayRect:a})}if(M.length){let Me=null,ut=-1;for(const Yt of M){const Wt=Yt.boundingBoxRect.width*Yt.boundingBoxRect.height*(Yt.position.weight||1);Wt>ut&&(ut=Wt,Me=Yt)}return this._isPushed=!1,void this._applyPosition(Me.position,Me.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ee.position,ee.originPoint);this._applyPosition(ee.position,ee.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Es(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Wo),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const h=this._lastPosition;if(h){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const a=this._getOriginPoint(this._originRect,this._containerRect,h);this._applyPosition(h,a)}else this.apply()}withScrollableContainers(h){return this._scrollables=h,this}withPositions(h){return this._preferredPositions=h,-1===h.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(h){return this._viewportMargin=h,this}withFlexibleDimensions(h=!0){return this._hasFlexibleDimensions=h,this}withGrowAfterOpen(h=!0){return this._growAfterOpen=h,this}withPush(h=!0){return this._canPush=h,this}withLockedPosition(h=!0){return this._positionLocked=h,this}setOrigin(h){return this._origin=h,this}withDefaultOffsetX(h){return this._offsetX=h,this}withDefaultOffsetY(h){return this._offsetY=h,this}withTransformOriginOn(h){return this._transformOriginSelector=h,this}_getOriginPoint(h,a,f){let v,M;if("center"==f.originX)v=h.left+h.width/2;else{const ee=this._isRtl()?h.right:h.left,Me=this._isRtl()?h.left:h.right;v="start"==f.originX?ee:Me}return a.left<0&&(v-=a.left),M="center"==f.originY?h.top+h.height/2:"top"==f.originY?h.top:h.bottom,a.top<0&&(M-=a.top),{x:v,y:M}}_getOverlayPoint(h,a,f){let v,M;return v="center"==f.overlayX?-a.width/2:"start"===f.overlayX?this._isRtl()?-a.width:0:this._isRtl()?0:-a.width,M="center"==f.overlayY?-a.height/2:"top"==f.overlayY?0:-a.height,{x:h.x+v,y:h.y+M}}_getOverlayFit(h,a,f,v){const M=Js(a);let{x:ee,y:Me}=h,ut=this._getOffset(v,"x"),Yt=this._getOffset(v,"y");ut&&(ee+=ut),Yt&&(Me+=Yt);let ji=0-Me,Ki=Me+M.height-f.height,ar=this._subtractOverflows(M.width,0-ee,ee+M.width-f.width),r=this._subtractOverflows(M.height,ji,Ki),e=ar*r;return{visibleArea:e,isCompletelyWithinViewport:M.width*M.height===e,fitsInViewportVertically:r===M.height,fitsInViewportHorizontally:ar==M.width}}_canFitWithFlexibleDimensions(h,a,f){if(this._hasFlexibleDimensions){const v=f.bottom-a.y,M=f.right-a.x,ee=zr(this._overlayRef.getConfig().minHeight),Me=zr(this._overlayRef.getConfig().minWidth),Yt=h.fitsInViewportHorizontally||null!=Me&&Me<=M;return(h.fitsInViewportVertically||null!=ee&&ee<=v)&&Yt}return!1}_pushOverlayOnScreen(h,a,f){if(this._previousPushAmount&&this._positionLocked)return{x:h.x+this._previousPushAmount.x,y:h.y+this._previousPushAmount.y};const v=Js(a),M=this._viewportRect,ee=Math.max(h.x+v.width-M.width,0),Me=Math.max(h.y+v.height-M.height,0),ut=Math.max(M.top-f.top-h.y,0),Yt=Math.max(M.left-f.left-h.x,0);let Wt=0,Bn=0;return Wt=v.width<=M.width?Yt||-ee:h.x<this._viewportMargin?M.left-f.left-h.x:0,Bn=v.height<=M.height?ut||-Me:h.y<this._viewportMargin?M.top-f.top-h.y:0,this._previousPushAmount={x:Wt,y:Bn},{x:h.x+Wt,y:h.y+Bn}}_applyPosition(h,a){if(this._setTransformOrigin(h),this._setOverlayElementStyles(a,h),this._setBoundingBoxStyles(a,h),h.panelClass&&this._addPanelClasses(h.panelClass),this._lastPosition=h,this._positionChanges.observers.length){const f=this._getScrollVisibility(),v=new Qs(h,f);this._positionChanges.next(v)}this._isInitialRender=!1}_setTransformOrigin(h){if(!this._transformOriginSelector)return;const a=this._boundingBox.querySelectorAll(this._transformOriginSelector);let f,v=h.overlayY;f="center"===h.overlayX?"center":this._isRtl()?"start"===h.overlayX?"right":"left":"start"===h.overlayX?"left":"right";for(let M=0;M<a.length;M++)a[M].style.transformOrigin=`${f} ${v}`}_calculateBoundingBoxRect(h,a){const f=this._viewportRect,v=this._isRtl();let M,ee,Me,Wt,Bn,ji;if("top"===a.overlayY)ee=h.y,M=f.height-ee+this._viewportMargin;else if("bottom"===a.overlayY)Me=f.height-h.y+2*this._viewportMargin,M=f.height-Me+this._viewportMargin;else{const Ki=Math.min(f.bottom-h.y+f.top,h.y),ar=this._lastBoundingBoxSize.height;M=2*Ki,ee=h.y-Ki,M>ar&&!this._isInitialRender&&!this._growAfterOpen&&(ee=h.y-ar/2)}if("end"===a.overlayX&&!v||"start"===a.overlayX&&v)ji=f.width-h.x+this._viewportMargin,Wt=h.x-this._viewportMargin;else if("start"===a.overlayX&&!v||"end"===a.overlayX&&v)Bn=h.x,Wt=f.right-h.x;else{const Ki=Math.min(f.right-h.x+f.left,h.x),ar=this._lastBoundingBoxSize.width;Wt=2*Ki,Bn=h.x-Ki,Wt>ar&&!this._isInitialRender&&!this._growAfterOpen&&(Bn=h.x-ar/2)}return{top:ee,left:Bn,bottom:Me,right:ji,width:Wt,height:M}}_setBoundingBoxStyles(h,a){const f=this._calculateBoundingBoxRect(h,a);!this._isInitialRender&&!this._growAfterOpen&&(f.height=Math.min(f.height,this._lastBoundingBoxSize.height),f.width=Math.min(f.width,this._lastBoundingBoxSize.width));const v={};if(this._hasExactPosition())v.top=v.left="0",v.bottom=v.right=v.maxHeight=v.maxWidth="",v.width=v.height="100%";else{const M=this._overlayRef.getConfig().maxHeight,ee=this._overlayRef.getConfig().maxWidth;v.height=(0,Se.HM)(f.height),v.top=(0,Se.HM)(f.top),v.bottom=(0,Se.HM)(f.bottom),v.width=(0,Se.HM)(f.width),v.left=(0,Se.HM)(f.left),v.right=(0,Se.HM)(f.right),v.alignItems="center"===a.overlayX?"center":"end"===a.overlayX?"flex-end":"flex-start",v.justifyContent="center"===a.overlayY?"center":"bottom"===a.overlayY?"flex-end":"flex-start",M&&(v.maxHeight=(0,Se.HM)(M)),ee&&(v.maxWidth=(0,Se.HM)(ee))}this._lastBoundingBoxSize=f,Es(this._boundingBox.style,v)}_resetBoundingBoxStyles(){Es(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Es(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(h,a){const f={},v=this._hasExactPosition(),M=this._hasFlexibleDimensions,ee=this._overlayRef.getConfig();if(v){const Wt=this._viewportRuler.getViewportScrollPosition();Es(f,this._getExactOverlayY(a,h,Wt)),Es(f,this._getExactOverlayX(a,h,Wt))}else f.position="static";let Me="",ut=this._getOffset(a,"x"),Yt=this._getOffset(a,"y");ut&&(Me+=`translateX(${ut}px) `),Yt&&(Me+=`translateY(${Yt}px)`),f.transform=Me.trim(),ee.maxHeight&&(v?f.maxHeight=(0,Se.HM)(ee.maxHeight):M&&(f.maxHeight="")),ee.maxWidth&&(v?f.maxWidth=(0,Se.HM)(ee.maxWidth):M&&(f.maxWidth="")),Es(this._pane.style,f)}_getExactOverlayY(h,a,f){let v={top:"",bottom:""},M=this._getOverlayPoint(a,this._overlayRect,h);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,f)),"bottom"===h.overlayY?v.bottom=this._document.documentElement.clientHeight-(M.y+this._overlayRect.height)+"px":v.top=(0,Se.HM)(M.y),v}_getExactOverlayX(h,a,f){let ee,v={left:"",right:""},M=this._getOverlayPoint(a,this._overlayRect,h);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,f)),ee=this._isRtl()?"end"===h.overlayX?"left":"right":"end"===h.overlayX?"right":"left","right"===ee?v.right=this._document.documentElement.clientWidth-(M.x+this._overlayRect.width)+"px":v.left=(0,Se.HM)(M.x),v}_getScrollVisibility(){const h=this._getOriginRect(),a=this._pane.getBoundingClientRect(),f=this._scrollables.map(v=>v.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:na(h,f),isOriginOutsideView:gs(h,f),isOverlayClipped:na(a,f),isOverlayOutsideView:gs(a,f)}}_subtractOverflows(h,...a){return a.reduce((f,v)=>f-Math.max(v,0),h)}_getNarrowedViewportRect(){const h=this._document.documentElement.clientWidth,a=this._document.documentElement.clientHeight,f=this._viewportRuler.getViewportScrollPosition();return{top:f.top+this._viewportMargin,left:f.left+this._viewportMargin,right:f.left+h-this._viewportMargin,bottom:f.top+a-this._viewportMargin,width:h-2*this._viewportMargin,height:a-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(h,a){return"x"===a?null==h.offsetX?this._offsetX:h.offsetX:null==h.offsetY?this._offsetY:h.offsetY}_validatePositions(){}_addPanelClasses(h){this._pane&&(0,Se.Eq)(h).forEach(a=>{""!==a&&-1===this._appliedPanelClasses.indexOf(a)&&(this._appliedPanelClasses.push(a),this._pane.classList.add(a))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(h=>{this._pane.classList.remove(h)}),this._appliedPanelClasses=[])}_getOriginRect(){const h=this._origin;if(h instanceof l.SBq)return h.nativeElement.getBoundingClientRect();if(h instanceof Element)return h.getBoundingClientRect();const a=h.width||0,f=h.height||0;return{top:h.y,bottom:h.y+f,left:h.x,right:h.x+a,height:f,width:a}}}function Es(u,h){for(let a in h)h.hasOwnProperty(a)&&(u[a]=h[a]);return u}function zr(u){if("number"!=typeof u&&null!=u){const[h,a]=u.split($r);return a&&"px"!==a?null:parseFloat(h)}return u||null}function Js(u){return{top:Math.floor(u.top),right:Math.floor(u.right),bottom:Math.floor(u.bottom),left:Math.floor(u.left),width:Math.floor(u.width),height:Math.floor(u.height)}}const Wr="cdk-global-overlay-wrapper";class Ni{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(h){const a=h.getConfig();this._overlayRef=h,this._width&&!a.width&&h.updateSize({width:this._width}),this._height&&!a.height&&h.updateSize({height:this._height}),h.hostElement.classList.add(Wr),this._isDisposed=!1}top(h=""){return this._bottomOffset="",this._topOffset=h,this._alignItems="flex-start",this}left(h=""){return this._rightOffset="",this._leftOffset=h,this._justifyContent="flex-start",this}bottom(h=""){return this._topOffset="",this._bottomOffset=h,this._alignItems="flex-end",this}right(h=""){return this._leftOffset="",this._rightOffset=h,this._justifyContent="flex-end",this}width(h=""){return this._overlayRef?this._overlayRef.updateSize({width:h}):this._width=h,this}height(h=""){return this._overlayRef?this._overlayRef.updateSize({height:h}):this._height=h,this}centerHorizontally(h=""){return this.left(h),this._justifyContent="center",this}centerVertically(h=""){return this.top(h),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const h=this._overlayRef.overlayElement.style,a=this._overlayRef.hostElement.style,f=this._overlayRef.getConfig(),{width:v,height:M,maxWidth:ee,maxHeight:Me}=f,ut=!("100%"!==v&&"100vw"!==v||ee&&"100%"!==ee&&"100vw"!==ee),Yt=!("100%"!==M&&"100vh"!==M||Me&&"100%"!==Me&&"100vh"!==Me);h.position=this._cssPosition,h.marginLeft=ut?"0":this._leftOffset,h.marginTop=Yt?"0":this._topOffset,h.marginBottom=this._bottomOffset,h.marginRight=this._rightOffset,ut?a.justifyContent="flex-start":"center"===this._justifyContent?a.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?a.justifyContent="flex-end":"flex-end"===this._justifyContent&&(a.justifyContent="flex-start"):a.justifyContent=this._justifyContent,a.alignItems=Yt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const h=this._overlayRef.overlayElement.style,a=this._overlayRef.hostElement,f=a.style;a.classList.remove(Wr),f.justifyContent=f.alignItems=h.marginTop=h.marginBottom=h.marginLeft=h.marginRight=h.position="",this._overlayRef=null,this._isDisposed=!0}}let Xs=(()=>{class u{constructor(a,f,v,M){this._viewportRuler=a,this._document=f,this._platform=v,this._overlayContainer=M}global(){return new Ni}flexibleConnectedTo(a){return new Ir(a,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(hi.rL),l.LFG(te.K0),l.LFG(Qi.t4),l.LFG(Hr))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),vs=(()=>{class u{constructor(a){this._attachedOverlays=[],this._document=a}ngOnDestroy(){this.detach()}add(a){this.remove(a),this._attachedOverlays.push(a)}remove(a){const f=this._attachedOverlays.indexOf(a);f>-1&&this._attachedOverlays.splice(f,1),0===this._attachedOverlays.length&&this.detach()}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(te.K0))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),Li=(()=>{class u extends vs{constructor(a,f){super(a),this._ngZone=f,this._keydownListener=v=>{const M=this._attachedOverlays;for(let ee=M.length-1;ee>-1;ee--)if(M[ee]._keydownEvents.observers.length>0){const Me=M[ee]._keydownEvents;this._ngZone?this._ngZone.run(()=>Me.next(v)):Me.next(v);break}}}add(a){super.add(a),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(te.K0),l.LFG(l.R0b,8))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),Cs=(()=>{class u extends vs{constructor(a,f,v){super(a),this._platform=f,this._ngZone=v,this._cursorStyleIsSet=!1,this._pointerDownListener=M=>{this._pointerDownEventTarget=(0,Qi.sA)(M)},this._clickListener=M=>{const ee=(0,Qi.sA)(M),Me="click"===M.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ee;this._pointerDownEventTarget=null;const ut=this._attachedOverlays.slice();for(let Yt=ut.length-1;Yt>-1;Yt--){const Wt=ut[Yt];if(Wt._outsidePointerEvents.observers.length<1||!Wt.hasAttached())continue;if(Wt.overlayElement.contains(ee)||Wt.overlayElement.contains(Me))break;const Bn=Wt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Bn.next(M)):Bn.next(M)}}}add(a){if(super.add(a),!this._isAttached){const f=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(f)):this._addEventListeners(f),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=f.style.cursor,f.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const a=this._document.body;a.removeEventListener("pointerdown",this._pointerDownListener,!0),a.removeEventListener("click",this._clickListener,!0),a.removeEventListener("auxclick",this._clickListener,!0),a.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(a.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(a){a.addEventListener("pointerdown",this._pointerDownListener,!0),a.addEventListener("click",this._clickListener,!0),a.addEventListener("auxclick",this._clickListener,!0),a.addEventListener("contextmenu",this._clickListener,!0)}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(te.K0),l.LFG(Qi.t4),l.LFG(l.R0b,8))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),Os=0,_r=(()=>{class u{constructor(a,f,v,M,ee,Me,ut,Yt,Wt,Bn,ji){this.scrollStrategies=a,this._overlayContainer=f,this._componentFactoryResolver=v,this._positionBuilder=M,this._keyboardDispatcher=ee,this._injector=Me,this._ngZone=ut,this._document=Yt,this._directionality=Wt,this._location=Bn,this._outsideClickDispatcher=ji}create(a){const f=this._createHostElement(),v=this._createPaneElement(f),M=this._createPortalOutlet(v),ee=new ls(a);return ee.direction=ee.direction||this._directionality.value,new ys(M,f,v,ee,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(a){const f=this._document.createElement("div");return f.id="cdk-overlay-"+Os++,f.classList.add("cdk-overlay-pane"),a.appendChild(f),f}_createHostElement(){const a=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalOutlet(a){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new vt(a,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(ms),l.LFG(Hr),l.LFG(l._Vd),l.LFG(Xs),l.LFG(Li),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(te.K0),l.LFG(ki.Is),l.LFG(te.Ye),l.LFG(Cs))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})();const eo=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Bs=new l.OlP("cdk-connected-overlay-scroll-strategy");let Vs=(()=>{class u{constructor(a){this.elementRef=a}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.SBq))},u.\u0275dir=l.lG2({type:u,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),u})(),us=(()=>{class u{constructor(a,f,v,M,ee){this._overlay=a,this._dir=ee,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=pt.w0.EMPTY,this._attachSubscription=pt.w0.EMPTY,this._detachSubscription=pt.w0.EMPTY,this._positionSubscription=pt.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new Qr(f,v),this._scrollStrategyFactory=M,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(a){this._offsetX=a,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(a){this._offsetY=a,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(a){this._hasBackdrop=(0,Se.Ig)(a)}get lockPosition(){return this._lockPosition}set lockPosition(a){this._lockPosition=(0,Se.Ig)(a)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(a){this._flexibleDimensions=(0,Se.Ig)(a)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(a){this._growAfterOpen=(0,Se.Ig)(a)}get push(){return this._push}set push(a){this._push=(0,Se.Ig)(a)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(a){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),a.origin&&this.open&&this._position.apply()),a.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=eo);const a=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=a.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=a.detachments().subscribe(()=>this.detach.emit()),a.keydownEvents().subscribe(f=>{this.overlayKeydown.next(f),f.keyCode===Hi.hY&&!this.disableClose&&!(0,Hi.Vb)(f)&&(f.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(f=>{this.overlayOutsideClick.next(f)})}_buildConfig(){const a=this._position=this.positionStrategy||this._createPositionStrategy(),f=new ls({direction:this._dir,positionStrategy:a,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(f.width=this.width),(this.height||0===this.height)&&(f.height=this.height),(this.minWidth||0===this.minWidth)&&(f.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(f.minHeight=this.minHeight),this.backdropClass&&(f.backdropClass=this.backdropClass),this.panelClass&&(f.panelClass=this.panelClass),f}_updatePositionStrategy(a){const f=this.positions.map(v=>({originX:v.originX,originY:v.originY,overlayX:v.overlayX,overlayY:v.overlayY,offsetX:v.offsetX||this.offsetX,offsetY:v.offsetY||this.offsetY,panelClass:v.panelClass||void 0}));return a.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(f).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const a=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(a),a}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Vs?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(a=>{this.backdropClick.emit(a)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function kr(u,h=!1){return(0,Nr.e)((a,f)=>{let v=0;a.subscribe((0,ma.x)(f,M=>{const ee=u(M,v++);(ee||h)&&f.next(M),!ee&&f.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(a=>{this.positionChange.emit(a),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(_r),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(Bs),l.Y36(ki.Is,8))},u.\u0275dir=l.lG2({type:u,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[l.TTD]}),u})();const bs={provide:Bs,deps:[_r],useFactory:function Us(u){return()=>u.scrollStrategies.reposition()}};let li=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({providers:[_r,bs],imports:[[ki.vT,_i,hi.Cl],hi.Cl]}),u})();var re=O(8255),$=O(449),fe=O(9770),et=O(8675),Tt=O(3900),Bt=O(1884),qt=O(1777);const qi=["trigger"],Si=["panel"];function yi(u,h){if(1&u&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&u){const a=l.oxw();l.xp6(1),l.Oqu(a.placeholder)}}function fi(u,h){if(1&u&&(l.TgZ(0,"span",12),l._uU(1),l.qZA()),2&u){const a=l.oxw(2);l.xp6(1),l.Oqu(a.triggerValue)}}function Cr(u,h){1&u&&l.Hsn(0,0,["*ngSwitchCase","true"])}function Fi(u,h){if(1&u&&(l.TgZ(0,"span",9),l.YNc(1,fi,2,1,"span",10),l.YNc(2,Cr,1,0,"ng-content",11),l.qZA()),2&u){const a=l.oxw();l.Q6J("ngSwitch",!!a.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function sr(u,h){if(1&u){const a=l.EpF();l.TgZ(0,"div",13)(1,"div",14,15),l.NdJ("@transformPanel.done",function(v){return l.CHM(a),l.oxw()._panelDoneAnimatingStream.next(v.toState)})("keydown",function(v){return l.CHM(a),l.oxw()._handleKeydown(v)}),l.Hsn(3,1),l.qZA()()}if(2&u){const a=l.oxw();l.Q6J("@transformPanelWrap",void 0),l.xp6(1),l.Gre("mat-select-panel ",a._getPanelTheme(),""),l.Udp("transform-origin",a._transformOrigin)("font-size",a._triggerFontSize,"px"),l.Q6J("ngClass",a.panelClass)("@transformPanel",a.multiple?"showing-multiple":"showing"),l.uIk("id",a.id+"-panel")("aria-multiselectable",a.multiple)("aria-label",a.ariaLabel||null)("aria-labelledby",a._getPanelAriaLabelledby())}}const q=[[["mat-select-trigger"]],"*"],H=["mat-select-trigger","*"],F={transformPanelWrap:(0,qt.X$)("transformPanelWrap",[(0,qt.eR)("* => void",(0,qt.IO)("@transformPanel",[(0,qt.pV)()],{optional:!0}))]),transformPanel:(0,qt.X$)("transformPanel",[(0,qt.SB)("void",(0,qt.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,qt.SB)("showing",(0,qt.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,qt.SB)("showing-multiple",(0,qt.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,qt.eR)("void => *",(0,qt.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,qt.eR)("* => void",(0,qt.jt)("100ms 25ms linear",(0,qt.oB)({opacity:0})))])};let yr=0;const lr=new l.OlP("mat-select-scroll-strategy"),Io=new l.OlP("MAT_SELECT_CONFIG"),Ds={provide:lr,deps:[_r],useFactory:function Za(u){return()=>u.scrollStrategies.reposition()}};class _a{constructor(h,a){this.source=h,this.value=a}}const Ko=(0,ce.Kr)((0,ce.sb)((0,ce.Id)((0,ce.FD)(class{constructor(u,h,a,f,v){this._elementRef=u,this._defaultErrorStateMatcher=h,this._parentForm=a,this._parentFormGroup=f,this.ngControl=v}})))),gl=new l.OlP("MatSelectTrigger");let So=(()=>{class u extends Ko{constructor(a,f,v,M,ee,Me,ut,Yt,Wt,Bn,ji,Ki,ar,r){var e,n,o;super(ee,M,ut,Yt,Bn),this._viewportRuler=a,this._changeDetectorRef=f,this._ngZone=v,this._dir=Me,this._parentFormField=Wt,this._liveAnnouncer=ar,this._defaultOptions=r,this._panelOpen=!1,this._compareWith=(d,_)=>d===_,this._uid="mat-select-"+yr++,this._triggerAriaLabelledBy=null,this._destroy=new $i.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+yr++,this._panelDoneAnimatingStream=new $i.x,this._overlayPanelClass=(null===(e=this._defaultOptions)||void 0===e?void 0:e.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(o=null===(n=this._defaultOptions)||void 0===n?void 0:n.disableOptionCentering)&&void 0!==o&&o,this.ariaLabel="",this.optionSelectionChanges=(0,fe.P)(()=>{const d=this.options;return d?d.changes.pipe((0,et.O)(d),(0,Tt.w)(()=>(0,ur.T)(...d.map(_=>_.onSelectionChange)))):this._ngZone.onStable.pipe((0,le.q)(1),(0,Tt.w)(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe((0,lt.h)(d=>d),(0,Le.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,lt.h)(d=>!d),(0,Le.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==r?void 0:r.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=r.typeaheadDebounceInterval),this._scrollStrategyFactory=Ki,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ji)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(a){this._placeholder=a,this.stateChanges.next()}get required(){var a,f,v,M;return null!==(M=null!==(a=this._required)&&void 0!==a?a:null===(v=null===(f=this.ngControl)||void 0===f?void 0:f.control)||void 0===v?void 0:v.hasValidator(X.kI.required))&&void 0!==M&&M}set required(a){this._required=(0,Se.Ig)(a),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(a){this._multiple=(0,Se.Ig)(a)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(a){this._disableOptionCentering=(0,Se.Ig)(a)}get compareWith(){return this._compareWith}set compareWith(a){this._compareWith=a,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(a){this._assignValue(a)&&this._onChange(a)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(a){this._typeaheadDebounceInterval=(0,Se.su)(a)}get id(){return this._id}set id(a){this._id=a||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new $.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Bt.x)(),(0,wi.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,wi.R)(this._destroy)).subscribe(a=>{a.added.forEach(f=>f.select()),a.removed.forEach(f=>f.deselect())}),this.options.changes.pipe((0,et.O)(null),(0,wi.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const a=this._getTriggerAriaLabelledby(),f=this.ngControl;if(a!==this._triggerAriaLabelledBy){const v=this._elementRef.nativeElement;this._triggerAriaLabelledBy=a,a?v.setAttribute("aria-labelledby",a):v.removeAttribute("aria-labelledby")}f&&(this._previousControl!==f.control&&(void 0!==this._previousControl&&null!==f.disabled&&f.disabled!==this.disabled&&(this.disabled=f.disabled),this._previousControl=f.control),this.updateErrorState())}ngOnChanges(a){a.disabled&&this.stateChanges.next(),a.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(a){this._assignValue(a)}registerOnChange(a){this._onChange=a}registerOnTouched(a){this._onTouched=a}setDisabledState(a){this.disabled=a,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var a,f;return this.multiple?(null===(a=this._selectionModel)||void 0===a?void 0:a.selected)||[]:null===(f=this._selectionModel)||void 0===f?void 0:f.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const a=this._selectionModel.selected.map(f=>f.viewValue);return this._isRtl()&&a.reverse(),a.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(a){this.disabled||(this.panelOpen?this._handleOpenKeydown(a):this._handleClosedKeydown(a))}_handleClosedKeydown(a){const f=a.keyCode,v=f===Hi.JH||f===Hi.LH||f===Hi.oh||f===Hi.SV,M=f===Hi.K5||f===Hi.L_,ee=this._keyManager;if(!ee.isTyping()&&M&&!(0,Hi.Vb)(a)||(this.multiple||a.altKey)&&v)a.preventDefault(),this.open();else if(!this.multiple){const Me=this.selected;ee.onKeydown(a);const ut=this.selected;ut&&Me!==ut&&this._liveAnnouncer.announce(ut.viewValue,1e4)}}_handleOpenKeydown(a){const f=this._keyManager,v=a.keyCode,M=v===Hi.JH||v===Hi.LH,ee=f.isTyping();if(M&&a.altKey)a.preventDefault(),this.close();else if(ee||v!==Hi.K5&&v!==Hi.L_||!f.activeItem||(0,Hi.Vb)(a))if(!ee&&this._multiple&&v===Hi.A&&a.ctrlKey){a.preventDefault();const Me=this.options.some(ut=>!ut.disabled&&!ut.selected);this.options.forEach(ut=>{ut.disabled||(Me?ut.select():ut.deselect())})}else{const Me=f.activeItemIndex;f.onKeydown(a),this._multiple&&M&&a.shiftKey&&f.activeItem&&f.activeItemIndex!==Me&&f.activeItem._selectViaInteraction()}else a.preventDefault(),f.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,le.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(a){if(this._selectionModel.selected.forEach(f=>f.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&a)Array.isArray(a),a.forEach(f=>this._selectOptionByValue(f)),this._sortValues();else{const f=this._selectOptionByValue(a);f?this._keyManager.updateActiveItem(f):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(a){const f=this.options.find(v=>{if(this._selectionModel.isSelected(v))return!1;try{return null!=v.value&&this._compareWith(v.value,a)}catch(M){return!1}});return f&&this._selectionModel.select(f),f}_assignValue(a){return!!(a!==this._value||this._multiple&&Array.isArray(a))&&(this.options&&this._setSelectionByValue(a),this._value=a,!0)}_initKeyManager(){this._keyManager=new re.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,wi.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,wi.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const a=(0,ur.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,wi.R)(a)).subscribe(f=>{this._onSelect(f.source,f.isUserInput),f.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ur.T)(...this.options.map(f=>f._stateChanges)).pipe((0,wi.R)(a)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(a,f){const v=this._selectionModel.isSelected(a);null!=a.value||this._multiple?(v!==a.selected&&(a.selected?this._selectionModel.select(a):this._selectionModel.deselect(a)),f&&this._keyManager.setActiveItem(a),this.multiple&&(this._sortValues(),f&&this.focus())):(a.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(a.value)),v!==this._selectionModel.isSelected(a)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const a=this.options.toArray();this._selectionModel.sort((f,v)=>this.sortComparator?this.sortComparator(f,v,a):a.indexOf(f)-a.indexOf(v)),this.stateChanges.next()}}_propagateChanges(a){let f=null;f=this.multiple?this.selected.map(v=>v.value):this.selected?this.selected.value:a,this._value=f,this.valueChange.emit(f),this._onChange(f),this.selectionChange.emit(this._getChangeEvent(f)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var a;return!this._panelOpen&&!this.disabled&&(null===(a=this.options)||void 0===a?void 0:a.length)>0}focus(a){this._elementRef.nativeElement.focus(a)}_getPanelAriaLabelledby(){var a;if(this.ariaLabel)return null;const f=null===(a=this._parentFormField)||void 0===a?void 0:a.getLabelId();return this.ariaLabelledby?(f?f+" ":"")+this.ariaLabelledby:f}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var a;if(this.ariaLabel)return null;const f=null===(a=this._parentFormField)||void 0===a?void 0:a.getLabelId();let v=(f?f+" ":"")+this._valueId;return this.ariaLabelledby&&(v+=" "+this.ariaLabelledby),v}_panelDoneAnimating(a){this.openedChange.emit(a)}setDescribedByIds(a){this._ariaDescribedby=a.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(hi.rL),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(ce.rD),l.Y36(l.SBq),l.Y36(ki.Is,8),l.Y36(X.F,8),l.Y36(X.sg,8),l.Y36(Ai.G_,8),l.Y36(X.a5,10),l.$8M("tabindex"),l.Y36(lr),l.Y36(re.Kd),l.Y36(Io,8))},u.\u0275dir=l.lG2({type:u,viewQuery:function(a,f){if(1&a&&(l.Gf(qi,5),l.Gf(Si,5),l.Gf(us,5)),2&a){let v;l.iGM(v=l.CRH())&&(f.trigger=v.first),l.iGM(v=l.CRH())&&(f.panel=v.first),l.iGM(v=l.CRH())&&(f._overlayDir=v.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),u})(),ws=(()=>{class u extends So{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(a,f,v){const M=this._getItemHeight();return Math.min(Math.max(0,M*a-f+M/2),v)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,wi.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,le.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(a){const f=(0,ce.CB)(a,this.options,this.optionGroups),v=this._getItemHeight();this.panel.nativeElement.scrollTop=0===a&&1===f?0:(0,ce.jH)((a+f)*v,v,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(a){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(a)}_getChangeEvent(a){return new _a(this,a)}_calculateOverlayOffsetX(){const a=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),f=this._viewportRuler.getViewportSize(),v=this._isRtl(),M=this.multiple?56:32;let ee;if(this.multiple)ee=40;else if(this.disableOptionCentering)ee=16;else{let Yt=this._selectionModel.selected[0]||this.options.first;ee=Yt&&Yt.group?32:16}v||(ee*=-1);const Me=0-(a.left+ee-(v?M:0)),ut=a.right+ee-f.width+(v?0:M);Me>0?ee+=Me+8:ut>0&&(ee-=ut+8),this._overlayDir.offsetX=Math.round(ee),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(a,f,v){const M=this._getItemHeight(),ee=(M-this._triggerRect.height)/2,Me=Math.floor(256/M);let ut;return this.disableOptionCentering?0:(ut=0===this._scrollTop?a*M:this._scrollTop===v?(a-(this._getItemCount()-Me))*M+(M-(this._getItemCount()*M-256)%M):f-M/2,Math.round(-1*ut-ee))}_checkOverlayWithinViewport(a){const f=this._getItemHeight(),v=this._viewportRuler.getViewportSize(),M=this._triggerRect.top-8,ee=v.height-this._triggerRect.bottom-8,Me=Math.abs(this._offsetY),Yt=Math.min(this._getItemCount()*f,256)-Me-this._triggerRect.height;Yt>ee?this._adjustPanelUp(Yt,ee):Me>M?this._adjustPanelDown(Me,M,a):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(a,f){const v=Math.round(a-f);this._scrollTop-=v,this._offsetY-=v,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(a,f,v){const M=Math.round(a-f);if(this._scrollTop+=M,this._offsetY+=M,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=v)return this._scrollTop=v,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const a=this._getItemHeight(),f=this._getItemCount(),v=Math.min(f*a,256),ee=f*a-v;let Me;Me=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),Me+=(0,ce.CB)(Me,this.options,this.optionGroups);const ut=v/2;this._scrollTop=this._calculateOverlayScroll(Me,ut,ee),this._offsetY=this._calculateOverlayOffsetY(Me,ut,ee),this._checkOverlayWithinViewport(ee)}_getOriginBasedOnOption(){const a=this._getItemHeight(),f=(a-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-f+a/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return u.\u0275fac=function(){let h;return function(f){return(h||(h=l.n5z(u)))(f||u)}}(),u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-select"]],contentQueries:function(a,f,v){if(1&a&&(l.Suo(v,gl,5),l.Suo(v,ce.ey,5),l.Suo(v,ce.K7,5)),2&a){let M;l.iGM(M=l.CRH())&&(f.customTrigger=M.first),l.iGM(M=l.CRH())&&(f.options=M),l.iGM(M=l.CRH())&&(f.optionGroups=M)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(a,f){1&a&&l.NdJ("keydown",function(M){return f._handleKeydown(M)})("focus",function(){return f._onFocus()})("blur",function(){return f._onBlur()}),2&a&&(l.uIk("id",f.id)("tabindex",f.tabIndex)("aria-controls",f.panelOpen?f.id+"-panel":null)("aria-expanded",f.panelOpen)("aria-label",f.ariaLabel||null)("aria-required",f.required.toString())("aria-disabled",f.disabled.toString())("aria-invalid",f.errorState)("aria-describedby",f._ariaDescribedby||null)("aria-activedescendant",f._getAriaActiveDescendant()),l.ekj("mat-select-disabled",f.disabled)("mat-select-invalid",f.errorState)("mat-select-required",f.required)("mat-select-empty",f.empty)("mat-select-multiple",f.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:Ai.Eo,useExisting:u},{provide:ce.HF,useExisting:u}]),l.qOj],ngContentSelectors:H,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(a,f){if(1&a&&(l.F$t(q),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return f.toggle()}),l.TgZ(3,"div",2),l.YNc(4,yi,2,1,"span",3),l.YNc(5,Fi,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"div",6),l.qZA()(),l.YNc(8,sr,4,14,"ng-template",7),l.NdJ("backdropClick",function(){return f.close()})("attach",function(){return f._onAttached()})("detach",function(){return f.close()})),2&a){const v=l.MAs(1);l.uIk("aria-owns",f.panelOpen?f.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",f.empty),l.uIk("id",f._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(3),l.Q6J("cdkConnectedOverlayPanelClass",f._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",f._scrollStrategy)("cdkConnectedOverlayOrigin",v)("cdkConnectedOverlayOpen",f.panelOpen)("cdkConnectedOverlayPositions",f._positions)("cdkConnectedOverlayMinWidth",null==f._triggerRect?null:f._triggerRect.width)("cdkConnectedOverlayOffsetY",f._offsetY)}},directives:[Vs,te.RF,te.n9,te.ED,us,te.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[F.transformPanelWrap,F.transformPanel]},changeDetection:0}),u})(),Xr=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({providers:[Ds],imports:[[te.ez,li,ce.Ng,ce.BQ],hi.ZD,Ai.lN,ce.Ng,ce.BQ]}),u})();var to=O(773),_o=O(6360);const J=["*",[["mat-card-footer"]]],w=["*","mat-card-footer"],D=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],V=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let qe=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275dir=l.lG2({type:u,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),u})(),Je=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275dir=l.lG2({type:u,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),u})(),Pt=(()=>{class u{constructor(){this.align="start"}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275dir=l.lG2({type:u,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(a,f){2&a&&l.ekj("mat-card-actions-align-end","end"===f.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),u})(),vr=(()=>{class u{constructor(a){this._animationMode=a}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(_o.Qb,8))},u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(a,f){2&a&&l.ekj("_mat-animation-noopable","NoopAnimations"===f._animationMode)},exportAs:["matCard"],ngContentSelectors:w,decls:2,vars:0,template:function(a,f){1&a&&(l.F$t(J),l.Hsn(0),l.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),u})(),hr=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:V,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(a,f){1&a&&(l.F$t(D),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),u})(),nr=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[ce.BQ],ce.BQ]}),u})();function Hs(u,h){if(1&u&&(l.TgZ(0,"mat-option",7),l._uU(1),l.qZA()),2&u){const a=h.$implicit;l.Q6J("value",a),l.xp6(1),l.Oqu(a.name)}}function Xi(u,h){1&u&&(l.TgZ(0,"span",8),l._UZ(1,"mat-spinner"),l.qZA())}function Br(u,h){if(1&u){const a=l.EpF();l.TgZ(0,"mat-card",9),l.NdJ("click",function(){return l.CHM(a),l.oxw().changeToFoam(!0)}),l.TgZ(1,"mat-card-header"),l._uU(2,"Check out our spray foam collection!"),l.qZA()()}}function qr(u,h){if(1&u){const a=l.EpF();l.TgZ(0,"mat-card",9),l.NdJ("click",function(){return l.CHM(a),l.oxw().changeToFoam(!1)}),l.TgZ(1,"mat-card-header"),l._uU(2,"Back to everything!"),l.qZA()()}}function To(u,h){if(1&u){const a=l.EpF();l.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),l._uU(3),l.qZA()(),l.TgZ(4,"mat-card-content"),l._UZ(5,"img",12),l.TgZ(6,"p"),l._uU(7),l.qZA(),l.TgZ(8,"p"),l._uU(9),l.qZA()(),l.TgZ(10,"mat-card-actions")(11,"button",13),l.NdJ("click",function(){const M=l.CHM(a).$implicit;return l.oxw(2).addToCart(M)}),l.TgZ(12,"mat-icon"),l._uU(13,"add_shopping_cart"),l.qZA(),l._uU(14,"Add to cart"),l.qZA()()()}if(2&u){const a=h.$implicit;l.xp6(3),l.Oqu(a.name),l.xp6(2),l.s9C("src",a.image,l.LSH),l.xp6(2),l.hij("",a.price," Ft"),l.xp6(2),l.Oqu(a.description)}}function js(u,h){if(1&u&&(l.TgZ(0,"div",10),l.YNc(1,To,15,4,"mat-card",11),l.qZA()),2&u){const a=l.oxw();l.xp6(1),l.Q6J("ngForOf",a.lista)}}function yo(u,h){if(1&u){const a=l.EpF();l.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),l._uU(3),l.qZA()(),l.TgZ(4,"mat-card-content"),l._UZ(5,"img",12),l.TgZ(6,"p"),l._uU(7),l.qZA(),l.TgZ(8,"p"),l._uU(9),l.qZA()(),l.TgZ(10,"mat-card-actions")(11,"button",13),l.NdJ("click",function(){const M=l.CHM(a).$implicit;return l.oxw(2).addToCart(M)}),l.TgZ(12,"mat-icon"),l._uU(13,"add_shopping_cart"),l.qZA(),l._uU(14,"Add to cart"),l.qZA()()()}if(2&u){const a=h.$implicit;l.xp6(3),l.Oqu(a.name),l.xp6(2),l.s9C("src",a.image,l.LSH),l.xp6(2),l.hij("",a.price," Ft"),l.xp6(2),l.Oqu(a.description)}}function Gs(u,h){if(1&u&&(l.TgZ(0,"div",10),l.YNc(1,yo,15,4,"mat-card",11),l.qZA()),2&u){const a=l.oxw();l.xp6(1),l.Q6J("ngForOf",a.foamLista)}}let $s=(()=>{class u{constructor(a,f,v){this.service=a,this.toastr=f,this.carserv=v,this.loading=!1,this.wannaFoam=!1,this.orderBys=[{id:"expensiveToCheap",name:"Expensive to cheap"},{id:"cheapToExpansive",name:"Cheap to expensive"},{id:"alpha",name:"Alphabetic"},{id:"alphaReverse",name:"Reverse alphabetic"}]}ngOnInit(){this.changeToFoam(!1),this.loading=!0,this.getItemsService("name","asc"),this.getFoamItemsService("name","asc")}getItemsService(a,f){this.service.getItems(a,f).subscribe(v=>{this.lista=v.map(M=>{this.loading=!1;const ee=M.payload.doc.data();return{id:M.payload.doc.id,description:ee.description,image:ee.image,name:ee.name,price:ee.price}})})}getFoamItemsService(a,f){this.service.getFoamItems(a,f).subscribe(v=>{this.foamLista=v.map(M=>{this.loading=!1;const ee=M.payload.doc.data();return{id:M.payload.doc.id,description:ee.description,image:ee.image,name:ee.name,price:ee.price}})})}changeOrder(){switch(this.chosenOrder.id){case"expensiveToCheap":this.getItemsService("price","desc");break;case"cheapToExpansive":this.getItemsService("price","asc");break;case"alpha":this.getItemsService("name","asc");break;case"alphaReverse":this.getItemsService("name","desc")}}changeToFoam(a){this.wannaFoam=a}addToCart(a){this.toastr.success(a.name+" has been added to your cart!","Cart"),this.carserv.addToCart(a)}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(Er.l),l.Y36(Fe._W),l.Y36(be.N))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-home"]],decls:14,vars:7,consts:[[1,"chooseDiv"],[1,"display-4"],[3,"ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","spinnerDiv",4,"ngIf"],["class","foam",3,"click",4,"ngIf"],["class","cardsDiv",4,"ngIf"],[3,"value"],[1,"spinnerDiv"],[1,"foam",3,"click"],[1,"cardsDiv"],[4,"ngFor","ngForOf"],[3,"src"],["mat-raised-button","","color","primary","type","submit",3,"click"]],template:function(a,f){1&a&&(l.TgZ(0,"div",0)(1,"h1",1),l._uU(2,"Home"),l.qZA(),l.TgZ(3,"mat-form-field")(4,"p"),l._uU(5,"Order by:"),l.qZA(),l.TgZ(6,"mat-select",2),l.NdJ("selectionChange",function(){return f.changeOrder()})("ngModelChange",function(M){return f.chosenOrder=M}),l.YNc(7,Hs,2,2,"mat-option",3),l.qZA()()(),l.YNc(8,Xi,2,0,"span",4),l.YNc(9,Br,3,0,"mat-card",5),l.YNc(10,qr,3,0,"mat-card",5),l._UZ(11,"br"),l.YNc(12,js,2,1,"div",6),l.YNc(13,Gs,2,1,"div",6)),2&a&&(l.xp6(6),l.Q6J("ngModel",f.chosenOrder),l.xp6(1),l.Q6J("ngForOf",f.orderBys),l.xp6(1),l.Q6J("ngIf",f.loading),l.xp6(1),l.Q6J("ngIf",!f.wannaFoam),l.xp6(1),l.Q6J("ngIf",f.wannaFoam),l.xp6(2),l.Q6J("ngIf",!f.wannaFoam),l.xp6(1),l.Q6J("ngIf",f.wannaFoam))},directives:[Ai.KE,ws,X.JJ,X.On,te.sg,ce.ey,te.O5,to.Ou,vr,hr,Je,qe,Pt,mi.lW,ti],styles:[".chooseDiv[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.cardsDiv[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-column-gap:16px;grid-row-gap:16px}mat-card[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{white-space:pre-line}@media (max-width: 768px){.cardsDiv[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}.foam[_ngcontent-%COMP%]{cursor:pointer;font-size:64px;display:flex;justify-content:center;align-items:center;line-height:normal;background-image:url(foam.49ca73f6bfb12c31.jpg);color:#000}"]}),u})();var lo=O(5861);const ei=[{path:"login",component:(()=>{class u{constructor(a,f,v,M,ee){this.userv=a,this.router=f,this.toastr=v,this.firestore=M,this.auth=ee,this.loginForm=new X.cw({email:new X.NI(null,[X.kI.email]),password:new X.NI(null,[X.kI.minLength(6)])})}ngOnInit(){}onSubmit(){var a=this;return(0,lo.Z)(function*(){localStorage.setItem("admin",JSON.stringify("false"));const f=a.loginForm.value;a.loginForm.valid&&a.userv.login(f.email,f.password).then(v=>{a.toastr.success("Logged in successfully!","Login"),a.router.navigateByUrl("home"),a.auth.onAuthStateChanged(M=>{M&&a.firestore.collection("users").doc(M.uid).valueChanges().subscribe(ee=>{a.userv.userData=ee,a.userv.userData.isAdmin?localStorage.setItem("admin",JSON.stringify("true")):localStorage.setItem("admin",JSON.stringify("false"))})})}).catch(v=>{a.toastr.error("Email or password is incorrect!","Login error")})})()}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(me),l.Y36(G.F0),l.Y36(Fe._W),l.Y36(Oe.ST),l.Y36(Be.zQ))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-login"]],decls:17,vars:2,consts:[[1,"formDiv"],[1,"display-4"],["autocomplete","off",3,"formGroup","ngSubmit"],["form","ngForm"],["type","hidden","name","id"],[1,"form-group"],["type","text","matInput","","name","email","placeholder","Email address","required","","formControlName","email",1,"form-control"],["type","password","matInput","","name","password","placeholder","Password","required","","formControlName","password",1,"form-control"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(a,f){if(1&a&&(l.TgZ(0,"div",0)(1,"h1",1),l._uU(2,"Welcome!"),l.qZA(),l.TgZ(3,"form",2,3),l.NdJ("ngSubmit",function(){return f.onSubmit()}),l._UZ(5,"input",4),l.TgZ(6,"mat-form-field",5)(7,"mat-label"),l._uU(8,"Email:"),l.qZA(),l._UZ(9,"input",6),l.qZA(),l.TgZ(10,"mat-form-field",5)(11,"mat-label"),l._uU(12,"Password:"),l.qZA(),l._UZ(13,"input",7),l.qZA(),l.TgZ(14,"div",5)(15,"button",8),l._uU(16,"Login"),l.qZA()()()()),2&a){const v=l.MAs(4);l.xp6(3),l.Q6J("formGroup",f.loginForm),l.xp6(12),l.Q6J("disabled",v.invalid)}},directives:[X._Y,X.JL,X.sg,Ai.KE,Ai.hX,Ar.Nt,X.Fj,X.Q7,X.JJ,X.u,mi.lW],styles:["form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}mat-form-field[_ngcontent-%COMP%]{width:64%}.formDiv[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#1e1e1e;padding:16px}input[_ngcontent-%COMP%]{font-size:24px}"]}),u})(),canActivate:[Mr]},{path:"register",component:(()=>{class u{constructor(a,f,v,M,ee){this.userv=a,this.router=f,this.toastr=v,this.firestore=M,this.auth=ee,this.registerForm=new X.cw({email:new X.NI(null,[X.kI.email]),password:new X.NI(null,[X.kI.minLength(6)]),address:new X.NI(""),name:new X.NI(""),phone:new X.NI("")})}ngOnInit(){}onSubmit(){return this.userv.register(this.registerForm.value.email,this.registerForm.value.password).then(a=>{this.toastr.success("Registered successfully!","Registration"),this.userv.login(this.registerForm.value.email,this.registerForm.value.password).then(f=>{this.auth.onAuthStateChanged(v=>{v&&this.firestore.collection("users").doc(v.uid).set({address:this.registerForm.value.address,email:this.registerForm.value.email,isAdmin:!1,name:this.registerForm.value.name,phone:this.registerForm.value.phone})}),this.router.navigate(["admin"])}).catch(f=>{this.toastr.error("Email or password is incorrect!","Login error")})}).catch(a=>{this.toastr.error("Incorrect data!","Can't register")})}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(me),l.Y36(G.F0),l.Y36(Fe._W),l.Y36(Oe.ST),l.Y36(Be.zQ))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-register"]],decls:19,vars:2,consts:[[1,"formDiv"],[1,"display-4"],["autocomplete","off",3,"formGroup","ngSubmit"],["form","ngForm"],["type","hidden","name","id"],[1,"form-group"],["type","text","matInput","","name","email","placeholder","Email address","required","","formControlName","email",1,"form-control"],["type","password","matInput","","name","password","placeholder","Password","required","","formControlName","password",1,"form-control"],["type","text","matInput","","name","name","placeholder","Full name","required","","formControlName","name",1,"form-control"],["type","text","matInput","","name","address","placeholder","Address","required","","formControlName","address",1,"form-control"],["type","text","matInput","","name","phone","placeholder","Phone number","required","","formControlName","phone",1,"form-control"],["mat-raised-button","","color","primary","type","submit",1,"btn","btn-lg","btn-block","btn-info",3,"disabled"]],template:function(a,f){if(1&a&&(l.TgZ(0,"div",0)(1,"h1",1),l._uU(2,"Register an account!"),l.qZA(),l.TgZ(3,"form",2,3),l.NdJ("ngSubmit",function(){return f.onSubmit()}),l._UZ(5,"input",4),l.TgZ(6,"mat-form-field",5),l._UZ(7,"input",6),l.qZA(),l.TgZ(8,"mat-form-field",5),l._UZ(9,"input",7),l.qZA(),l.TgZ(10,"mat-form-field",5),l._UZ(11,"input",8),l.qZA(),l.TgZ(12,"mat-form-field",5),l._UZ(13,"input",9),l.qZA(),l.TgZ(14,"mat-form-field",5),l._UZ(15,"input",10),l.qZA(),l.TgZ(16,"div",5)(17,"button",11),l._uU(18,"Register"),l.qZA()()()()),2&a){const v=l.MAs(4);l.xp6(3),l.Q6J("formGroup",f.registerForm),l.xp6(14),l.Q6J("disabled",v.invalid)}},directives:[X._Y,X.JL,X.sg,Ai.KE,Ar.Nt,X.Fj,X.Q7,X.JJ,X.u,mi.lW],styles:["form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}mat-form-field[_ngcontent-%COMP%]{width:64%}.formDiv[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#1e1e1e;padding:16px}input[_ngcontent-%COMP%]{font-size:24px}"]}),u})(),canActivate:[Mr]},{path:"home",component:$s},{path:"cart",component:Yn},{path:"admin",canActivate:[Oi],loadChildren:()=>O.e(438).then(O.bind(O,6438)).then(u=>u.ItemsAdminModule)},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-not-found"]],decls:11,vars:0,consts:[[1,"display-4"],["mat-raised-button","","color","primary"],["routerLink","/home"]],template:function(a,f){1&a&&(l.TgZ(0,"h1",0),l._uU(1,"Page not found!"),l.qZA(),l.TgZ(2,"div")(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),l._uU(6,"404 page not found!"),l.qZA()(),l.TgZ(7,"mat-card-actions")(8,"button",1)(9,"a",2),l._uU(10,"Back to home"),l.qZA()()()()())},directives:[vr,hr,Je,Pt,mi.lW,G.yS],styles:["div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}mat-card[_ngcontent-%COMP%]{height:10em;width:20em;display:flex;flex-direction:column;align-items:center;justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}"]}),u})()}];let ci=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[G.Bz.forRoot(ei)],G.Bz]}),u})();var fr=O(4968);function ts(u){return(0,Le.U)(()=>u)}var or=O(8372);const Or=["*"],er=["content"];function ia(u,h){if(1&u){const a=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){return l.CHM(a),l.oxw()._onBackdropClicked()}),l.qZA()}if(2&u){const a=l.oxw();l.ekj("mat-drawer-shown",a._isShowingBackdrop())}}function ml(u,h){1&u&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const Zt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],zi=["mat-drawer","mat-drawer-content","*"];function Rr(u,h){if(1&u){const a=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){return l.CHM(a),l.oxw()._onBackdropClicked()}),l.qZA()}if(2&u){const a=l.oxw();l.ekj("mat-drawer-shown",a._isShowingBackdrop())}}function no(u,h){1&u&&(l.TgZ(0,"mat-sidenav-content"),l.Hsn(1,2),l.qZA())}const Tn=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Jn=["mat-sidenav","mat-sidenav-content","*"],on={transformDrawer:(0,qt.X$)("transform",[(0,qt.SB)("open, open-instant",(0,qt.oB)({transform:"none",visibility:"visible"})),(0,qt.SB)("void",(0,qt.oB)({"box-shadow":"none",visibility:"hidden"})),(0,qt.eR)("void => open-instant",(0,qt.jt)("0ms")),(0,qt.eR)("void <=> open, open-instant => void",(0,qt.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},tn=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function ra(){return!1}}),br=new l.OlP("MAT_DRAWER_CONTAINER");let Po=(()=>{class u extends hi.PQ{constructor(a,f,v,M,ee){super(v,M,ee),this._changeDetectorRef=a,this._container=f}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>ya)),l.Y36(l.SBq),l.Y36(hi.mF),l.Y36(l.R0b))},u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(a,f){2&a&&l.Udp("margin-left",f._container._contentMargins.left,"px")("margin-right",f._container._contentMargins.right,"px")},features:[l._Bn([{provide:hi.PQ,useExisting:u}]),l.qOj],ngContentSelectors:Or,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),u})(),wc=(()=>{class u{constructor(a,f,v,M,ee,Me,ut,Yt){this._elementRef=a,this._focusTrapFactory=f,this._focusMonitor=v,this._platform=M,this._ngZone=ee,this._interactivityChecker=Me,this._doc=ut,this._container=Yt,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new $i.x,this._animationEnd=new $i.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe((0,lt.h)(Wt=>Wt),(0,Le.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,lt.h)(Wt=>Wt.fromState!==Wt.toState&&0===Wt.toState.indexOf("open")),ts(void 0)),this._closedStream=this.openedChange.pipe((0,lt.h)(Wt=>!Wt),(0,Le.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,lt.h)(Wt=>Wt.fromState!==Wt.toState&&"void"===Wt.toState),ts(void 0)),this._destroyed=new $i.x,this.onPositionChanged=new l.vpe,this._modeChanged=new $i.x,this.openedChange.subscribe(Wt=>{Wt?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,fr.R)(this._elementRef.nativeElement,"keydown").pipe((0,lt.h)(Wt=>Wt.keyCode===Hi.hY&&!this.disableClose&&!(0,Hi.Vb)(Wt)),(0,wi.R)(this._destroyed)).subscribe(Wt=>this._ngZone.run(()=>{this.close(),Wt.stopPropagation(),Wt.preventDefault()}))}),this._animationEnd.pipe((0,Bt.x)((Wt,Bn)=>Wt.fromState===Bn.fromState&&Wt.toState===Bn.toState)).subscribe(Wt=>{const{fromState:Bn,toState:ji}=Wt;(0===ji.indexOf("open")&&"void"===Bn||"void"===ji&&0===Bn.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(a){(a="end"===a?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(a),this._position=a,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(a){this._mode=a,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(a){this._disableClose=(0,Se.Ig)(a)}get autoFocus(){const a=this._autoFocus;return null==a?"side"===this.mode?"dialog":"first-tabbable":a}set autoFocus(a){("true"===a||"false"===a||null==a)&&(a=(0,Se.Ig)(a)),this._autoFocus=a}get opened(){return this._opened}set opened(a){this.toggle((0,Se.Ig)(a))}_forceFocus(a,f){this._interactivityChecker.isFocusable(a)||(a.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const v=()=>{a.removeEventListener("blur",v),a.removeEventListener("mousedown",v),a.removeAttribute("tabindex")};a.addEventListener("blur",v),a.addEventListener("mousedown",v)})),a.focus(f)}_focusByCssSelector(a,f){let v=this._elementRef.nativeElement.querySelector(a);v&&this._forceFocus(v,f)}_takeFocus(){if(!this._focusTrap)return;const a=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(f=>{!f&&"function"==typeof this._elementRef.nativeElement.focus&&a.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(a){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,a):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const a=this._doc.activeElement;return!!a&&this._elementRef.nativeElement.contains(a)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var a;this._focusTrap&&this._focusTrap.destroy(),null===(a=this._anchor)||void 0===a||a.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(a){return this.toggle(!0,a)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(a=!this.opened,f){a&&f&&(this._openedVia=f);const v=this._setOpen(a,!a&&this._isFocusWithinDrawer(),this._openedVia||"program");return a||(this._openedVia=null),v}_setOpen(a,f,v){return this._opened=a,a?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",f&&this._restoreFocus(v)),this._updateFocusTrapState(),new Promise(M=>{this.openedChange.pipe((0,le.q)(1)).subscribe(ee=>M(ee?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(a){const f=this._elementRef.nativeElement,v=f.parentNode;"end"===a?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),v.insertBefore(this._anchor,f)),v.appendChild(f)):this._anchor&&this._anchor.parentNode.insertBefore(f,this._anchor)}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.SBq),l.Y36(re.qV),l.Y36(re.tE),l.Y36(Qi.t4),l.Y36(l.R0b),l.Y36(re.ic),l.Y36(te.K0,8),l.Y36(br,8))},u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-drawer"]],viewQuery:function(a,f){if(1&a&&l.Gf(er,5),2&a){let v;l.iGM(v=l.CRH())&&(f._content=v.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(a,f){1&a&&l.WFA("@transform.start",function(M){return f._animationStarted.next(M)})("@transform.done",function(M){return f._animationEnd.next(M)}),2&a&&(l.uIk("align",null),l.d8E("@transform",f._animationState),l.ekj("mat-drawer-end","end"===f.position)("mat-drawer-over","over"===f.mode)("mat-drawer-push","push"===f.mode)("mat-drawer-side","side"===f.mode)("mat-drawer-opened",f.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Or,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(a,f){1&a&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},directives:[hi.PQ],encapsulation:2,data:{animation:[on.transformDrawer]},changeDetection:0}),u})(),ya=(()=>{class u{constructor(a,f,v,M,ee,Me=!1,ut){this._dir=a,this._element=f,this._ngZone=v,this._changeDetectorRef=M,this._animationMode=ut,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new $i.x,this._doCheckSubject=new $i.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new $i.x,a&&a.change.pipe((0,wi.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),ee.change().pipe((0,wi.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=Me}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(a){this._autosize=(0,Se.Ig)(a)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(a){this._backdropOverride=null==a?null:(0,Se.Ig)(a)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,et.O)(this._allDrawers),(0,wi.R)(this._destroyed)).subscribe(a=>{this._drawers.reset(a.filter(f=>!f._container||f._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,et.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(a=>{this._watchDrawerToggle(a),this._watchDrawerPosition(a),this._watchDrawerMode(a)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,or.b)(10),(0,wi.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(a=>a.open())}close(){this._drawers.forEach(a=>a.close())}updateContentMargins(){let a=0,f=0;if(this._left&&this._left.opened)if("side"==this._left.mode)a+=this._left._getWidth();else if("push"==this._left.mode){const v=this._left._getWidth();a+=v,f-=v}if(this._right&&this._right.opened)if("side"==this._right.mode)f+=this._right._getWidth();else if("push"==this._right.mode){const v=this._right._getWidth();f+=v,a-=v}a=a||null,f=f||null,(a!==this._contentMargins.left||f!==this._contentMargins.right)&&(this._contentMargins={left:a,right:f},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(a){a._animationStarted.pipe((0,lt.h)(f=>f.fromState!==f.toState),(0,wi.R)(this._drawers.changes)).subscribe(f=>{"open-instant"!==f.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==a.mode&&a.openedChange.pipe((0,wi.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(a.opened))}_watchDrawerPosition(a){!a||a.onPositionChanged.pipe((0,wi.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,le.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(a){a&&a._modeChanged.pipe((0,wi.R)((0,ur.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(a){const f=this._element.nativeElement.classList,v="mat-drawer-container-has-open";a?f.add(v):f.remove(v)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(a=>{"end"==a.position?this._end=a:this._start=a}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(a=>a&&!a.disableClose&&this._canHaveBackdrop(a)).forEach(a=>a._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(a){return"side"!==a.mode||!!this._backdropOverride}_isDrawerOpen(a){return null!=a&&a.opened}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(ki.Is,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(hi.rL),l.Y36(tn),l.Y36(_o.Qb,8))},u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-drawer-container"]],contentQueries:function(a,f,v){if(1&a&&(l.Suo(v,Po,5),l.Suo(v,wc,5)),2&a){let M;l.iGM(M=l.CRH())&&(f._content=M.first),l.iGM(M=l.CRH())&&(f._allDrawers=M)}},viewQuery:function(a,f){if(1&a&&l.Gf(Po,5),2&a){let v;l.iGM(v=l.CRH())&&(f._userContent=v.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(a,f){2&a&&l.ekj("mat-drawer-container-explicit-backdrop",f._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:br,useExisting:u}])],ngContentSelectors:zi,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(a,f){1&a&&(l.F$t(Zt),l.YNc(0,ia,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,ml,2,0,"mat-drawer-content",1)),2&a&&(l.Q6J("ngIf",f.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!f._content))},directives:[Po,te.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),u})(),Ya=(()=>{class u extends Po{constructor(a,f,v,M,ee){super(a,f,v,M,ee)}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>sa)),l.Y36(l.SBq),l.Y36(hi.mF),l.Y36(l.R0b))},u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(a,f){2&a&&l.Udp("margin-left",f._container._contentMargins.left,"px")("margin-right",f._container._contentMargins.right,"px")},features:[l._Bn([{provide:hi.PQ,useExisting:u}]),l.qOj],ngContentSelectors:Or,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),u})(),Pa=(()=>{class u extends wc{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(a){this._fixedInViewport=(0,Se.Ig)(a)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(a){this._fixedTopGap=(0,Se.su)(a)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(a){this._fixedBottomGap=(0,Se.su)(a)}}return u.\u0275fac=function(){let h;return function(f){return(h||(h=l.n5z(u)))(f||u)}}(),u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(a,f){2&a&&(l.uIk("align",null),l.Udp("top",f.fixedInViewport?f.fixedTopGap:null,"px")("bottom",f.fixedInViewport?f.fixedBottomGap:null,"px"),l.ekj("mat-drawer-end","end"===f.position)("mat-drawer-over","over"===f.mode)("mat-drawer-push","push"===f.mode)("mat-drawer-side","side"===f.mode)("mat-drawer-opened",f.opened)("mat-sidenav-fixed",f.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[l.qOj],ngContentSelectors:Or,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(a,f){1&a&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},directives:[hi.PQ],encapsulation:2,data:{animation:[on.transformDrawer]},changeDetection:0}),u})(),sa=(()=>{class u extends ya{}return u.\u0275fac=function(){let h;return function(f){return(h||(h=l.n5z(u)))(f||u)}}(),u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-sidenav-container"]],contentQueries:function(a,f,v){if(1&a&&(l.Suo(v,Ya,5),l.Suo(v,Pa,5)),2&a){let M;l.iGM(M=l.CRH())&&(f._content=M.first),l.iGM(M=l.CRH())&&(f._allDrawers=M)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(a,f){2&a&&l.ekj("mat-drawer-container-explicit-backdrop",f._backdropOverride)},exportAs:["matSidenavContainer"],features:[l._Bn([{provide:br,useExisting:u}]),l.qOj],ngContentSelectors:Jn,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(a,f){1&a&&(l.F$t(Tn),l.YNc(0,Rr,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,no,2,0,"mat-sidenav-content",1)),2&a&&(l.Q6J("ngIf",f.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!f._content))},directives:[Ya,te.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),u})(),No=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[te.ez,ce.BQ,hi.ZD],hi.ZD,ce.BQ]}),u})(),va=(()=>{class u{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(a){this._vertical=(0,Se.Ig)(a)}get inset(){return this._inset}set inset(a){this._inset=(0,Se.Ig)(a)}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(a,f){2&a&&(l.uIk("aria-orientation",f.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",f.vertical)("mat-divider-horizontal",!f.vertical)("mat-divider-inset",f.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(a,f){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),u})(),k=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[ce.BQ],ce.BQ]}),u})();const S=["*"],L=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],K=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Sn=(0,ce.Id)((0,ce.Kr)(class{})),xi=(0,ce.Kr)(class{}),kn=new l.OlP("MatList"),Ln=new l.OlP("MatNavList");let ir=(()=>{class u extends Sn{constructor(){super(...arguments),this._stateChanges=new $i.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return u.\u0275fac=function(){let h;return function(f){return(h||(h=l.n5z(u)))(f||u)}}(),u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[l._Bn([{provide:Ln,useExisting:u}]),l.qOj,l.TTD],ngContentSelectors:S,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),u})(),ns=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275dir=l.lG2({type:u,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),u})(),ba=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275dir=l.lG2({type:u,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),u})(),oa=(()=>{class u extends xi{constructor(a,f,v,M){super(),this._element=a,this._isInteractiveList=!1,this._destroyed=new $i.x,this._disabled=!1,this._isInteractiveList=!!(v||M&&"action-list"===M._getListType()),this._list=v||M;const ee=this._getHostElement();"button"===ee.nodeName.toLowerCase()&&!ee.hasAttribute("type")&&ee.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,wi.R)(this._destroyed)).subscribe(()=>{f.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(a){this._disabled=(0,Se.Ig)(a)}ngAfterContentInit(){(0,ce.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Ln,8),l.Y36(kn,8))},u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(a,f,v){if(1&a&&(l.Suo(v,ns,5),l.Suo(v,ba,5),l.Suo(v,ce.X2,5)),2&a){let M;l.iGM(M=l.CRH())&&(f._avatar=M.first),l.iGM(M=l.CRH())&&(f._icon=M.first),l.iGM(M=l.CRH())&&(f._lines=M)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(a,f){2&a&&l.ekj("mat-list-item-disabled",f.disabled)("mat-list-item-avatar",f._avatar||f._icon)("mat-list-item-with-avatar",f._avatar||f._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[l.qOj],ngContentSelectors:K,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(a,f){1&a&&(l.F$t(L),l.TgZ(0,"span",0),l._UZ(1,"span",1),l.Hsn(2),l.TgZ(3,"span",2),l.Hsn(4,1),l.qZA(),l.Hsn(5,2),l.qZA()),2&a&&(l.xp6(1),l.Q6J("matRippleTrigger",f._getHostElement())("matRippleDisabled",f._isRippleDisabled()))},directives:[ce.wG],encapsulation:2,changeDetection:0}),u})(),qc=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[ce.uc,ce.si,ce.BQ,ce.us,te.ez],ce.uc,ce.BQ,ce.us,k]}),u})(),wa=(()=>{class u{constructor(){this.onCloseSidenav=new l.vpe}ngOnInit(){}close(){this.onCloseSidenav.emit(!0)}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-sidenav"]],outputs:{onCloseSidenav:"onCloseSidenav"},decls:30,vars:0,consts:[["mat-list-item","","routerLink","/login",3,"click"],["mat-list-item","","routerLink","/register",3,"click"],["mat-list-item","","routerLink","/cart",3,"click"],["mat-list-item","","routerLink","/home",3,"click"],["mat-list-item","","routerLink","/admin",3,"click"],["mat-list-item","",3,"click"]],template:function(a,f){1&a&&(l.TgZ(0,"mat-nav-list")(1,"a",0),l.NdJ("click",function(){return f.close()}),l.TgZ(2,"mat-icon"),l._uU(3,"login"),l.qZA(),l._uU(4,"Login"),l.qZA(),l._UZ(5,"mat-divider"),l.TgZ(6,"a",1),l.NdJ("click",function(){return f.close()}),l.TgZ(7,"mat-icon"),l._uU(8,"app_registration"),l.qZA(),l._uU(9,"Register"),l.qZA(),l._UZ(10,"mat-divider"),l.TgZ(11,"a",2),l.NdJ("click",function(){return f.close()}),l.TgZ(12,"mat-icon"),l._uU(13,"shopping_cart"),l.qZA(),l._uU(14,"Cart"),l.qZA(),l._UZ(15,"mat-divider"),l.TgZ(16,"a",3),l.NdJ("click",function(){return f.close()}),l.TgZ(17,"mat-icon"),l._uU(18,"home"),l.qZA(),l._uU(19,"Home"),l.qZA(),l._UZ(20,"mat-divider"),l.TgZ(21,"a",4),l.NdJ("click",function(){return f.close()}),l.TgZ(22,"mat-icon"),l._uU(23,"build"),l.qZA(),l._uU(24,"Admin"),l.qZA(),l._UZ(25,"mat-divider"),l.TgZ(26,"a",5),l.NdJ("click",function(){return f.close()}),l.TgZ(27,"mat-icon"),l._uU(28,"logout"),l.qZA(),l._uU(29,"Logout"),l.qZA()())},directives:[ir,oa,G.yS,ti,va],styles:[""]}),u})();var Pr=O(1135),zl=O(8306);function Mu(u){for(let h in u){let a=u[h]||"";switch(h){case"display":u.display="flex"===a?["-webkit-flex","flex"]:"inline-flex"===a?["-webkit-inline-flex","inline-flex"]:a;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":u["-webkit-"+h]=a;break;case"flex-direction":a=a||"row",u["-webkit-flex-direction"]=a,u["flex-direction"]=a;break;case"order":u.order=u["-webkit-"+h]=isNaN(+a)?"0":a}}return u}const yn="inline",_l=["row","column","row-reverse","column-reverse"];function Cc(u){let[h,a,f]=Na(u);return function la(u,h=null,a=!1){return{display:a?"inline-flex":"flex","box-sizing":"border-box","flex-direction":u,"flex-wrap":h||null}}(h,a,f)}function Na(u){var h;u=null!==(h=null==u?void 0:u.toLowerCase())&&void 0!==h?h:"";let[a,f,v]=u.split(" ");return _l.find(M=>M===a)||(a=_l[0]),f===yn&&(f=v!==yn?v:"",v=yn),[a,aa(f),!!v]}function io(u){let[h]=Na(u);return h.indexOf("row")>-1}function aa(u){if(u)switch(u.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":u="wrap-reverse";break;case"no":case"none":case"nowrap":u="nowrap";break;default:u="wrap"}return u}function Sr(u,...h){if(null==u)throw TypeError("Cannot convert undefined or null to object");for(let a of h)if(null!=a)for(let f in a)a.hasOwnProperty(f)&&(u[f]=a[f]);return u}const Qa={provide:l.tb,useFactory:function Yo(u,h){return()=>{if((0,te.NF)(h)){const a=Array.from(u.querySelectorAll(`[class*=${Ea}]`)),f=/\bflex-layout-.+?\b/g;a.forEach(v=>{v.classList.contains(`${Ea}ssr`)&&v.parentNode?v.parentNode.removeChild(v):v.className.replace(f,"")})}}},deps:[te.K0,l.Lbi],multi:!0},Ea="flex-layout-";let ca=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({providers:[Qa]}),u})();class jr{constructor(h=!1,a="all",f="",v="",M=0){this.matches=h,this.mediaQuery=a,this.mqAlias=f,this.suffix=v,this.priority=M,this.property=""}clone(){return new jr(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Mo=(()=>{class u{constructor(){this.stylesheet=new Map}addStyleToElement(a,f,v){const M=this.stylesheet.get(a);M?M.set(f,v):this.stylesheet.set(a,new Map([[f,v]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(a,f){const v=this.stylesheet.get(a);let M="";if(v){const ee=v.get(f);("number"==typeof ee||"string"==typeof ee)&&(M=ee+"")}return M}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const Ca={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},ks=new l.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Ca}),is=new l.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),ua=new l.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function yl(u,h){return u=u?u.clone():new jr,h&&(u.mqAlias=h.alias,u.mediaQuery=h.mediaQuery,u.suffix=h.suffix,u.priority=h.priority),u}class Vr{constructor(){this.shouldCache=!0}sideEffect(h,a,f){}}let Bi=(()=>{class u{constructor(a,f,v,M){this._serverStylesheet=a,this._serverModuleLoaded=f,this._platformId=v,this.layoutConfig=M}applyStyleToElement(a,f,v=null){let M={};"string"==typeof f&&(M[f]=v,f=M),M=this.layoutConfig.disableVendorPrefixes?f:Mu(f),this._applyMultiValueStyleToElement(M,a)}applyStyleToElements(a,f=[]){const v=this.layoutConfig.disableVendorPrefixes?a:Mu(a);f.forEach(M=>{this._applyMultiValueStyleToElement(v,M)})}getFlowDirection(a){const f="flex-direction";let v=this.lookupStyle(a,f);return[v||"row",this.lookupInlineStyle(a,f)||(0,te.PM)(this._platformId)&&this._serverModuleLoaded?v:""]}hasWrap(a){return"wrap"===this.lookupStyle(a,"flex-wrap")}lookupAttributeValue(a,f){var v;return null!==(v=a.getAttribute(f))&&void 0!==v?v:""}lookupInlineStyle(a,f){return(0,te.NF)(this._platformId)?a.style.getPropertyValue(f):function vl(u,h){var a;return null!==(a=bl(u)[h])&&void 0!==a?a:""}(a,f)}lookupStyle(a,f,v=!1){let M="";return a&&((M=this.lookupInlineStyle(a,f))||((0,te.NF)(this._platformId)?v||(M=getComputedStyle(a).getPropertyValue(f)):this._serverModuleLoaded&&(M=this._serverStylesheet.getStyleForElement(a,f)))),M?M.trim():""}_applyMultiValueStyleToElement(a,f){Object.keys(a).sort().forEach(v=>{const M=a[v],ee=Array.isArray(M)?M:[M];ee.sort();for(let Me of ee)Me=Me?Me+"":"",(0,te.NF)(this._platformId)||!this._serverModuleLoaded?(0,te.NF)(this._platformId)?f.style.setProperty(v,Me):xr(f,v,Me):this._serverStylesheet.addStyleToElement(f,v,Me)})}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(Mo),l.LFG(is),l.LFG(l.Lbi),l.LFG(ks))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function xr(u,h,a){h=h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const f=bl(u);f[h]=null!=a?a:"",function ro(u,h){let a="";for(const f in h)h[f]&&(a+=`${f}:${h[f]};`);u.setAttribute("style",a)}(u,f)}function bl(u){const h={},a=u.getAttribute("style");if(a){const f=a.split(/;+/g);for(let v=0;v<f.length;v++){const M=f[v].trim();if(M.length>0){const ee=M.indexOf(":");if(-1===ee)throw new Error(`Invalid CSS style: ${M}`);h[M.substr(0,ee).trim()]=M.substr(ee+1).trim()}}}return h}function zs(u,h){return(h&&h.priority||0)-(u&&u.priority||0)}function xc(u,h){return(u.priority||0)-(h.priority||0)}let Qo=(()=>{class u{constructor(a,f,v){this._zone=a,this._platformId=f,this._document=v,this.source=new Pr.X(new jr(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const a=[];return this.registry.forEach((f,v)=>{f.matches&&a.push(v)}),a}isActive(a){var f;const v=this.registry.get(a);return null!==(f=null==v?void 0:v.matches)&&void 0!==f?f:this.registerQuery(a).some(M=>M.matches)}observe(a,f=!1){if(a&&a.length){const v=this._observable$.pipe((0,lt.h)(ee=>!f||a.indexOf(ee.mediaQuery)>-1)),M=new zl.y(ee=>{const Me=this.registerQuery(a);if(Me.length){const ut=Me.pop();Me.forEach(Yt=>{ee.next(Yt)}),this.source.next(ut)}ee.complete()});return(0,ur.T)(M,v)}return this._observable$}registerQuery(a){const f=Array.isArray(a)?a:[a],v=[];return function Wl(u,h){const a=u.filter(f=>!xa[f]);if(a.length>0){const f=a.join(", ");try{const v=h.createElement("style");v.setAttribute("type","text/css"),v.styleSheet||v.appendChild(h.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${f} {.fx-query-test{ }}\n`)),h.head.appendChild(v),a.forEach(M=>xa[M]=v)}catch(v){console.error(v)}}}(f,this._document),f.forEach(M=>{const ee=ut=>{this._zone.run(()=>this.source.next(new jr(ut.matches,M)))};let Me=this.registry.get(M);Me||(Me=this.buildMQL(M),Me.addListener(ee),this.pendingRemoveListenerFns.push(()=>Me.removeListener(ee)),this.registry.set(M,Me)),Me.matches&&v.push(new jr(!0,M))}),v}ngOnDestroy(){let a;for(;a=this.pendingRemoveListenerFns.pop();)a()}buildMQL(a){return function Lo(u,h){return h&&window.matchMedia("all").addListener?window.matchMedia(u):{matches:"all"===u||""===u,media:u,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(a,(0,te.NF)(this._platformId))}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(l.R0b),l.LFG(l.Lbi),l.LFG(te.K0))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const xa={},Ou=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Bo="(orientation: portrait) and (max-width: 599.98px)",ql="(orientation: landscape) and (max-width: 959.98px)",Ws="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",Ja="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Xa="(orientation: portrait) and (min-width: 840px)",Oo="(orientation: landscape) and (min-width: 1280px)",uo={HANDSET:`${Bo}, ${ql}`,TABLET:`${Ws} , ${Ja}`,WEB:`${Xa}, ${Oo} `,HANDSET_PORTRAIT:`${Bo}`,TABLET_PORTRAIT:`${Ws} `,WEB_PORTRAIT:`${Xa}`,HANDSET_LANDSCAPE:`${ql}`,TABLET_LANDSCAPE:`${Ja}`,WEB_LANDSCAPE:`${Oo}`},os=[{alias:"handset",priority:2e3,mediaQuery:uo.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:uo.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:uo.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:uo.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:uo.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:uo.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:uo.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:uo.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:uo.WEB_PORTRAIT,overlapping:!0}],Kc=/(\.|-|_)/g;function B(u){let h=u.length>0?u.charAt(0):"",a=u.length>1?u.slice(1):"";return h.toUpperCase()+a}const _t=new l.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const u=(0,l.f3M)(ua),h=(0,l.f3M)(ks),a=[].concat.apply([],(u||[]).map(v=>Array.isArray(v)?v:[v]));return function Ge(u,h=[]){const a={};return u.forEach(f=>{a[f.alias]=f}),h.forEach(f=>{a[f.alias]?Sr(a[f.alias],f):a[f.alias]=f}),function ae(u){return u.forEach(h=>{h.suffix||(h.suffix=function W(u){return u.replace(Kc,"|").split("|").map(B).join("")}(h.alias),h.overlapping=!!h.overlapping)}),u}(Object.keys(a).map(f=>a[f]))}((h.disableDefaultBps?[]:Ou).concat(h.addOrientationBps?os:[]),a)}});let At=(()=>{class u{constructor(a){this.findByMap=new Map,this.items=[...a].sort(xc)}findByAlias(a){return a?this.findWithPredicate(a,f=>f.alias===a):null}findByQuery(a){return this.findWithPredicate(a,f=>f.mediaQuery===a)}get overlappings(){return this.items.filter(a=>a.overlapping)}get aliases(){return this.items.map(a=>a.alias)}get suffixes(){return this.items.map(a=>{var f;return null!==(f=null==a?void 0:a.suffix)&&void 0!==f?f:""})}findWithPredicate(a,f){var v;let M=this.findByMap.get(a);return M||(M=null!==(v=this.items.find(f))&&void 0!==v?v:null,this.findByMap.set(a,M)),null!=M?M:null}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(_t))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const rn="print",fn={alias:rn,mediaQuery:rn,priority:1e3};let ui=(()=>{class u{constructor(a,f,v){this.breakpoints=a,this.layoutConfig=f,this._document=v,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Di,this.deactivations=[]}withPrintQuery(a){return[...a,rn]}isPrintEvent(a){return a.mediaQuery.startsWith(rn)}get printAlias(){var a;return[...null!==(a=this.layoutConfig.printWithBreakpoints)&&void 0!==a?a:[]]}get printBreakPoints(){return this.printAlias.map(a=>this.breakpoints.findByAlias(a)).filter(a=>null!==a)}getEventBreakpoints({mediaQuery:a}){const f=this.breakpoints.findByQuery(a);return(f?[...this.printBreakPoints,f]:this.printBreakPoints).sort(zs)}updateEvent(a){var f;let v=this.breakpoints.findByQuery(a.mediaQuery);return this.isPrintEvent(a)&&(v=this.getEventBreakpoints(a)[0],a.mediaQuery=null!==(f=null==v?void 0:v.mediaQuery)&&void 0!==f?f:""),yl(a,v)}registerBeforeAfterPrintHooks(a){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const f=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(a,this.getEventBreakpoints(new jr(!0,rn))),a.updateStyles())},v=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(a),a.updateStyles())};this._document.defaultView.addEventListener("beforeprint",f),this._document.defaultView.addEventListener("afterprint",v),this.beforePrintEventListeners.push(f),this.afterPrintEventListeners.push(v)}interceptEvents(a){return f=>{this.isPrintEvent(f)?f.matches&&!this.isPrinting?(this.startPrinting(a,this.getEventBreakpoints(f)),a.updateStyles()):!f.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(a),a.updateStyles()):this.collectActivations(a,f)}}blockPropagation(){return a=>!(this.isPrinting||this.isPrintEvent(a))}startPrinting(a,f){this.isPrinting=!0,this.formerActivations=a.activatedBreakpoints,a.activatedBreakpoints=this.queue.addPrintBreakpoints(f)}stopPrinting(a){a.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(a,f){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!f.matches){const v=this.breakpoints.findByQuery(f.mediaQuery);if(v){const M=this.formerActivations&&this.formerActivations.includes(v),ee=!this.formerActivations&&a.activatedBreakpoints.includes(v);(M||ee)&&(this.deactivations.push(v),this.deactivations.sort(zs))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(a=>this._document.defaultView.removeEventListener("beforeprint",a)),this.afterPrintEventListeners.forEach(a=>this._document.defaultView.removeEventListener("afterprint",a)))}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(At),l.LFG(ks),l.LFG(te.K0))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();class Di{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(h){return h.push(fn),h.sort(zs),h.forEach(a=>this.addBreakpoint(a)),this.printBreakpoints}addBreakpoint(h){h&&void 0===this.printBreakpoints.find(f=>f.mediaQuery===h.mediaQuery)&&(this.printBreakpoints=function Yi(u){var h;return null!==(h=null==u?void 0:u.mediaQuery.startsWith(rn))&&void 0!==h&&h}(h)?[h,...this.printBreakpoints]:[...this.printBreakpoints,h])}clear(){this.printBreakpoints=[]}}let Mn=(()=>{class u{constructor(a,f,v){this.matchMedia=a,this.breakpoints=f,this.hook=v,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new $i.x,this.observeActivations()}get activatedAlias(){var a,f;return null!==(f=null===(a=this.activatedBreakpoints[0])||void 0===a?void 0:a.alias)&&void 0!==f?f:""}set activatedBreakpoints(a){this._activatedBreakpoints=[...a]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(a){this._useFallbacks=a}onMediaChange(a){const f=this.findByQuery(a.mediaQuery);if(f){a=yl(a,f);const v=this.activatedBreakpoints.indexOf(f);a.matches&&-1===v?(this._activatedBreakpoints.push(f),this._activatedBreakpoints.sort(zs),this.updateStyles()):!a.matches&&-1!==v&&(this._activatedBreakpoints.splice(v,1),this._activatedBreakpoints.sort(zs),this.updateStyles())}}init(a,f,v,M,ee=[]){Kr(this.updateMap,a,f,v),Kr(this.clearMap,a,f,M),this.buildElementKeyMap(a,f),this.watchExtraTriggers(a,f,ee)}getValue(a,f,v){const M=this.elementMap.get(a);if(M){const ee=void 0!==v?M.get(v):this.getActivatedValues(M,f);if(ee)return ee.get(f)}}hasValue(a,f){const v=this.elementMap.get(a);if(v){const M=this.getActivatedValues(v,f);if(M)return void 0!==M.get(f)||!1}return!1}setValue(a,f,v,M){var ee;let Me=this.elementMap.get(a);if(Me){const Yt=(null!==(ee=Me.get(M))&&void 0!==ee?ee:new Map).set(f,v);Me.set(M,Yt),this.elementMap.set(a,Me)}else Me=(new Map).set(M,(new Map).set(f,v)),this.elementMap.set(a,Me);const ut=this.getValue(a,f);void 0!==ut&&this.updateElement(a,f,ut)}trackValue(a,f){return this.subject.asObservable().pipe((0,lt.h)(v=>v.element===a&&v.key===f))}updateStyles(){this.elementMap.forEach((a,f)=>{const v=new Set(this.elementKeyMap.get(f));let M=this.getActivatedValues(a);M&&M.forEach((ee,Me)=>{this.updateElement(f,Me,ee),v.delete(Me)}),v.forEach(ee=>{if(M=this.getActivatedValues(a,ee),M){const Me=M.get(ee);this.updateElement(f,ee,Me)}else this.clearElement(f,ee)})})}clearElement(a,f){const v=this.clearMap.get(a);if(v){const M=v.get(f);M&&(M(),this.subject.next({element:a,key:f,value:""}))}}updateElement(a,f,v){const M=this.updateMap.get(a);if(M){const ee=M.get(f);ee&&(ee(v),this.subject.next({element:a,key:f,value:v}))}}releaseElement(a){const f=this.watcherMap.get(a);f&&(f.forEach(M=>M.unsubscribe()),this.watcherMap.delete(a));const v=this.elementMap.get(a);v&&(v.forEach((M,ee)=>v.delete(ee)),this.elementMap.delete(a))}triggerUpdate(a,f){const v=this.elementMap.get(a);if(v){const M=this.getActivatedValues(v,f);M&&(f?this.updateElement(a,f,M.get(f)):M.forEach((ee,Me)=>this.updateElement(a,Me,ee)))}}buildElementKeyMap(a,f){let v=this.elementKeyMap.get(a);v||(v=new Set,this.elementKeyMap.set(a,v)),v.add(f)}watchExtraTriggers(a,f,v){if(v&&v.length){let M=this.watcherMap.get(a);if(M||(M=new Map,this.watcherMap.set(a,M)),!M.get(f)){const Me=(0,ur.T)(...v).subscribe(()=>{const ut=this.getValue(a,f);this.updateElement(a,f,ut)});M.set(f,Me)}}}findByQuery(a){return this.breakpoints.findByQuery(a)}getActivatedValues(a,f){for(let M=0;M<this.activatedBreakpoints.length;M++){const Me=a.get(this.activatedBreakpoints[M].alias);if(Me&&(void 0===f||Me.has(f)&&null!=Me.get(f)))return Me}if(!this._useFallbacks)return;const v=a.get("");return void 0===f||v&&v.has(f)?v:void 0}observeActivations(){const a=this.breakpoints.items.map(f=>f.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(a)).pipe((0,ze.b)(this.hook.interceptEvents(this)),(0,lt.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(Qo),l.LFG(At),l.LFG(ui))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function Kr(u,h,a,f){var v;if(void 0!==f){const M=null!==(v=u.get(h))&&void 0!==v?v:new Map;M.set(a,f),u.set(h,M)}}let Vi=(()=>{class u{constructor(a,f,v,M){this.elementRef=a,this.styleBuilder=f,this.styler=v,this.marshal=M,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new $i.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(a){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,a,this.marshal.activatedAlias)}ngOnChanges(a){Object.keys(a).forEach(f=>{if(-1!==this.inputs.indexOf(f)){const v=f.split(".").slice(1).join(".");this.setValue(a[f].currentValue,v)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(a=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),a)}addStyles(a,f){const v=this.styleBuilder,M=v.shouldCache;let ee=this.styleCache.get(a);(!ee||!M)&&(ee=v.buildStyles(a,f),M&&this.styleCache.set(a,ee)),this.mru=Object.assign({},ee),this.applyStyleToElement(ee),v.sideEffect(a,ee,f)}clearStyles(){Object.keys(this.mru).forEach(a=>{this.mru[a]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(a,f=!1){if(a){const[v,M]=this.styler.getFlowDirection(a);if(!M&&f){const ee=Cc(v);this.styler.applyStyleToElements(ee,[a])}return v.trim()}return"row"}hasWrap(a){return this.styler.hasWrap(a)}applyStyleToElement(a,f,v=this.nativeElement){this.styler.applyStyleToElement(v,a,f)}setValue(a,f){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,a,f)}updateWithValue(a){this.currentValue!==a&&(this.addStyles(a),this.currentValue=a)}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.SBq),l.Y36(Vr),l.Y36(Bi),l.Y36(Mn))},u.\u0275dir=l.lG2({type:u,features:[l.TTD]}),u})();function Kl(u,h="1",a="1"){let f=[h,a,u],v=u.indexOf("calc");if(v>0){f[2]=El(u.substring(v).trim());let M=u.substr(0,v).trim().split(" ");2==M.length&&(f[0]=M[0],f[1]=M[1])}else if(0==v)f[2]=El(u.trim());else{let M=u.split(" ");f=3===M.length?M:[h,a,u]}return f}function El(u){return u.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function el(u,h){if(void 0===h)return u;const a=f=>{const v=+f.slice(0,-"x".length);return u.endsWith("x")&&!isNaN(v)?`${v*h.value}${h.unit}`:u};return u.includes(" ")?u.split(" ").map(a).join(" "):a(u)}let tl=(()=>{class u extends Vr{buildStyles(a,{display:f}){const v=Cc(a);return Object.assign(Object.assign({},v),{display:"none"===f?f:v.display})}}return u.\u0275fac=function(){let h;return function(f){return(h||(h=l.n5z(u)))(f||u)}}(),u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const Zl=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let lp=(()=>{class u extends Vi{constructor(a,f,v,M,ee){super(a,v,f,M),this._config=ee,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(a){var f;const M=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(f=ku.get(M))&&void 0!==f?f:new Map,ku.set(M,this.styleCache),this.currentValue!==a&&(this.addStyles(a,{display:M}),this.currentValue=a)}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.SBq),l.Y36(Bi),l.Y36(tl),l.Y36(Mn),l.Y36(ks))},u.\u0275dir=l.lG2({type:u,features:[l.qOj]}),u})(),nl=(()=>{class u extends lp{constructor(){super(...arguments),this.inputs=Zl}}return u.\u0275fac=function(){let h;return function(f){return(h||(h=l.n5z(u)))(f||u)}}(),u.\u0275dir=l.lG2({type:u,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[l.qOj]}),u})();const ku=new Map,Id={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let Zc=(()=>{class u extends Vr{constructor(a,f){super(),this._styler=a,this._config=f}buildStyles(a,f){return a.endsWith(ea)?function Fu(u,h){const[a,f]=u.split(" "),M=Yt=>`-${Yt}`;let ee="0px",Me=M(null!=f?f:a),ut="0px";return"rtl"===h?ut=M(a):ee=M(a),{margin:`0px ${ee} ${Me} ${ut}`}}(a=el(a=a.slice(0,a.indexOf(ea)),this._config.multiplier),f.directionality):{}}sideEffect(a,f,v){const M=v.items;if(a.endsWith(ea)){const ee=function Qc(u,h){const[a,f]=u.split(" ");let M="0px",Me="0px";return"rtl"===h?Me=a:M=a,{padding:`0px ${M} ${null!=f?f:a} ${Me}`}}(a=el(a=a.slice(0,a.indexOf(ea)),this._config.multiplier),v.directionality);this._styler.applyStyleToElements(ee,v.items)}else{a=el(a,this._config.multiplier),a=this.addFallbackUnit(a);const ee=M.pop(),Me=function Sd(u,h){const a=il(h.directionality,h.layout),f=Object.assign({},Id);return f[a]=u,f}(a,v);this._styler.applyStyleToElements(Me,M),this._styler.applyStyleToElements(Id,[ee])}}addFallbackUnit(a){return isNaN(+a)?a:`${a}${this._config.defaultUnit}`}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(Bi),l.LFG(ks))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const kh=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let Ac=(()=>{class u extends Vi{constructor(a,f,v,M,ee,Me){super(a,ee,M,Me),this.zone=f,this.directionality=v,this.styleUtils=M,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new $i.x;const ut=[this.directionality.change,this.observerSubject.asObservable()];this.init(ut),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,wi.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const a=this.nativeElement.children,f=[];for(let v=a.length;v--;)f[v]=a[v];return f}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(a){const v=a.value.split(" ");this.layout=v[0],_l.find(M=>M===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(a){const f=this.childrenNodes.filter(v=>1===v.nodeType&&this.willDisplay(v)).sort((v,M)=>{const ee=+this.styler.lookupStyle(v,"order"),Me=+this.styler.lookupStyle(M,"order");return isNaN(ee)||isNaN(Me)||ee===Me?0:ee>Me?1:-1});if(f.length>0){const v=this.directionality.value,M=this.layout;"row"===M&&"rtl"===v?this.styleCache=Xo:"row"===M&&"rtl"!==v?this.styleCache=Cl:"column"===M&&"rtl"===v?this.styleCache=Yc:"column"===M&&"rtl"!==v&&(this.styleCache=Fh),this.addStyles(a,{directionality:v,items:f,layout:M})}}clearStyles(){const a=Object.keys(this.mru).length>0,f=a?"padding":il(this.directionality.value,this.layout);a&&super.clearStyles(),this.styleUtils.applyStyleToElements({[f]:""},this.childrenNodes)}willDisplay(a){const f=this.marshal.getValue(a,"show-hide");return!0===f||void 0===f&&"none"!==this.styleUtils.lookupStyle(a,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(a=>{a.some(v=>v.addedNodes&&v.addedNodes.length>0||v.removedNodes&&v.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(ki.Is),l.Y36(Bi),l.Y36(Zc),l.Y36(Mn))},u.\u0275dir=l.lG2({type:u,features:[l.qOj]}),u})(),La=(()=>{class u extends Ac{constructor(){super(...arguments),this.inputs=kh}}return u.\u0275fac=function(){let h;return function(f){return(h||(h=l.n5z(u)))(f||u)}}(),u.\u0275dir=l.lG2({type:u,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[l.qOj]}),u})();const Xo=new Map,Yc=new Map,Cl=new Map,Fh=new Map,ea=" grid";function il(u,h){switch(h){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===u?"margin-left":"margin-right";case"row-reverse":return"rtl"===u?"margin-right":"margin-left"}}let xl=(()=>{class u extends Vr{constructor(a){super(),this.layoutConfig=a}buildStyles(a,f){let[v,M,...ee]=a.split(" "),Me=ee.join(" ");const ut=f.direction.indexOf("column")>-1?"column":"row",Yt=io(ut)?"max-width":"max-height",Wt=io(ut)?"min-width":"min-height",Bn=String(Me).indexOf("calc")>-1,ji=Bn||"auto"===Me,Ki=String(Me).indexOf("%")>-1&&!Bn,ar=String(Me).indexOf("px")>-1||String(Me).indexOf("rem")>-1||String(Me).indexOf("em")>-1||String(Me).indexOf("vw")>-1||String(Me).indexOf("vh")>-1;let r=Bn||ar;v="0"==v?0:v,M="0"==M?0:M;const e=!v&&!M;let n={};const o={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(Me||""){case"":const d=!1!==this.layoutConfig.useColumnBasisZero;Me="row"===ut?"0%":d?"0.000000001px":"auto";break;case"initial":case"nogrow":v=0,Me="auto";break;case"grow":Me="100%";break;case"noshrink":M=0,Me="auto";break;case"auto":break;case"none":v=0,M=0,Me="auto";break;default:!r&&!Ki&&!isNaN(Me)&&(Me+="%"),"0%"===Me&&(r=!0),"0px"===Me&&(Me="0%"),n=Sr(o,Bn?{"flex-grow":v,"flex-shrink":M,"flex-basis":r?Me:"100%"}:{flex:`${v} ${M} ${r?Me:"100%"}`})}return n.flex||n["flex-grow"]||(n=Sr(o,Bn?{"flex-grow":v,"flex-shrink":M,"flex-basis":Me}:{flex:`${v} ${M} ${Me}`})),"0%"!==Me&&"0px"!==Me&&"0.000000001px"!==Me&&"auto"!==Me&&(n[Wt]=e||r&&v?Me:null,n[Yt]=e||!ji&&M?Me:null),n[Wt]||n[Yt]?f.hasWrap&&(n[Bn?"flex-basis":"flex"]=n[Yt]?Bn?n[Yt]:`${v} ${M} ${n[Yt]}`:Bn?n[Wt]:`${v} ${M} ${n[Wt]}`):n=Sr(o,Bn?{"flex-grow":v,"flex-shrink":M,"flex-basis":Me}:{flex:`${v} ${M} ${Me}`}),Sr(n,{"box-sizing":"border-box"})}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(ks))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const As=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Yl=(()=>{class u extends Vi{constructor(a,f,v,M,ee){super(a,M,f,ee),this.layoutConfig=v,this.marshal=ee,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(a){this.flexShrink=a||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(a){this.flexGrow=a||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,wi.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,wi.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(a){const v=a.value.split(" ");this.direction=v[0],this.wrap=void 0!==v[1]&&"wrap"===v[1],this.triggerUpdate()}updateWithValue(a){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const v=this.direction,M=v.startsWith("row"),ee=this.wrap;M&&ee?this.styleCache=rl:M&&!ee?this.styleCache=Ic:!M&&ee?this.styleCache=Nu:!M&&!ee&&(this.styleCache=Ba);const ut=Kl(String(a).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(ut.join(" "),{direction:v,hasWrap:ee})}triggerReflow(){const a=this.activatedValue;if(void 0!==a){const f=Kl(a+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,f.join(" "))}}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.SBq),l.Y36(Bi),l.Y36(ks),l.Y36(xl),l.Y36(Mn))},u.\u0275dir=l.lG2({type:u,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[l.qOj]}),u})(),Td=(()=>{class u extends Yl{constructor(){super(...arguments),this.inputs=As}}return u.\u0275fac=function(){let h;return function(f){return(h||(h=l.n5z(u)))(f||u)}}(),u.\u0275dir=l.lG2({type:u,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[l.qOj]}),u})();const Ic=new Map,Ba=new Map,rl=new Map,Nu=new Map;let Bu=(()=>{class u extends Vr{constructor(a){super(),this._config=a}buildStyles(a,f){a||(a="0"),a=el(a,this._config.multiplier);const v=String(a).indexOf("%")>-1;!(String(a).indexOf("px")>-1)&&!v&&!isNaN(+a)&&(a=`${a}%`);const ee=f.isRtl?"margin-right":"margin-left";return io(f.layout)?{[ee]:a}:{"margin-top":a}}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(ks))},u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const Ph=["fxFlexOffset","fxFlexOffset.xs","fxFlexOffset.sm","fxFlexOffset.md","fxFlexOffset.lg","fxFlexOffset.xl","fxFlexOffset.lt-sm","fxFlexOffset.lt-md","fxFlexOffset.lt-lg","fxFlexOffset.lt-xl","fxFlexOffset.gt-xs","fxFlexOffset.gt-sm","fxFlexOffset.gt-md","fxFlexOffset.gt-lg"];let y=(()=>{class u extends Vi{constructor(a,f,v,M,ee){super(a,v,ee,M),this.directionality=f,this.DIRECTIVE_KEY="flex-offset",this.init([this.directionality.change]),this.parentElement&&this.marshal.trackValue(this.parentElement,"layout-gap").pipe((0,wi.R)(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))}updateWithValue(a=""){const f=this.getFlexFlowDirection(this.parentElement,!0),v="rtl"===this.directionality.value;"row"===f&&v?this.styleCache=R:"row"!==f||v?"column"===f&&v?this.styleCache=ne:"column"===f&&!v&&(this.styleCache=bt):this.styleCache=Ae,this.addStyles(a+"",{layout:f,isRtl:v})}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.SBq),l.Y36(ki.Is),l.Y36(Bu),l.Y36(Mn),l.Y36(Bi))},u.\u0275dir=l.lG2({type:u,features:[l.qOj]}),u})(),b=(()=>{class u extends y{constructor(){super(...arguments),this.inputs=Ph}}return u.\u0275fac=function(){let h;return function(f){return(h||(h=l.n5z(u)))(f||u)}}(),u.\u0275dir=l.lG2({type:u,selectors:[["","fxFlexOffset",""],["","fxFlexOffset.xs",""],["","fxFlexOffset.sm",""],["","fxFlexOffset.md",""],["","fxFlexOffset.lg",""],["","fxFlexOffset.xl",""],["","fxFlexOffset.lt-sm",""],["","fxFlexOffset.lt-md",""],["","fxFlexOffset.lt-lg",""],["","fxFlexOffset.lt-xl",""],["","fxFlexOffset.gt-xs",""],["","fxFlexOffset.gt-sm",""],["","fxFlexOffset.gt-md",""],["","fxFlexOffset.gt-lg",""]],inputs:{fxFlexOffset:"fxFlexOffset","fxFlexOffset.xs":"fxFlexOffset.xs","fxFlexOffset.sm":"fxFlexOffset.sm","fxFlexOffset.md":"fxFlexOffset.md","fxFlexOffset.lg":"fxFlexOffset.lg","fxFlexOffset.xl":"fxFlexOffset.xl","fxFlexOffset.lt-sm":"fxFlexOffset.lt-sm","fxFlexOffset.lt-md":"fxFlexOffset.lt-md","fxFlexOffset.lt-lg":"fxFlexOffset.lt-lg","fxFlexOffset.lt-xl":"fxFlexOffset.lt-xl","fxFlexOffset.gt-xs":"fxFlexOffset.gt-xs","fxFlexOffset.gt-sm":"fxFlexOffset.gt-sm","fxFlexOffset.gt-md":"fxFlexOffset.gt-md","fxFlexOffset.gt-lg":"fxFlexOffset.gt-lg"},features:[l.qOj]}),u})();const R=new Map,ne=new Map,Ae=new Map,bt=new Map;let Nh=(()=>{class u extends Vr{buildStyles(a,f){const v={},[M,ee]=a.split(" ");switch(M){case"center":v["justify-content"]="center";break;case"space-around":v["justify-content"]="space-around";break;case"space-between":v["justify-content"]="space-between";break;case"space-evenly":v["justify-content"]="space-evenly";break;case"end":case"flex-end":v["justify-content"]="flex-end";break;default:v["justify-content"]="flex-start"}switch(ee){case"start":case"flex-start":v["align-items"]=v["align-content"]="flex-start";break;case"center":v["align-items"]=v["align-content"]="center";break;case"end":case"flex-end":v["align-items"]=v["align-content"]="flex-end";break;case"space-between":v["align-content"]="space-between",v["align-items"]="stretch";break;case"space-around":v["align-content"]="space-around",v["align-items"]="stretch";break;case"baseline":v["align-content"]="stretch",v["align-items"]="baseline";break;default:v["align-items"]=v["align-content"]="stretch"}return Sr(v,{display:f.inline?"inline-flex":"flex","flex-direction":f.layout,"box-sizing":"border-box","max-width":"stretch"===ee?io(f.layout)?null:"100%":null,"max-height":"stretch"===ee&&io(f.layout)?"100%":null})}}return u.\u0275fac=function(){let h;return function(f){return(h||(h=l.n5z(u)))(f||u)}}(),u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const Tr=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let Tc=(()=>{class u extends Vi{constructor(a,f,v,M){super(a,v,f,M),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,wi.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(a){const f=this.layout||"row",v=this.inline;"row"===f&&v?this.styleCache=Hu:"row"!==f||v?"row-reverse"===f&&v?this.styleCache=up:"row-reverse"!==f||v?"column"===f&&v?this.styleCache=Lh:"column"!==f||v?"column-reverse"===f&&v?this.styleCache=Ss:"column-reverse"===f&&!v&&(this.styleCache=Ml):this.styleCache=Mc:this.styleCache=Uu:this.styleCache=Tl,this.addStyles(a,{layout:f,inline:v})}onLayoutChange(a){const f=a.value.split(" ");this.layout=f[0],this.inline=a.value.includes("inline"),_l.find(v=>v===this.layout)||(this.layout="row"),this.triggerUpdate()}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.SBq),l.Y36(Bi),l.Y36(Nh),l.Y36(Mn))},u.\u0275dir=l.lG2({type:u,features:[l.qOj]}),u})(),Sl=(()=>{class u extends Tc{constructor(){super(...arguments),this.inputs=Tr}}return u.\u0275fac=function(){let h;return function(f){return(h||(h=l.n5z(u)))(f||u)}}(),u.\u0275dir=l.lG2({type:u,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[l.qOj]}),u})();const Tl=new Map,Mc=new Map,Uu=new Map,Ml=new Map,Hu=new Map,Lh=new Map,up=new Map,Ss=new Map;let dp=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[ca,ki.vT]]}),u})();const Bh=["*",[["mat-toolbar-row"]]],Jc=["*","mat-toolbar-row"],hp=(0,ce.pj)(class{constructor(u){this._elementRef=u}});let Zg=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275dir=l.lG2({type:u,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),u})(),ho=(()=>{class u extends hp{constructor(a,f,v){super(a),this._platform=f,this._document=v}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.SBq),l.Y36(Qi.t4),l.Y36(te.K0))},u.\u0275cmp=l.Xpm({type:u,selectors:[["mat-toolbar"]],contentQueries:function(a,f,v){if(1&a&&l.Suo(v,Zg,5),2&a){let M;l.iGM(M=l.CRH())&&(f._toolbarRows=M)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(a,f){2&a&&l.ekj("mat-toolbar-multiple-rows",f._toolbarRows.length>0)("mat-toolbar-single-row",0===f._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:Jc,decls:2,vars:0,template:function(a,f){1&a&&(l.F$t(Bh),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),u})(),pp=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[ce.BQ],ce.BQ]}),u})(),ju=(()=>{class u extends Vr{buildStyles(a,f){return{display:"true"===a?f.display||(f.isServer?"initial":""):"none"}}}return u.\u0275fac=function(){let h;return function(f){return(h||(h=l.n5z(u)))(f||u)}}(),u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),jh=(()=>{class u extends Vi{constructor(a,f,v,M,ee,Me,ut){super(a,f,v,M),this.layoutConfig=ee,this.platformId=Me,this.serverModuleLoaded=ut,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const a=Array.from(this.nativeElement.children);for(let v=0;v<a.length;v++)if(this.marshal.hasValue(a[v],"flex")){this.hasFlexChild=!0;break}Fd.has(this.nativeElement)?this.display=Fd.get(this.nativeElement):(this.display=this.getDisplayStyle(),Fd.set(this.nativeElement,this.display)),this.init();const f=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===f||""===f?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(a){Object.keys(a).forEach(f=>{if(-1!==this.inputs.indexOf(f)){const v=f.split("."),M=v.slice(1).join("."),ee=a[f].currentValue;let Me=""===ee||0!==ee&&(0,Se.Ig)(ee);"fxHide"===v[0]&&(Me=!Me),this.setValue(Me,M)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(a=>{this.marshal.trackValue(this.nativeElement,a).pipe((0,wi.R)(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(a=!0){if(""===a)return;const f=(0,te.PM)(this.platformId);this.addStyles(a?"true":"false",{display:this.display,isServer:f}),f&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(l.SBq),l.Y36(ju),l.Y36(Bi),l.Y36(Mn),l.Y36(ks),l.Y36(l.Lbi),l.Y36(is))},u.\u0275dir=l.lG2({type:u,features:[l.qOj,l.TTD]}),u})();const Fd=new WeakMap,gp=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let Pd=(()=>{class u extends jh{constructor(){super(...arguments),this.inputs=gp}}return u.\u0275fac=function(){let h;return function(f){return(h||(h=l.n5z(u)))(f||u)}}(),u.\u0275dir=l.lG2({type:u,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[l.qOj]}),u})(),Da=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[ca]]}),u})();function vp(u,h){1&u&&(l.TgZ(0,"a",7),l._uU(1,"Admin"),l.qZA())}function Gu(u,h){1&u&&(l.TgZ(0,"a",8),l._uU(1,"Login"),l.qZA())}function bp(u,h){1&u&&(l.TgZ(0,"a",9),l._uU(1,"Register"),l.qZA())}function em(u,h){if(1&u){const a=l.EpF();l.TgZ(0,"a",10),l.NdJ("click",function(){return l.CHM(a),l.oxw().logout()}),l._uU(1,"Logout"),l.qZA()}}let tm=(()=>{class u{constructor(a,f,v,M,ee){this.userv=a,this.router=f,this.toastr=v,this.agurd=M,this.caserv=ee,this.isReallyReallyAdmin=!1,this.cartSize=0}ngAfterContentChecked(){this.checkAdminAndCart()}checkAdminAndCart(){this.isReallyReallyAdmin="true"===JSON.parse(localStorage.getItem("admin"));let f=JSON.parse(localStorage.getItem("cart")||"{}");this.cartSize=0|f.length}ngOnInit(){this.userv.isLoggedIn().subscribe(a=>{this.loggedInUser=a,localStorage.setItem("user",JSON.stringify(this.loggedInUser)),this.checkAdminAndCart()},a=>{console.log(a),localStorage.setItem("user",JSON.stringify("null"))})}logout(){this.userv.logout().then(()=>{localStorage.setItem("admin",JSON.stringify("false")),this.isReallyReallyAdmin=!1,this.agurd.isReallyAdmin="false",this.checkAdminAndCart(),this.router.navigateByUrl("home").then(()=>window.location.reload()),this.toastr.success("Logged out successfully!","Logout")}).catch(a=>{this.toastr.error("Can't logout now","Logout error")})}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(me),l.Y36(G.F0),l.Y36(Fe._W),l.Y36(Oi),l.Y36(be.N))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-header"]],decls:9,vars:5,consts:[["fxLayoutGap","10px","fxLayout","","fxHide.xs",""],["routerLinkActive","active","routerLink","../home"],["routerLinkActive","active","routerLink","../cart"],["routerLinkActive","active","routerLink","../admin",4,"ngIf"],["routerLinkActive","active","routerLink","../login",4,"ngIf"],["routerLinkActive","active","routerLink","../register",4,"ngIf"],["routerLink","../login","style","background-color: red;",3,"click",4,"ngIf"],["routerLinkActive","active","routerLink","../admin"],["routerLinkActive","active","routerLink","../login"],["routerLinkActive","active","routerLink","../register"],["routerLink","../login",2,"background-color","red",3,"click"]],template:function(a,f){1&a&&(l.TgZ(0,"div",0)(1,"a",1),l._uU(2,"Home"),l.qZA(),l.TgZ(3,"a",2),l._uU(4),l.qZA(),l.YNc(5,vp,2,0,"a",3),l.YNc(6,Gu,2,0,"a",4),l.YNc(7,bp,2,0,"a",5),l.YNc(8,em,2,0,"a",6),l.qZA()),2&a&&(l.xp6(4),l.hij("Cart (",f.cartSize,")"),l.xp6(1),l.Q6J("ngIf",f.isReallyReallyAdmin),l.xp6(1),l.Q6J("ngIf",!f.loggedInUser),l.xp6(1),l.Q6J("ngIf",!f.loggedInUser),l.xp6(1),l.Q6J("ngIf",f.loggedInUser))},directives:[La,nl,Pd,G.yS,G.Od,te.O5],styles:[".active[_ngcontent-%COMP%]{color:#ffb8b8}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}div[_ngcontent-%COMP%]{width:100%}"]}),u})(),nm=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"footer"],["footer",""],[2,"margin","0"],["target","blank","href","https://www.reddit.com/r/DiWHY/"]],template:function(a,f){1&a&&(l.TgZ(0,"div",0,1)(2,"p",2),l._uU(3,"This page is inspired by the subreddit "),l.TgZ(4,"a",3),l._uU(5,"r/DiWHY"),l.qZA()(),l.TgZ(6,"p",2),l._uU(7,"We love concrete!"),l.qZA()())},styles:[".footer[_ngcontent-%COMP%]{background-color:#000;color:#474747;margin:0;padding:0 16px;height:64px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}a[_ngcontent-%COMP%]{color:#5b5b5b}"]}),u})(),im=(()=>{class u{constructor(a){this.cartserv=a,this.title="diwhy-webshop"}onToggleSidenav(a){a.toggle()}onClose(a,f){!0===a&&f.close()}ngOnInit(){this.cartserv.ngOnInit()}ngOnChanges(){}}return u.\u0275fac=function(a){return new(a||u)(l.Y36(be.N))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-root"]],features:[l.TTD],decls:16,vars:0,consts:[["fullscreen",""],["sidenav",""],[3,"onCloseSidenav"],["fxLayout","column"],["color","primary"],["mat-icon-button","","fxHide.gt-xs","",3,"click"],["fxFlex","","fxLayout.gt-lg","","fxLayoutAlign","flex-end",2,"min-height","64px"],[1,"container"],["fxFlexOffset","auto"]],template:function(a,f){if(1&a){const v=l.EpF();l.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",null,1)(3,"app-sidenav",2),l.NdJ("onCloseSidenav",function(ee){l.CHM(v);const Me=l.MAs(2);return f.onClose(ee,Me)}),l.qZA()(),l.TgZ(4,"mat-sidenav-content",3)(5,"mat-toolbar",4)(6,"button",5),l.NdJ("click",function(){l.CHM(v);const ee=l.MAs(2);return f.onToggleSidenav(ee)}),l.TgZ(7,"mat-icon"),l._uU(8,"menu"),l.qZA()(),l.TgZ(9,"div"),l._uU(10," DiWHY THE WEBSHOP "),l.qZA(),l.TgZ(11,"div",6),l._UZ(12,"app-header"),l.qZA()(),l.TgZ(13,"div",7),l._UZ(14,"router-outlet"),l.qZA(),l._UZ(15,"app-footer",8),l.qZA()()}},directives:[sa,Pa,wa,Ya,nl,ho,mi.lW,Pd,ti,Td,Sl,tm,G.lC,nm,b],styles:[".container[_ngcontent-%COMP%]{margin-top:32px;margin-bottom:32px;width:100%}mat-sidenav[_ngcontent-%COMP%]{width:250px}"]}),u})();var rm=O(2011);const wp_firebase={projectId:"diwhy-webshop",appId:"1:384933115914:web:a1e2d8c477d2a78aeec7f3",storageBucket:"diwhy-webshop.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyA6ez5uueVBkF42CXRIm4fc5WQ6MV1xDG4",authDomain:"diwhy-webshop.firebaseapp.com",messagingSenderId:"384933115914",measurementId:"G-J5LC1M4HN0"};var Uo=O(5813),Va=O(3692),Aa=O(5867),Ep=O(7128),h_=O(424),zh=O(2090),$u=O(9681),Wh=(O(1877),O(4859));class qh{constructor(h){return h}}class Wu{constructor(){return(0,Uo.vb)("auth")}}const qu=new l.OlP("angularfire2.auth-instances");function Lt(u){return(h,a)=>{const f=h.runOutsideAngular(()=>u(a));return new qh(f)}}const eu={provide:Wu,deps:[[new l.FiY,qu]]},Ia={provide:qh,useFactory:function Kh(u,h){const a=(0,Uo.JM)("auth",u,h);return a&&new qh(a)},deps:[[new l.FiY,qu],Va.Ot]};let f_=(()=>{class u{constructor(){(0,Aa.KN)("angularfire",Uo.q4.full,"auth")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({providers:[Ia,eu]}),u})();function al(u,...h){return{ngModule:f_,providers:[{provide:qu,useFactory:Lt(u),multi:!0,deps:[l.R0b,l.zs3,Uo.HU,Va.z6,[new l.FiY,Ep.nm],...h]}]}}const Vd=(0,Uo.u3)(h_.n,!0);var ec=O(5525);class tc{constructor(h){return h}}const af="firestore",ic=new l.OlP("angularfire2.firestore-instances");function Ei(u){return(h,a)=>{const f=h.runOutsideAngular(()=>u(a));return new tc(f)}}const rc={provide:class nc{constructor(){return(0,Uo.vb)(af)}},deps:[[new l.FiY,ic]]},Gd={provide:tc,useFactory:function kp(u,h){const a=(0,Uo.JM)(af,u,h);return a&&new tc(a)},deps:[[new l.FiY,ic],Va.Ot]};let lf=(()=>{class u{constructor(){(0,Aa.KN)("angularfire",Uo.q4.full,"fst")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({providers:[Gd,rc]}),u})();function $d(u,...h){return{ngModule:lf,providers:[{provide:ic,useFactory:Ei(u),multi:!0,deps:[l.R0b,l.zs3,Uo.HU,Va.z6,[new l.FiY,Wu],[new l.FiY,Ep.nm],...h]}]}}const ed=(0,Uo.u3)(ec.ad,!0),oc="firebasestorage.googleapis.com";class ds extends zh.ZR{constructor(h,a){super(td(h),`Firebase Storage: ${a} (${td(h)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ds.prototype)}_codeEquals(h){return td(h)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(h){this.customData.serverResponse=h,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function td(u){return"storage/"+u}function Ho(u){return new ds("invalid-argument",u)}function lu(){return new ds("app-deleted","The Firebase app was deleted.")}class oo{constructor(h,a){this.bucket=h,this.path_=a}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const h=encodeURIComponent;return"/b/"+h(this.bucket)+"/o/"+h(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(h,a){let f;try{f=oo.makeFromUrl(h,a)}catch(v){return new oo(h,"")}if(""===f.path)return f;throw function yf(u){return new ds("invalid-default-bucket","Invalid default bucket '"+u+"'.")}(h)}static makeFromUrl(h,a){let f=null;const v="([A-Za-z0-9.\\-_]+)",Me=new RegExp("^gs://"+v+"(/(.*))?$","i");function Yt(_){_.path_=decodeURIComponent(_.path)}const Bn=a.replace(/[.]/g,"\\."),d=[{regex:Me,indices:{bucket:1,path:3},postModify:function M(_){"/"===_.path.charAt(_.path.length-1)&&(_.path_=_.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Bn}/v[A-Za-z0-9_]+/b/${v}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Yt},{regex:new RegExp(`^https?://${a===oc?"(?:storage.googleapis.com|storage.cloud.google.com)":a}/${v}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Yt}];for(let _=0;_<d.length;_++){const C=d[_],P=C.regex.exec(h);if(P){let oe=P[C.indices.path];oe||(oe=""),f=new oo(P[C.indices.bucket],oe),C.postModify(f);break}}if(null==f)throw function Jd(u){return new ds("invalid-url","Invalid URL '"+u+"'.")}(h);return f}}class Xd{constructor(h){this.promise_=Promise.reject(h)}getPromise(){return this.promise_}cancel(h=!1){}}function nh(u,h,a,f){if(f<h)throw Ho(`Invalid value for '${u}'. Expected ${h} or greater.`);if(f>a)throw Ho(`Invalid value for '${u}'. Expected ${a} or less.`)}var Ga=(()=>{return(u=Ga||(Ga={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",Ga;var u})();class od{constructor(h,a,f,v,M,ee,Me,ut,Yt,Wt,Bn){this.url_=h,this.method_=a,this.headers_=f,this.body_=v,this.successCodes_=M,this.additionalRetryCodes_=ee,this.callback_=Me,this.errorCallback_=ut,this.timeout_=Yt,this.progressCallback_=Wt,this.connectionFactory_=Bn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ji,Ki)=>{this.resolve_=ji,this.reject_=Ki,this.start_()})}start_(){const a=(f,v)=>{const M=this.resolve_,ee=this.reject_,Me=v.connection;if(v.wasSuccessCode)try{const ut=this.callback_(Me,Me.getResponse());!function th(u){return void 0!==u}(ut)?M():M(ut)}catch(ut){ee(ut)}else if(null!==Me){const ut=function Zd(){return new ds("unknown","An unknown error occurred, please check the error payload for server response.")}();ut.serverResponse=Me.getErrorText(),ee(this.errorCallback_?this.errorCallback_(Me,ut):ut)}else ee(v.canceled?this.appDelete_?lu():function id(){return new ds("canceled","User canceled the upload/download.")}():function nd(){return new ds("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?a(0,new uu(!1,null,!0)):this.backoffId_=function wf(u,h,a){let f=1,v=null,M=null,ee=!1,Me=0;function ut(){return 2===Me}let Yt=!1;function Wt(...e){Yt||(Yt=!0,h.apply(null,e))}function Bn(e){v=setTimeout(()=>{v=null,u(Ki,ut())},e)}function ji(){M&&clearTimeout(M)}function Ki(e,...n){if(Yt)return void ji();if(e)return ji(),void Wt.call(null,e,...n);if(ut()||ee)return ji(),void Wt.call(null,e,...n);let d;f<64&&(f*=2),1===Me?(Me=2,d=0):d=1e3*(f+Math.random()),Bn(d)}let ar=!1;function r(e){ar||(ar=!0,ji(),!Yt&&(null!==v?(e||(Me=2),clearTimeout(v),Bn(0)):e||(Me=1)))}return Bn(0),M=setTimeout(()=>{ee=!0,r(!0)},a),r}((f,v)=>{if(v)return void f(!1,new uu(!1,null,!0));const M=this.connectionFactory_();this.pendingConnection_=M;const ee=Me=>{null!==this.progressCallback_&&this.progressCallback_(Me.loaded,Me.lengthComputable?Me.total:-1)};null!==this.progressCallback_&&M.addUploadProgressListener(ee),M.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&M.removeUploadProgressListener(ee),this.pendingConnection_=null;const Me=M.getErrorCode()===Ga.NO_ERROR,ut=M.getStatus();if(!Me||this.isRetryStatusCode_(ut)){const Wt=M.getErrorCode()===Ga.ABORT;return void f(!1,new uu(!1,null,Wt))}const Yt=-1!==this.successCodes_.indexOf(ut);f(!0,new uu(Yt,M))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(h){this.canceled_=!0,this.appDelete_=h||!1,null!==this.backoffId_&&function eh(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(h){const a=h>=500&&h<600,v=-1!==[408,429].indexOf(h),M=-1!==this.additionalRetryCodes_.indexOf(h);return a||v||M}}class uu{constructor(h,a,f){this.wasSuccessCode=h,this.connection=a,this.canceled=!!f}}class Bc{constructor(h,a){this._service=h,this._location=a instanceof oo?a:oo.makeFromUrl(a,h.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(h,a){return new Bc(h,a)}get root(){const h=new oo(this._location.bucket,"");return this._newRef(this._service,h)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function uc(u){const h=u.lastIndexOf("/",u.length-2);return-1===h?u:u.slice(h+1)}(this._location.path)}get storage(){return this._service}get parent(){const h=function Zp(u){if(0===u.length)return null;const h=u.lastIndexOf("/");return-1===h?"":u.slice(0,h)}(this._location.path);if(null===h)return null;const a=new oo(this._location.bucket,h);return new Bc(this._service,a)}_throwIfRoot(h){if(""===this._location.path)throw function bf(u){return new ds("invalid-root-operation","The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(h)}}function hh(u,h){const a=null==h?void 0:h.storageBucket;return null==a?null:oo.makeFromBucketSpec(a,u)}class $f{constructor(h,a,f,v,M){this.app=h,this._authProvider=a,this._appCheckProvider=f,this._url=v,this._firebaseVersion=M,this._bucket=null,this._host=oc,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=v?oo.makeFromBucketSpec(v,this._host):hh(this._host,this.app.options)}get host(){return this._host}set host(h){this._host=h,this._bucket=null!=this._url?oo.makeFromBucketSpec(this._url,h):hh(h,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(h){nh("time",0,Number.POSITIVE_INFINITY,h),this._maxUploadRetryTime=h}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(h){nh("time",0,Number.POSITIVE_INFINITY,h),this._maxOperationRetryTime=h}_getAuthToken(){var h=this;return(0,lo.Z)(function*(){if(h._overrideAuthToken)return h._overrideAuthToken;const a=h._authProvider.getImmediate({optional:!0});if(a){const f=yield a.getToken();if(null!==f)return f.accessToken}return null})()}_getAppCheckToken(){var h=this;return(0,lo.Z)(function*(){const a=h._appCheckProvider.getImmediate({optional:!0});return a?(yield a.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(h=>h.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(h){return new Bc(this,h)}_makeRequest(h,a,f,v){if(this._deleted)return new Xd(lu());{const M=function M_(u,h,a,f,v,M){const ee=function Wp(u){const h=encodeURIComponent;let a="?";for(const f in u)u.hasOwnProperty(f)&&(a=a+(h(f)+"=")+h(u[f])+"&");return a=a.slice(0,-1),a}(u.urlParams),Me=u.url+ee,ut=Object.assign({},u.headers);return function xf(u,h){h&&(u["X-Firebase-GMPID"]=h)}(ut,h),function $a(u,h){null!==h&&h.length>0&&(u.Authorization="Firebase "+h)}(ut,a),function cc(u,h){u["X-Firebase-Storage-Version"]="webjs/"+(null!=h?h:"AppManager")}(ut,M),function Am(u,h){null!==h&&(u["X-Firebase-AppCheck"]=h)}(ut,f),new od(Me,u.method,ut,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,v)}(h,this._appId,f,v,a,this._firebaseVersion);return this._requests.add(M),M.getPromise().then(()=>this._requests.delete(M),()=>this._requests.delete(M)),M}}makeRequestWithTokens(h,a){var f=this;return(0,lo.Z)(function*(){const[v,M]=yield Promise.all([f._getAuthToken(),f._getAppCheckToken()]);return f._makeRequest(h,a,v,M).getPromise()})()}}const mu="@firebase/storage",lg="storage";function mc(u=(0,$u.getApp)(),h){return u=(0,zh.m9)(u),(0,$u._getProvider)(u,lg).getImmediate({identifier:h})}function yc(u,{instanceIdentifier:h}){const a=u.getProvider("app").getImmediate(),f=u.getProvider("auth-internal"),v=u.getProvider("app-check-internal");return new $f(a,f,v,h,$u.SDK_VERSION)}!function jc(){(0,$u._registerComponent)(new Wh.wA(lg,yc,"PUBLIC").setMultipleInstances(!0)),(0,$u.registerVersion)(mu,"0.9.4",""),(0,$u.registerVersion)(mu,"0.9.4","esm2017")}();class dl{constructor(h){return h}}const ka="storage",mh=new l.OlP("angularfire2.storage-instances");function Wf(u){return(h,a)=>{const f=h.runOutsideAngular(()=>u(a));return new dl(f)}}const dg={provide:class gh{constructor(){return(0,Uo.vb)(ka)}},deps:[[new l.FiY,mh]]},qf={provide:dl,useFactory:function ug(u,h){const a=(0,Uo.JM)(ka,u,h);return a&&new dl(a)},deps:[[new l.FiY,mh],Va.Ot]};let hg=(()=>{class u{constructor(){(0,Aa.KN)("angularfire",Uo.q4.full,"gcs")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({providers:[qf,dg]}),u})();function fg(u,...h){return{ngModule:hg,providers:[{provide:mh,useFactory:Wf(u),multi:!0,deps:[l.R0b,l.zs3,Uo.HU,Va.z6,[new l.FiY,Wu],[new l.FiY,Ep.nm],...h]}]}}const gr=(0,Uo.u3)(mc,!0);let rp=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[ca]]}),u})(),Xm=(()=>{class u{constructor(a,f){(0,te.PM)(f)&&!a&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(a,f=[]){return{ngModule:u,providers:a.serverLoaded?[{provide:ks,useValue:Object.assign(Object.assign({},Ca),a)},{provide:ua,useValue:f,multi:!0},{provide:is,useValue:!0}]:[{provide:ks,useValue:Object.assign(Object.assign({},Ca),a)},{provide:ua,useValue:f,multi:!0}]}}}return u.\u0275fac=function(a){return new(a||u)(l.LFG(is),l.LFG(l.Lbi))},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[dp,Da,rp],dp,Da,rp]}),u})();var e_=O(9832);let t_=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=l.oAB({type:u,bootstrap:[im]}),u.\u0275inj=l.cJS({providers:[Er.l],imports:[[g.b2,ci,rm.hO.initializeApp(wp_firebase),Oe.yb,X.u5,_o.PW,Fe.Rh.forRoot(),X.UX,al(()=>Vd()),$d(()=>ed()),fg(()=>gr()),No,pp,mi.ot,rr,Xm,qc,Ai.lN,Ar.c,to.Cq,Xr,ce.Ng,nr,e_.vV]]}),u})();(0,l.G48)(),g.q6().bootstrapModule(t_).catch(u=>console.error(u))},7128:(Jt,at,O)=>{O.d(at,{nm:()=>Oi});var g=O(5813),be=(O(5e3),O(3692),O(5867),O(5861)),Oe=O(9681),Be=O(4859),me=O(2090),Fe=O(1877);const te=new Map,ce={activated:!1,tokenObservers:[]},Se={initialized:!1,enabled:!1};function Xe(dt){return te.get(dt)||ce}function Ze(dt,Ye){te.set(dt,Ye)}function nt(){return Se}class le{constructor(Ye,vt,Gt,zt,Cn){if(this.operation=Ye,this.retryPolicy=vt,this.getWaitDuration=Gt,this.lowerBound=zt,this.upperBound=Cn,this.pending=null,this.nextErrorWaitInterval=zt,zt>Cn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ye){var vt=this;return(0,be.Z)(function*(){vt.stop();try{vt.pending=new me.BH,yield function Ee(dt){return new Promise(Ye=>{setTimeout(Ye,dt)})}(vt.getNextRun(Ye)),vt.pending.resolve(),yield vt.pending.promise,vt.pending=new me.BH,yield vt.operation(),vt.pending.resolve(),yield vt.pending.promise,vt.process(!0).catch(()=>{})}catch(Gt){vt.retryPolicy(Gt)?vt.process(!1).catch(()=>{}):vt.stop()}})()}getNextRun(Ye){if(Ye)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const vt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),vt}}}const Ue=new me.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function We(dt){if(!Xe(dt).activated)throw Ue.create("use-before-activation",{appName:dt.name})}function Dt(dt,Ye){return ct.apply(this,arguments)}function ct(){return(ct=(0,be.Z)(function*({url:dt,body:Ye},vt){const Gt={"Content-Type":"application/json"},zt=vt.getImmediate({optional:!0});if(zt){const ur=yield zt.getHeartbeatsHeader();ur&&(Gt["X-Firebase-Client"]=ur)}const Cn={method:"POST",body:JSON.stringify(Ye),headers:Gt};let Ii,Pi;try{Ii=yield fetch(dt,Cn)}catch(ur){throw Ue.create("fetch-network-error",{originalErrorMessage:ur.message})}if(200!==Ii.status)throw Ue.create("fetch-status-error",{httpStatus:Ii.status});try{Pi=yield Ii.json()}catch(ur){throw Ue.create("fetch-parse-error",{originalErrorMessage:ur.message})}const _i=Pi.ttl.match(/^([\d.]+)(s)$/);if(!_i||!_i[2]||isNaN(Number(_i[1])))throw Ue.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Pi.ttl}`});const mr=1e3*Number(_i[1]),$i=Date.now();return{token:Pi.attestationToken,expireTimeMillis:$i+mr,issuedAtTimeMillis:$i}})).apply(this,arguments)}function An(dt,Ye){const{projectId:vt,appId:Gt,apiKey:zt}=dt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${vt}/apps/${Gt}:exchangeDebugToken?key=${zt}`,body:{debug_token:Ye}}}const un="firebase-app-check-store";let xt=null;function It(){return xt||(xt=new Promise((dt,Ye)=>{try{const vt=indexedDB.open("firebase-app-check-database",1);vt.onsuccess=Gt=>{dt(Gt.target.result)},vt.onerror=Gt=>{var zt;Ye(Ue.create("storage-open",{originalErrorMessage:null===(zt=Gt.target.error)||void 0===zt?void 0:zt.message}))},vt.onupgradeneeded=Gt=>{0===Gt.oldVersion&&Gt.target.result.createObjectStore(un,{keyPath:"compositeKey"})}}catch(vt){Ye(Ue.create("storage-open",{originalErrorMessage:vt.message}))}}),xt)}function $n(){return($n=(0,be.Z)(function*(dt,Ye){const Gt=(yield It()).transaction(un,"readwrite"),Cn=Gt.objectStore(un).put({compositeKey:dt,value:Ye});return new Promise((Ii,Pi)=>{Cn.onsuccess=_i=>{Ii()},Gt.onerror=_i=>{var mr;Pi(Ue.create("storage-set",{originalErrorMessage:null===(mr=_i.target.error)||void 0===mr?void 0:mr.message}))}})})).apply(this,arguments)}const ni=new Fe.Yd("@firebase/app-check");function Vn(dt,Ye){return(0,me.hl)()?function it(dt,Ye){return function Rn(dt,Ye){return $n.apply(this,arguments)}(function Zn(dt){return`${dt.options.appId}-${dt.name}`}(dt),Ye)}(dt,Ye).catch(vt=>{ni.warn(`Failed to write token to IndexedDB. Error: ${vt}`)}):Promise.resolve()}function di(){return nt().enabled}function Ri(){return ii.apply(this,arguments)}function ii(){return(ii=(0,be.Z)(function*(){const dt=nt();if(dt.enabled&&dt.token)return dt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ht={error:"UNKNOWN_ERROR"};function we(dt){return me.US.encodeString(JSON.stringify(dt),!1)}function tt(dt){return Te.apply(this,arguments)}function Te(){return(Te=(0,be.Z)(function*(dt,Ye=!1){const vt=dt.app;We(vt);const Gt=Xe(vt);let Cn,zt=Gt.token;if(!zt){const _i=yield Gt.cachedTokenPromise;_i&&Xn(_i)&&(zt=_i)}if(!Ye&&zt&&Xn(zt))return{token:zt.token};let Pi,Ii=!1;if(di()){Gt.exchangeTokenPromise||(Gt.exchangeTokenPromise=Dt(An(vt,yield Ri()),dt.heartbeatServiceProvider).then(mr=>(Gt.exchangeTokenPromise=void 0,mr)),Ii=!0);const _i=yield Gt.exchangeTokenPromise;return yield Vn(vt,_i),Ze(vt,Object.assign(Object.assign({},Gt),{token:_i})),{token:_i.token}}try{Gt.exchangeTokenPromise||(Gt.exchangeTokenPromise=Gt.provider.getToken().then(_i=>(Gt.exchangeTokenPromise=void 0,_i)),Ii=!0),zt=yield Gt.exchangeTokenPromise}catch(_i){"appCheck/throttled"===_i.code?ni.warn(_i.message):ni.error(_i),Cn=_i}return zt?(Pi={token:zt.token},Ze(vt,Object.assign(Object.assign({},Gt),{token:zt})),yield Vn(vt,zt)):Pi=Gn(Cn),Ii&&Un(vt,Pi),Pi})).apply(this,arguments)}function Xt(dt,Ye){const vt=Xe(dt),Gt=vt.tokenObservers.filter(zt=>zt.next!==Ye);0===Gt.length&&vt.tokenRefresher&&vt.tokenRefresher.isRunning()&&vt.tokenRefresher.stop(),Ze(dt,Object.assign(Object.assign({},vt),{tokenObservers:Gt}))}function pn(dt){const{app:Ye}=dt,vt=Xe(Ye);let Gt=vt.tokenRefresher;Gt||(Gt=function En(dt){const{app:Ye}=dt;return new le((0,be.Z)(function*(){let Gt;if(Gt=Xe(Ye).token?yield tt(dt,!0):yield tt(dt),Gt.error)throw Gt.error}),()=>!0,()=>{const vt=Xe(Ye);if(vt.token){let Gt=vt.token.issuedAtTimeMillis+.5*(vt.token.expireTimeMillis-vt.token.issuedAtTimeMillis)+3e5;return Gt=Math.min(Gt,vt.token.expireTimeMillis-3e5),Math.max(0,Gt-Date.now())}return 0},3e4,96e4)}(dt),Ze(Ye,Object.assign(Object.assign({},vt),{tokenRefresher:Gt}))),!Gt.isRunning()&&vt.isTokenAutoRefreshEnabled&&Gt.start()}function Un(dt,Ye){const vt=Xe(dt).tokenObservers;for(const Gt of vt)try{"EXTERNAL"===Gt.type&&null!=Ye.error?Gt.error(Ye.error):Gt.next(Ye)}catch(zt){}}function Xn(dt){return dt.expireTimeMillis-Date.now()>0}function Gn(dt){return{token:we(ht),error:dt}}class sn{constructor(Ye,vt){this.app=Ye,this.heartbeatServiceProvider=vt}_delete(){const{tokenObservers:Ye}=Xe(this.app);for(const vt of Ye)Xt(this.app,vt.next);return Promise.resolve()}}const Ar="app-check-internal";!function mi(){(0,Oe._registerComponent)(new Be.wA("app-check",dt=>function gi(dt,Ye){return new sn(dt,Ye)}(dt.getProvider("app").getImmediate(),dt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((dt,Ye,vt)=>{dt.getProvider(Ar).initialize()})),(0,Oe._registerComponent)(new Be.wA(Ar,dt=>function xn(dt){return{getToken:Ye=>tt(dt,Ye),addTokenListener:Ye=>function Qe(dt,Ye,vt,Gt){const{app:zt}=dt,Cn=Xe(zt),Ii={next:vt,error:Gt,type:Ye};if(Ze(zt,Object.assign(Object.assign({},Cn),{tokenObservers:[...Cn.tokenObservers,Ii]})),Cn.token&&Xn(Cn.token)){const Pi=Cn.token;Promise.resolve().then(()=>{vt({token:Pi.token}),pn(dt)}).catch(()=>{})}Cn.cachedTokenPromise.then(()=>pn(dt))}(dt,"INTERNAL",Ye),removeTokenListener:Ye=>Xt(dt.app,Ye)}}(dt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oe.registerVersion)("@firebase/app-check","0.5.5")}();class Oi{constructor(){return(0,g.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(Jt,at,O)=>{O.d(at,{Ot:()=>G,z6:()=>X});var g=O(5867);O(5e3);class G{constructor(ve){return ve}}class X{constructor(){return(0,g.C6)()}}},1205:(Jt,at,O)=>{O.d(at,{zQ:()=>ct,rT:()=>mt,f7:()=>Et,L6:()=>Ot,_Q:()=>We,lh:()=>gt,Qv:()=>Ue,nw:()=>Dt});var g=O(5e3),l=O(7579),G=O(9646),X=O(8306),be=O(8996),Oe=O(6451),Be=O(6063);class me extends l.x{constructor(An=1/0,Ut=1/0,jt=Be.l){super(),this._bufferSize=An,this._windowTime=Ut,this._timestampProvider=jt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ut===1/0,this._bufferSize=Math.max(1,An),this._windowTime=Math.max(1,Ut)}next(An){const{isStopped:Ut,_buffer:jt,_infiniteTimeWindow:un,_timestampProvider:dn,_windowTime:xt}=this;Ut||(jt.push(An),!un&&jt.push(dn.now()+xt)),this._trimBuffer(),super.next(An)}_subscribe(An){this._throwIfClosed(),this._trimBuffer();const Ut=this._innerSubscribe(An),{_infiniteTimeWindow:jt,_buffer:un}=this,dn=un.slice();for(let xt=0;xt<dn.length&&!An.closed;xt+=jt?1:2)An.next(dn[xt]);return this._checkFinalizedStatuses(An),Ut}_trimBuffer(){const{_bufferSize:An,_timestampProvider:Ut,_buffer:jt,_infiniteTimeWindow:un}=this,dn=(un?1:2)*An;if(An<1/0&&dn<jt.length&&jt.splice(0,jt.length-dn),!un){const xt=Ut.now();let It=0;for(let Ke=1;Ke<jt.length&&jt[Ke]<=xt;Ke+=2)It=Ke;It&&jt.splice(0,It+1)}}}var Fe=O(3099);function te(en,An,Ut){let jt,un=!1;return en&&"object"==typeof en?({bufferSize:jt=1/0,windowTime:An=1/0,refCount:un=!1,scheduler:Ut}=en):jt=null!=en?en:1/0,(0,Fe.B)({connector:()=>new me(jt,An,Ut),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:un})}var ce=O(3900),Se=O(576);function Xe(en,An){return(0,Se.m)(An)?(0,ce.w)(()=>en,An):(0,ce.w)(()=>en)}var Ze=O(5363),nt=O(4004),pt=O(590),ze=O(9468),Le=O(9300),He=O(5813),Pe=O(2011),ve=O(9808),le=O(7128);O(127);const Ue=new g.OlP("angularfire2.auth.use-emulator"),Ot=new g.OlP("angularfire2.auth.settings"),We=new g.OlP("angularfire2.auth.tenant-id"),mt=new g.OlP("angularfire2.auth.langugage-code"),gt=new g.OlP("angularfire2.auth.use-device-language"),Et=new g.OlP("angularfire.auth.persistence"),Dt=(en,An,Ut,jt,un,dn,xt,It)=>(0,Pe.cc)(`${en.name}.auth`,"AngularFireAuth",en.name,()=>{const Ke=An.runOutsideAngular(()=>en.auth());if(Ut&&Ke.useEmulator(...Ut),jt&&(Ke.tenantId=jt),Ke.languageCode=un,dn&&Ke.useDeviceLanguage(),xt)for(const[it,Vt]of Object.entries(xt))Ke.settings[it]=Vt;return It&&Ke.setPersistence(It),Ke},[Ut,jt,un,dn,xt,It]);let ct=(()=>{class en{constructor(Ut,jt,un,dn,xt,It,Ke,it,Vt,bn,Rn,$n){const Kn=new l.x,wn=(0,G.of)(void 0).pipe((0,Ze.Q)(xt.outsideAngular),(0,ce.w)(()=>dn.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5881)))),(0,nt.U)(()=>(0,Pe.on)(Ut,dn,jt)),(0,nt.U)(Zn=>Dt(Zn,dn,It,it,Vt,bn,Ke,Rn)),te({bufferSize:1,refCount:!1}));if((0,ve.PM)(un))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,G.of)(null);else{wn.pipe((0,pt.P)()).subscribe();const ni=wn.pipe((0,ce.w)(Vn=>Vn.getRedirectResult().then(zn=>zn,()=>null)),He.iC,te({bufferSize:1,refCount:!1})),Wi=wn.pipe((0,ce.w)(Vn=>new X.y(zn=>({unsubscribe:dn.runOutsideAngular(()=>Vn.onAuthStateChanged(Fn=>zn.next(Fn),Fn=>zn.error(Fn),()=>zn.complete()))})))),ln=wn.pipe((0,ce.w)(Vn=>new X.y(zn=>({unsubscribe:dn.runOutsideAngular(()=>Vn.onIdTokenChanged(Fn=>zn.next(Fn),Fn=>zn.error(Fn),()=>zn.complete()))}))));this.authState=ni.pipe(Xe(Wi),(0,ze.R)(xt.outsideAngular),(0,Ze.Q)(xt.insideAngular)),this.user=ni.pipe(Xe(ln),(0,ze.R)(xt.outsideAngular),(0,Ze.Q)(xt.insideAngular)),this.idToken=this.user.pipe((0,ce.w)(Vn=>Vn?(0,be.D)(Vn.getIdToken()):(0,G.of)(null))),this.idTokenResult=this.user.pipe((0,ce.w)(Vn=>Vn?(0,be.D)(Vn.getIdTokenResult()):(0,G.of)(null))),this.credential=(0,Oe.T)(ni,Kn,this.authState.pipe((0,Le.h)(Vn=>!Vn))).pipe((0,nt.U)(Vn=>(null==Vn?void 0:Vn.user)?Vn:null),(0,ze.R)(xt.outsideAngular),(0,Ze.Q)(xt.insideAngular))}return(0,Pe.pX)(this,wn,dn,{spy:{apply:(Zn,ni,Wi)=>{(Zn.startsWith("signIn")||Zn.startsWith("createUser"))&&Wi.then(ln=>Kn.next(ln))}}})}}return en.\u0275fac=function(Ut){return new(Ut||en)(g.LFG(Pe.Dh),g.LFG(Pe.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(He.HU),g.LFG(Ue,8),g.LFG(Ot,8),g.LFG(We,8),g.LFG(mt,8),g.LFG(gt,8),g.LFG(Et,8),g.LFG(le.nm,8))},en.\u0275prov=g.Yz7({token:en,factory:en.\u0275fac,providedIn:"any"}),en})()},6185:(Jt,at,O)=>{O.d(at,{ST:()=>xn,yb:()=>pe});var g=O(5e3),l=O(4986),G=O(8306),X=O(8996),be=O(9646),Oe=O(5813),Be=O(4482),me=O(5403);function Fe(){return(0,Be.e)((U,x)=>{let j,ge=!1;U.subscribe((0,me.x)(x,rt=>{const Ce=j;j=rt,ge&&x.next([Ce,rt]),ge=!0}))})}var te=O(8675),ce=O(4004),Se=O(5026),Xe=O(1884),Ze=O(9300),nt=O(2011),pt=O(9808),Le=(O(5881),O(3942)),He=O(5525),Pe=O(2090),ve=O(4859);function lt(U,x){if(void 0===x)return{merge:!1};if(void 0!==x.mergeFields&&void 0!==x.merge)throw new He.WA("invalid-argument",`Invalid options passed to function ${U}(): You cannot specify both "merge" and "mergeFields".`);return x}function Ue(){if("undefined"==typeof Uint8Array)throw new He.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ot(){if(!(0,He.Me)())throw new He.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class We{constructor(x){this._delegate=x}static fromBase64String(x){return Ot(),new We(He.Jj.fromBase64String(x))}static fromUint8Array(x){return Ue(),new We(He.Jj.fromUint8Array(x))}toBase64(){return Ot(),this._delegate.toBase64()}toUint8Array(){return Ue(),this._delegate.toUint8Array()}isEqual(x){return this._delegate.isEqual(x._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mt(U){return function gt(U,x){if("object"!=typeof U||null===U)return!1;const j=U;for(const ge of x)if(ge in j&&"function"==typeof j[ge])return!0;return!1}(U,["next","error","complete"])}class Et{enableIndexedDbPersistence(x,j){return(0,He.ST)(x._delegate,{forceOwnership:j})}enableMultiTabIndexedDbPersistence(x){return(0,He.fH)(x._delegate)}clearIndexedDbPersistence(x){return(0,He.Fc)(x._delegate)}}class Dt{constructor(x,j,ge){this._delegate=j,this._persistenceProvider=ge,this.INTERNAL={delete:()=>this.terminate()},x instanceof He.l7||(this._appCompat=x)}get _databaseId(){return this._delegate._databaseId}settings(x){const j=this._delegate._getSettings();!x.merge&&j.host!==x.host&&(0,He.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),x.merge&&delete(x=Object.assign(Object.assign({},j),x)).merge,this._delegate._setSettings(x)}useEmulator(x,j,ge={}){(0,He.at)(this._delegate,x,j,ge)}enableNetwork(){return(0,He.Ix)(this._delegate)}disableNetwork(){return(0,He.TF)(this._delegate)}enablePersistence(x){let j=!1,ge=!1;return x&&(j=!!x.synchronizeTabs,ge=!!x.experimentalForceOwningTab,(0,He.Wi)("synchronizeTabs",j,"experimentalForceOwningTab",ge)),j?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ge)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,He.Mx)(this._delegate)}onSnapshotsInSync(x){return(0,He.sc)(this._delegate,x)}get app(){if(!this._appCompat)throw new He.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(x){try{return new Rn(this,(0,He.hJ)(this._delegate,x))}catch(j){throw un(j,"collection()","Firestore.collection()")}}doc(x){try{return new jt(this,(0,He.JU)(this._delegate,x))}catch(j){throw un(j,"doc()","Firestore.doc()")}}collectionGroup(x){try{return new it(this,(0,He.B$)(this._delegate,x))}catch(j){throw un(j,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(x){return(0,He.i3)(this._delegate,j=>x(new en(this,j)))}batch(){return(0,He.qY)(this._delegate),new An(new He.PU(this._delegate,x=>(0,He.GL)(this._delegate,x)))}loadBundle(x){return(0,He.Pb)(this._delegate,x)}namedQuery(x){return(0,He.L$)(this._delegate,x).then(j=>j?new it(this,j):null)}}class ct extends He.u7{constructor(x){super(),this.firestore=x}convertBytes(x){return new We(new He.Jj(x))}convertReference(x){const j=this.convertDocumentKey(x,this.firestore._databaseId);return jt.forKey(j,this.firestore,null)}}class en{constructor(x,j){this._firestore=x,this._delegate=j,this._userDataWriter=new ct(x)}get(x){const j=$n(x);return this._delegate.get(j).then(ge=>new It(this._firestore,new He.xU(this._firestore._delegate,this._userDataWriter,ge._key,ge._document,ge.metadata,j.converter)))}set(x,j,ge){const rt=$n(x);return ge?(lt("Transaction.set",ge),this._delegate.set(rt,j,ge)):this._delegate.set(rt,j),this}update(x,j,ge,...rt){const Ce=$n(x);return 2===arguments.length?this._delegate.update(Ce,j):this._delegate.update(Ce,j,ge,...rt),this}delete(x){const j=$n(x);return this._delegate.delete(j),this}}class An{constructor(x){this._delegate=x}set(x,j,ge){const rt=$n(x);return ge?(lt("WriteBatch.set",ge),this._delegate.set(rt,j,ge)):this._delegate.set(rt,j),this}update(x,j,ge,...rt){const Ce=$n(x);return 2===arguments.length?this._delegate.update(Ce,j):this._delegate.update(Ce,j,ge,...rt),this}delete(x){const j=$n(x);return this._delegate.delete(j),this}commit(){return this._delegate.commit()}}class Ut{constructor(x,j,ge){this._firestore=x,this._userDataWriter=j,this._delegate=ge}fromFirestore(x,j){const ge=new He.$q(this._firestore._delegate,this._userDataWriter,x._key,x._document,x.metadata,null);return this._delegate.fromFirestore(new Ke(this._firestore,ge),null!=j?j:{})}toFirestore(x,j){return j?this._delegate.toFirestore(x,j):this._delegate.toFirestore(x)}static getInstance(x,j){const ge=Ut.INSTANCES;let rt=ge.get(x);rt||(rt=new WeakMap,ge.set(x,rt));let Ce=rt.get(j);return Ce||(Ce=new Ut(x,new ct(x),j),rt.set(j,Ce)),Ce}}Ut.INSTANCES=new WeakMap;class jt{constructor(x,j){this.firestore=x,this._delegate=j,this._userDataWriter=new ct(x)}static forPath(x,j,ge){if(x.length%2!=0)throw new He.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${x.canonicalString()} has ${x.length}`);return new jt(j,new He.my(j._delegate,ge,new He.Ky(x)))}static forKey(x,j,ge){return new jt(j,new He.my(j._delegate,ge,x))}get id(){return this._delegate.id}get parent(){return new Rn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(x){try{return new Rn(this.firestore,(0,He.hJ)(this._delegate,x))}catch(j){throw un(j,"collection()","DocumentReference.collection()")}}isEqual(x){return(x=(0,Pe.m9)(x))instanceof He.my&&(0,He.Eo)(this._delegate,x)}set(x,j){j=lt("DocumentReference.set",j);try{return j?(0,He.pl)(this._delegate,x,j):(0,He.pl)(this._delegate,x)}catch(ge){throw un(ge,"setDoc()","DocumentReference.set()")}}update(x,j,...ge){try{return 1===arguments.length?(0,He.r7)(this._delegate,x):(0,He.r7)(this._delegate,x,j,...ge)}catch(rt){throw un(rt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,He.oe)(this._delegate)}onSnapshot(...x){const j=dn(x),ge=xt(x,rt=>new It(this.firestore,new He.xU(this.firestore._delegate,this._userDataWriter,rt._key,rt._document,rt.metadata,this._delegate.converter)));return(0,He.cf)(this._delegate,j,ge)}get(x){let j;return j="cache"===(null==x?void 0:x.source)?(0,He.kl)(this._delegate):"server"===(null==x?void 0:x.source)?(0,He.Xk)(this._delegate):(0,He.QT)(this._delegate),j.then(ge=>new It(this.firestore,new He.xU(this.firestore._delegate,this._userDataWriter,ge._key,ge._document,ge.metadata,this._delegate.converter)))}withConverter(x){return new jt(this.firestore,this._delegate.withConverter(x?Ut.getInstance(this.firestore,x):null))}}function un(U,x,j){return U.message=U.message.replace(x,j),U}function dn(U){for(const x of U)if("object"==typeof x&&!mt(x))return x;return{}}function xt(U,x){var j,ge;let rt;return rt=mt(U[0])?U[0]:mt(U[1])?U[1]:"function"==typeof U[0]?{next:U[0],error:U[1],complete:U[2]}:{next:U[1],error:U[2],complete:U[3]},{next:Ce=>{rt.next&&rt.next(x(Ce))},error:null===(j=rt.error)||void 0===j?void 0:j.bind(rt),complete:null===(ge=rt.complete)||void 0===ge?void 0:ge.bind(rt)}}class It{constructor(x,j){this._firestore=x,this._delegate=j}get ref(){return new jt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(x){return this._delegate.data(x)}get(x,j){return this._delegate.get(x,j)}isEqual(x){return(0,He.qK)(this._delegate,x._delegate)}}class Ke extends It{data(x){const j=this._delegate.data(x);return(0,He.K9)(void 0!==j,"Document in a QueryDocumentSnapshot should exist"),j}}class it{constructor(x,j){this.firestore=x,this._delegate=j,this._userDataWriter=new ct(x)}where(x,j,ge){try{return new it(this.firestore,(0,He.IO)(this._delegate,(0,He.ar)(x,j,ge)))}catch(rt){throw un(rt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(x,j){try{return new it(this.firestore,(0,He.IO)(this._delegate,(0,He.Xo)(x,j)))}catch(ge){throw un(ge,/(orderBy|where)\(\)/,"Query.$1()")}}limit(x){try{return new it(this.firestore,(0,He.IO)(this._delegate,(0,He.b9)(x)))}catch(j){throw un(j,"limit()","Query.limit()")}}limitToLast(x){try{return new it(this.firestore,(0,He.IO)(this._delegate,(0,He.vh)(x)))}catch(j){throw un(j,"limitToLast()","Query.limitToLast()")}}startAt(...x){try{return new it(this.firestore,(0,He.IO)(this._delegate,(0,He.e0)(...x)))}catch(j){throw un(j,"startAt()","Query.startAt()")}}startAfter(...x){try{return new it(this.firestore,(0,He.IO)(this._delegate,(0,He.TQ)(...x)))}catch(j){throw un(j,"startAfter()","Query.startAfter()")}}endBefore(...x){try{return new it(this.firestore,(0,He.IO)(this._delegate,(0,He.Lx)(...x)))}catch(j){throw un(j,"endBefore()","Query.endBefore()")}}endAt(...x){try{return new it(this.firestore,(0,He.IO)(this._delegate,(0,He.Wu)(...x)))}catch(j){throw un(j,"endAt()","Query.endAt()")}}isEqual(x){return(0,He.iE)(this._delegate,x._delegate)}get(x){let j;return j="cache"===(null==x?void 0:x.source)?(0,He.UQ)(this._delegate):"server"===(null==x?void 0:x.source)?(0,He.zN)(this._delegate):(0,He.PL)(this._delegate),j.then(ge=>new bn(this.firestore,new He.W(this.firestore._delegate,this._userDataWriter,this._delegate,ge._snapshot)))}onSnapshot(...x){const j=dn(x),ge=xt(x,rt=>new bn(this.firestore,new He.W(this.firestore._delegate,this._userDataWriter,this._delegate,rt._snapshot)));return(0,He.cf)(this._delegate,j,ge)}withConverter(x){return new it(this.firestore,this._delegate.withConverter(x?Ut.getInstance(this.firestore,x):null))}}class Vt{constructor(x,j){this._firestore=x,this._delegate=j}get type(){return this._delegate.type}get doc(){return new Ke(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bn{constructor(x,j){this._firestore=x,this._delegate=j}get query(){return new it(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(x=>new Ke(this._firestore,x))}docChanges(x){return this._delegate.docChanges(x).map(j=>new Vt(this._firestore,j))}forEach(x,j){this._delegate.forEach(ge=>{x.call(j,new Ke(this._firestore,ge))})}isEqual(x){return(0,He.qK)(this._delegate,x._delegate)}}class Rn extends it{constructor(x,j){super(x,j),this.firestore=x,this._delegate=j}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const x=this._delegate.parent;return x?new jt(this.firestore,x):null}doc(x){try{return new jt(this.firestore,void 0===x?(0,He.JU)(this._delegate):(0,He.JU)(this._delegate,x))}catch(j){throw un(j,"doc()","CollectionReference.doc()")}}add(x){return(0,He.ET)(this._delegate,x).then(j=>new jt(this.firestore,j))}isEqual(x){return(0,He.Eo)(this._delegate,x._delegate)}withConverter(x){return new Rn(this.firestore,this._delegate.withConverter(x?Ut.getInstance(this.firestore,x):null))}}function $n(U){return(0,He.Cf)(U,He.my)}class Kn{constructor(...x){this._delegate=new He.Lz(...x)}static documentId(){return new Kn(He.Xb.keyField().canonicalString())}isEqual(x){return(x=(0,Pe.m9)(x))instanceof He.Lz&&this._delegate._internalPath.isEqual(x._internalPath)}}class wn{constructor(x){this._delegate=x}static serverTimestamp(){const x=(0,He.Bt)();return x._methodName="FieldValue.serverTimestamp",new wn(x)}static delete(){const x=(0,He.AK)();return x._methodName="FieldValue.delete",new wn(x)}static arrayUnion(...x){const j=(0,He.vr)(...x);return j._methodName="FieldValue.arrayUnion",new wn(j)}static arrayRemove(...x){const j=(0,He.Ab)(...x);return j._methodName="FieldValue.arrayRemove",new wn(j)}static increment(x){const j=(0,He.nP)(x);return j._methodName="FieldValue.increment",new wn(j)}isEqual(x){return this._delegate.isEqual(x._delegate)}}const Zn={Firestore:Dt,GeoPoint:He.F8,Timestamp:He.EK,Blob:We,Transaction:en,WriteBatch:An,DocumentReference:jt,DocumentSnapshot:It,Query:it,QueryDocumentSnapshot:Ke,QuerySnapshot:bn,CollectionReference:Rn,FieldPath:Kn,FieldValue:wn,setLogLevel:function mn(U){(0,He.Ub)(U)},CACHE_SIZE_UNLIMITED:He.IX};!function Wi(U){(function ni(U,x){U.INTERNAL.registerComponent(new ve.wA("firestore-compat",j=>{const ge=j.getProvider("app-compat").getImmediate(),rt=j.getProvider("firestore").getImmediate();return x(ge,rt)},"PUBLIC").setServiceProps(Object.assign({},Zn)))})(U,(x,j)=>new Dt(x,j,new Et)),U.registerVersion("@firebase/firestore-compat","0.1.16")}(Le.Z);var ln=O(1205),Vn=O(7128),zn=O(127);function di(U,x){return function Fn(U,x=l.z){return new G.y(j=>{let ge;return null!=x?x.schedule(()=>{ge=U.onSnapshot({includeMetadataChanges:!0},j)}):ge=U.onSnapshot({includeMetadataChanges:!0},j),()=>{null!=ge&&ge()}})}(U,x)}function ii(U,x){return di(U,x).pipe((0,ce.U)(j=>({payload:j,type:"query"})))}function Rt(U,x){return ii(U,x).pipe((0,te.O)(void 0),Fe(),(0,ce.U)(([j,ge])=>{const rt=ge.payload.docChanges(),Ce=rt.map(Ie=>({type:Ie.type,payload:Ie}));return j&&JSON.stringify(j.payload.metadata)!==JSON.stringify(ge.payload.metadata)&&ge.payload.docs.forEach((Ie,je)=>{const ft=rt.find(xe=>xe.doc.ref.isEqual(Ie.ref)),_e=null==j?void 0:j.payload.docs.find(xe=>xe.ref.isEqual(Ie.ref));ft&&JSON.stringify(ft.doc.metadata)===JSON.stringify(Ie.metadata)||!ft&&_e&&JSON.stringify(_e.metadata)===JSON.stringify(Ie.metadata)||Ce.push({type:"modified",payload:{oldIndex:je,newIndex:je,type:"modified",doc:Ie}})}),Ce}))}function ht(U,x,j){return Rt(U,j).pipe((0,Se.R)((ge,rt)=>function we(U,x,j){return x.forEach(ge=>{j.indexOf(ge.type)>-1&&(U=function Te(U,x){switch(x.type){case"added":if(!U[x.newIndex]||!U[x.newIndex].doc.ref.isEqual(x.doc.ref))return tt(U,x.newIndex,0,x);break;case"modified":if(null==U[x.oldIndex]||U[x.oldIndex].doc.ref.isEqual(x.doc.ref)){if(x.oldIndex!==x.newIndex){const j=U.slice();return j.splice(x.oldIndex,1),j.splice(x.newIndex,0,x),j}return tt(U,x.newIndex,1,x)}break;case"removed":if(U[x.oldIndex]&&U[x.oldIndex].doc.ref.isEqual(x.doc.ref))return tt(U,x.oldIndex,1)}return U}(U,ge))}),U}(ge,rt.map(Ce=>Ce.payload),x),[]),(0,Xe.x)(),(0,ce.U)(ge=>ge.map(rt=>({type:rt.type,payload:rt}))))}function tt(U,x,j,...ge){const rt=U.slice();return rt.splice(x,j,...ge),rt}function Qe(U){return(!U||0===U.length)&&(U=["added","removed","modified"]),U}class Xt{constructor(x,j,ge){this.ref=x,this.query=j,this.afs=ge}stateChanges(x){let j=Rt(this.query,this.afs.schedulers.outsideAngular);return x&&x.length>0&&(j=j.pipe((0,ce.U)(ge=>ge.filter(rt=>x.indexOf(rt.type)>-1)))),j.pipe((0,te.O)(void 0),Fe(),(0,Ze.h)(([ge,rt])=>rt.length>0||!ge),(0,ce.U)(([ge,rt])=>rt),Oe.iC)}auditTrail(x){return this.stateChanges(x).pipe((0,Se.R)((j,ge)=>[...j,...ge],[]))}snapshotChanges(x){const j=Qe(x);return ht(this.query,j,this.afs.schedulers.outsideAngular).pipe(Oe.iC)}valueChanges(x={}){return ii(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(j=>j.payload.docs.map(ge=>x.idField?Object.assign(Object.assign({},ge.data()),{[x.idField]:ge.id}):ge.data())),Oe.iC)}get(x){return(0,X.D)(this.query.get(x)).pipe(Oe.iC)}add(x){return this.ref.add(x)}doc(x){return new pn(this.ref.doc(x),this.afs)}}class pn{constructor(x,j){this.ref=x,this.afs=j}set(x,j){return this.ref.set(x,j)}update(x){return this.ref.update(x)}delete(){return this.ref.delete()}collection(x,j){const ge=this.ref.collection(x),{ref:rt,query:Ce}=gi(ge,j);return new Xt(rt,Ce,this.afs)}snapshotChanges(){return function Ri(U,x){return di(U,x).pipe((0,te.O)(void 0),Fe(),(0,ce.U)(([j,ge])=>ge.exists?(null==j?void 0:j.exists)?{payload:ge,type:"modified"}:{payload:ge,type:"added"}:{payload:ge,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Oe.iC)}valueChanges(x={}){return this.snapshotChanges().pipe((0,ce.U)(({payload:j})=>x.idField?Object.assign(Object.assign({},j.data()),{[x.idField]:j.id}):j.data()))}get(x){return(0,X.D)(this.ref.get(x)).pipe(Oe.iC)}}class En{constructor(x,j){this.query=x,this.afs=j}stateChanges(x){return x&&0!==x.length?Rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(j=>j.filter(ge=>x.indexOf(ge.type)>-1)),(0,Ze.h)(j=>j.length>0),Oe.iC):Rt(this.query,this.afs.schedulers.outsideAngular).pipe(Oe.iC)}auditTrail(x){return this.stateChanges(x).pipe((0,Se.R)((j,ge)=>[...j,...ge],[]))}snapshotChanges(x){const j=Qe(x);return ht(this.query,j,this.afs.schedulers.outsideAngular).pipe(Oe.iC)}valueChanges(x={}){return ii(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(ge=>ge.payload.docs.map(rt=>x.idField?Object.assign({[x.idField]:rt.id},rt.data()):rt.data())),Oe.iC)}get(x){return(0,X.D)(this.query.get(x)).pipe(Oe.iC)}}const Un=new g.OlP("angularfire2.enableFirestorePersistence"),Xn=new g.OlP("angularfire2.firestore.persistenceSettings"),Gn=new g.OlP("angularfire2.firestore.settings"),sn=new g.OlP("angularfire2.firestore.use-emulator");function gi(U,x=(j=>j)){return{query:x(U),ref:U}}let xn=(()=>{class U{constructor(j,ge,rt,Ce,Ie,je,ft,_e,xe,Y,de,ye,Ve,wt,Nt,cn,oi){this.schedulers=ft;const ri=(0,nt.on)(j,je,ge),Hn=xe;Y&&(0,ln.nw)(ri,je,de,Ve,wt,Nt,ye,cn),[this.firestore,this.persistenceEnabled$]=(0,nt.cc)(`${ri.name}.firestore`,"AngularFirestore",ri.name,()=>{const ti=je.runOutsideAngular(()=>ri.firestore());if(Ce&&ti.settings(Ce),Hn&&ti.useEmulator(...Hn),rt&&!(0,pt.PM)(Ie)){const rr=()=>{try{return(0,X.D)(ti.enablePersistence(_e||void 0).then(()=>!0,()=>!1))}catch(Ai){return"undefined"!=typeof console&&console.warn(Ai),(0,be.of)(!1)}};return[ti,je.runOutsideAngular(rr)]}return[ti,(0,be.of)(!1)]},[Ce,Hn,rt])}collection(j,ge){let rt;rt="string"==typeof j?this.firestore.collection(j):j;const{ref:Ce,query:Ie}=gi(rt,ge),je=this.schedulers.ngZone.run(()=>Ce);return new Xt(je,Ie,this)}collectionGroup(j,ge){const rt=ge||(Ie=>Ie),Ce=this.firestore.collectionGroup(j);return new En(rt(Ce),this)}doc(j){let ge;ge="string"==typeof j?this.firestore.doc(j):j;const rt=this.schedulers.ngZone.run(()=>ge);return new pn(rt,this)}createId(){return this.firestore.collection("_").doc().id}}return U.\u0275fac=function(j){return new(j||U)(g.LFG(nt.Dh),g.LFG(nt.xv,8),g.LFG(Un,8),g.LFG(Gn,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Oe.HU),g.LFG(Xn,8),g.LFG(sn,8),g.LFG(ln.zQ,8),g.LFG(ln.Qv,8),g.LFG(ln.L6,8),g.LFG(ln._Q,8),g.LFG(ln.rT,8),g.LFG(ln.lh,8),g.LFG(ln.f7,8),g.LFG(Vn.nm,8))},U.\u0275prov=g.Yz7({token:U,factory:U.\u0275fac,providedIn:"any"}),U})(),pe=(()=>{class U{constructor(){zn.Z.registerVersion("angularfire",Oe.q4.full,"fst-compat")}static enablePersistence(j){return{ngModule:U,providers:[{provide:Un,useValue:!0},{provide:Xn,useValue:j}]}}}return U.\u0275fac=function(j){return new(j||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({providers:[xn]}),U})()},2011:(Jt,at,O)=>{O.d(at,{hO:()=>Xe,xv:()=>Fe,Dh:()=>me,GT:()=>Oe,cc:()=>Ze,on:()=>te,pX:()=>be});var g=O(5e3),l=O(127),G=O(5813);Jt=O.hmd(Jt);const X=["ngOnDestroy"],be=(Le,He,Pe,ve={})=>new Proxy(Le,{get:(le,Ee)=>Pe.runOutsideAngular(()=>{var lt;if(Le[Ee])return(null===(lt=null==ve?void 0:ve.spy)||void 0===lt?void 0:lt.get)&&ve.spy.get(Ee,Le[Ee]),Le[Ee];if(X.indexOf(Ee)>-1)return()=>{};const Ue=He.toPromise().then(Ot=>{const We=Ot&&Ot[Ee];return"function"==typeof We?We.bind(Ot):We&&We.then?We.then(mt=>Pe.run(()=>mt)):Pe.run(()=>We)});return new Proxy(()=>{},{get:(Ot,We)=>Ue[We],apply:(Ot,We,mt)=>Ue.then(gt=>{var Et;const Dt=gt&&gt(...mt);return(null===(Et=null==ve?void 0:ve.spy)||void 0===Et?void 0:Et.apply)&&ve.spy.apply(Ee,mt,Dt),Dt})})})}),Oe=(Le,He)=>{He.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(ve=>{Object.defineProperty(Le.prototype,ve,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,ve))})})};class Be{constructor(He){return He}}const me=new g.OlP("angularfire2.app.options"),Fe=new g.OlP("angularfire2.app.name");function te(Le,He,Pe){const le="object"==typeof Pe&&Pe||{};le.name=le.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const lt=l.Z.apps.filter(Ue=>Ue&&Ue.name===le.name)[0]||He.runOutsideAngular(()=>l.Z.initializeApp(Le,le));try{JSON.stringify(Le)!==JSON.stringify(lt.options)&&ce("error",`${lt.name} Firebase App already initialized with different options${Jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ue){}return new Be(lt)}const ce=(Le,...He)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[Le](...He)},Se={provide:Be,useFactory:te,deps:[me,g.R0b,[new g.FiY,Fe]]};let Xe=(()=>{class Le{constructor(Pe){l.Z.registerVersion("angularfire",G.q4.full,"core"),l.Z.registerVersion("angularfire",G.q4.full,"app-compat"),l.Z.registerVersion("angular",g.q4F.full,Pe.toString())}static initializeApp(Pe,ve){return{ngModule:Le,providers:[{provide:me,useValue:Pe},{provide:Fe,useValue:ve}]}}}return Le.\u0275fac=function(Pe){return new(Pe||Le)(g.LFG(g.Lbi))},Le.\u0275mod=g.oAB({type:Le}),Le.\u0275inj=g.cJS({providers:[Se]}),Le})();function Ze(Le,He,Pe,ve,le){const[,Ee,lt]=globalThis.\u0275AngularfireInstanceCache.find(Ue=>Ue[0]===Le)||[];if(Ee)return function nt(Le,He){try{return Le.toString()===He.toString()}catch(Pe){return Le===He}}(le,lt)||(ze("error",`${He} was already initialized on the ${Pe} Firebase App with different settings.${pt?" You may need to reload as Firebase is not HMR aware.":""}`),ze("warn",{is:le,was:lt})),Ee;{const Ue=ve();return globalThis.\u0275AngularfireInstanceCache.push([Le,Ue,le]),Ue}}const pt=!!Jt.hot,ze=(Le,...He)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[Le](...He)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Jt,at,O)=>{O.d(at,{q4:()=>ks,iC:()=>Oo,HU:()=>Ou,vb:()=>Qo,JM:()=>xc,u3:()=>Kc});var g=O(5e3),l=O(5867),G=O(5861),X=O(9681),be=O(2090),Oe=O(4859),Be=O(1877);const me="@firebase/installations",ce="w:0.5.7",Se="FIS_v2",Le=new be.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function He(B){return B instanceof be.ZR&&B.code.includes("request-failed")}function Pe({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function ve(B){return{token:B.token,requestStatus:2,expiresIn:mt(B.expiresIn),creationTime:Date.now()}}function le(B,W){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,G.Z)(function*(B,W){const Ge=(yield W.json()).error;return Le.create("request-failed",{requestName:B,serverCode:Ge.code,serverMessage:Ge.message,serverStatus:Ge.status})})).apply(this,arguments)}function lt({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function Ue(B,{refreshToken:W}){const ae=lt(B);return ae.append("Authorization",function gt(B){return`${Se} ${B}`}(W)),ae}function Ot(B){return We.apply(this,arguments)}function We(){return(We=(0,G.Z)(function*(B){const W=yield B();return W.status>=500&&W.status<600?B():W})).apply(this,arguments)}function mt(B){return Number(B.replace("s","000"))}function Et(B,W){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,G.Z)(function*({appConfig:B,heartbeatServiceProvider:W},{fid:ae}){const Ge=Pe(B),_t=lt(B),At=W.getImmediate({optional:!0});if(At){const Di=yield At.getHeartbeatsHeader();Di&&_t.append("x-firebase-client",Di)}const fn={method:"POST",headers:_t,body:JSON.stringify({fid:ae,authVersion:Se,appId:B.appId,sdkVersion:ce})},ui=yield Ot(()=>fetch(Ge,fn));if(ui.ok){const Di=yield ui.json();return{fid:Di.fid||ae,registrationStatus:2,refreshToken:Di.refreshToken,authToken:ve(Di.authToken)}}throw yield le("Create Installation",ui)})).apply(this,arguments)}function ct(B){return new Promise(W=>{setTimeout(W,B)})}const en=/^[cdef][\w-]{21}$/;function Ut(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const ae=function jt(B){return function mn(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return en.test(ae)?ae:""}catch(B){return""}}function un(B){return`${B.appName}!${B.appId}`}const dn=new Map;function xt(B,W){const ae=un(B);it(ae,W),function Vt(B,W){const ae=function Rn(){return!bn&&"BroadcastChannel"in self&&(bn=new BroadcastChannel("[Firebase] FID Change"),bn.onmessage=B=>{it(B.data.key,B.data.fid)}),bn}();ae&&ae.postMessage({key:B,fid:W}),function $n(){0===dn.size&&bn&&(bn.close(),bn=null)}()}(ae,W)}function it(B,W){const ae=dn.get(B);if(ae)for(const Ge of ae)Ge(W)}let bn=null;const Zn="firebase-installations-store";let ni=null;function Wi(){return ni||(ni=(0,be.X3)("firebase-installations-database",1,(B,W)=>{0===W&&B.createObjectStore(Zn)})),ni}function ln(B,W){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,G.Z)(function*(B,W){const ae=un(B),_t=(yield Wi()).transaction(Zn,"readwrite"),At=_t.objectStore(Zn),rn=yield At.get(ae);return yield At.put(W,ae),yield _t.complete,(!rn||rn.fid!==W.fid)&&xt(B,W.fid),W})).apply(this,arguments)}function zn(B){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,G.Z)(function*(B){const W=un(B),Ge=(yield Wi()).transaction(Zn,"readwrite");yield Ge.objectStore(Zn).delete(W),yield Ge.complete})).apply(this,arguments)}function di(B,W){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,G.Z)(function*(B,W){const ae=un(B),_t=(yield Wi()).transaction(Zn,"readwrite"),At=_t.objectStore(Zn),rn=yield At.get(ae),fn=W(rn);return void 0===fn?yield At.delete(ae):yield At.put(fn,ae),yield _t.complete,fn&&(!rn||rn.fid!==fn.fid)&&xt(B,fn.fid),fn})).apply(this,arguments)}function ii(B){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,G.Z)(function*(B){let W;const ae=yield di(B.appConfig,Ge=>{const _t=ht(Ge),At=we(B,_t);return W=At.registrationPromise,At.installationEntry});return""===ae.fid?{installationEntry:yield W}:{installationEntry:ae,registrationPromise:W}})).apply(this,arguments)}function ht(B){return En(B||{fid:Ut(),registrationStatus:0})}function we(B,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(Le.create("app-offline"))};const ae={fid:W.fid,registrationStatus:1,registrationTime:Date.now()},Ge=function tt(B,W){return Te.apply(this,arguments)}(B,ae);return{installationEntry:ae,registrationPromise:Ge}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:Qe(B)}:{installationEntry:W}}function Te(){return(Te=(0,G.Z)(function*(B,W){try{const ae=yield Et(B,W);return ln(B.appConfig,ae)}catch(ae){throw He(ae)&&409===ae.customData.serverCode?yield zn(B.appConfig):yield ln(B.appConfig,{fid:W.fid,registrationStatus:0}),ae}})).apply(this,arguments)}function Qe(B){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,G.Z)(function*(B){let W=yield pn(B.appConfig);for(;1===W.registrationStatus;)yield ct(100),W=yield pn(B.appConfig);if(0===W.registrationStatus){const{installationEntry:ae,registrationPromise:Ge}=yield ii(B);return Ge||ae}return W})).apply(this,arguments)}function pn(B){return di(B,W=>{if(!W)throw Le.create("installation-not-found");return En(W)})}function En(B){return function Un(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function Xn(B,W){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,G.Z)(function*({appConfig:B,heartbeatServiceProvider:W},ae){const Ge=sn(B,ae),_t=Ue(B,ae),At=W.getImmediate({optional:!0});if(At){const Di=yield At.getHeartbeatsHeader();Di&&_t.append("x-firebase-client",Di)}const fn={method:"POST",headers:_t,body:JSON.stringify({installation:{sdkVersion:ce,appId:B.appId}})},ui=yield Ot(()=>fetch(Ge,fn));if(ui.ok)return ve(yield ui.json());throw yield le("Generate Auth Token",ui)})).apply(this,arguments)}function sn(B,{fid:W}){return`${Pe(B)}/${W}/authTokens:generate`}function gi(B){return xn.apply(this,arguments)}function xn(){return(xn=(0,G.Z)(function*(B,W=!1){let ae;const Ge=yield di(B.appConfig,At=>{if(!rt(At))throw Le.create("not-registered");const rn=At.authToken;if(!W&&Ce(rn))return At;if(1===rn.requestStatus)return ae=pe(B,W),At;{if(!navigator.onLine)throw Le.create("app-offline");const fn=je(At);return ae=j(B,fn),fn}});return ae?yield ae:Ge.authToken})).apply(this,arguments)}function pe(B,W){return U.apply(this,arguments)}function U(){return(U=(0,G.Z)(function*(B,W){let ae=yield x(B.appConfig);for(;1===ae.authToken.requestStatus;)yield ct(100),ae=yield x(B.appConfig);const Ge=ae.authToken;return 0===Ge.requestStatus?gi(B,W):Ge})).apply(this,arguments)}function x(B){return di(B,W=>{if(!rt(W))throw Le.create("not-registered");return function ft(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function j(B,W){return ge.apply(this,arguments)}function ge(){return(ge=(0,G.Z)(function*(B,W){try{const ae=yield Xn(B,W),Ge=Object.assign(Object.assign({},W),{authToken:ae});return yield ln(B.appConfig,Ge),ae}catch(ae){if(!He(ae)||401!==ae.customData.serverCode&&404!==ae.customData.serverCode){const Ge=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield ln(B.appConfig,Ge)}else yield zn(B.appConfig);throw ae}})).apply(this,arguments)}function rt(B){return void 0!==B&&2===B.registrationStatus}function Ce(B){return 2===B.requestStatus&&!function Ie(B){const W=Date.now();return W<B.creationTime||B.creationTime+B.expiresIn<W+36e5}(B)}function je(B){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:W})}function xe(){return(xe=(0,G.Z)(function*(B){const W=B,{installationEntry:ae,registrationPromise:Ge}=yield ii(W);return Ge?Ge.catch(console.error):gi(W).catch(console.error),ae.fid})).apply(this,arguments)}function de(){return(de=(0,G.Z)(function*(B,W=!1){const ae=B;return yield ye(ae),(yield gi(ae,W)).token})).apply(this,arguments)}function ye(B){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,G.Z)(function*(B){const{registrationPromise:W}=yield ii(B);W&&(yield W)})).apply(this,arguments)}function Ai(B){return Le.create("missing-app-config-values",{valueName:B})}const Ar="installations",hn=B=>{const W=B.getProvider("app").getImmediate(),ae=function rr(B){if(!B||!B.options)throw Ai("App Configuration");if(!B.name)throw Ai("App Name");const W=["projectId","apiKey","appId"];for(const ae of W)if(!B.options[ae])throw Ai(ae);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(W);return{app:W,appConfig:ae,heartbeatServiceProvider:(0,X._getProvider)(W,"heartbeat"),_delete:()=>Promise.resolve()}},Yn=B=>{const W=B.getProvider("app").getImmediate(),ae=(0,X._getProvider)(W,Ar).getImmediate();return{getId:()=>function _e(B){return xe.apply(this,arguments)}(ae),getToken:_t=>function Y(B){return de.apply(this,arguments)}(ae,_t)}};(function Oi(){(0,X._registerComponent)(new Oe.wA(Ar,hn,"PUBLIC")),(0,X._registerComponent)(new Oe.wA("installations-internal",Yn,"PRIVATE"))})(),(0,X.registerVersion)(me,"0.5.7"),(0,X.registerVersion)(me,"0.5.7","esm2017");const Mr="@firebase/remote-config",Ui=new be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $i{constructor(W,ae,Ge,_t){this.client=W,this.storage=ae,this.storageCache=Ge,this.logger=_t}isCachedDataFresh(W,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ge=Date.now()-ae,_t=Ge<=W;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${W}. Is cache hit: ${_t}.`),_t}fetch(W){var ae=this;return(0,G.Z)(function*(){const[Ge,_t]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(_t&&ae.isCachedDataFresh(W.cacheMaxAgeMillis,Ge))return _t;W.eTag=_t&&_t.eTag;const At=yield ae.client.fetch(W),rn=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===At.status&&rn.push(ae.storage.setLastSuccessfulFetchResponse(At)),yield Promise.all(rn),At})()}}function ur(B=navigator){return B.languages&&B.languages[0]||B.language}class wi{constructor(W,ae,Ge,_t,At,rn){this.firebaseInstallations=W,this.sdkVersion=ae,this.namespace=Ge,this.projectId=_t,this.apiKey=At,this.appId=rn}fetch(W){var ae=this;return(0,G.Z)(function*(){const[Ge,_t]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),rn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,fn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":W.eTag||"*"},ui={sdk_version:ae.sdkVersion,app_instance_id:Ge,app_instance_id_token:_t,app_id:ae.appId,language_code:ur()},Di={method:"POST",headers:fn,body:JSON.stringify(ui)},Yi=fetch(rn,Di),Mn=new Promise((Jo,ko)=>{W.signal.addEventListener(()=>{const Dc=new Error("The operation was aborted.");Dc.name="AbortError",ko(Dc)})});let Kr;try{yield Promise.race([Yi,Mn]),Kr=yield Yi}catch(Jo){let ko="fetch-client-network";throw"AbortError"===Jo.name&&(ko="fetch-timeout"),Ui.create(ko,{originalErrorMessage:Jo.message})}let Vi=Kr.status;const Vo=Kr.headers.get("ETag")||void 0;let da,Ro;if(200===Kr.status){let Jo;try{Jo=yield Kr.json()}catch(ko){throw Ui.create("fetch-client-parse",{originalErrorMessage:ko.message})}da=Jo.entries,Ro=Jo.state}if("INSTANCE_STATE_UNSPECIFIED"===Ro?Vi=500:"NO_CHANGE"===Ro?Vi=304:("NO_TEMPLATE"===Ro||"EMPTY_CONFIG"===Ro)&&(da={}),304!==Vi&&200!==Vi)throw Ui.create("fetch-status",{httpStatus:Vi});return{status:Vi,eTag:Vo,config:da}})()}}class kr{constructor(W,ae){this.client=W,this.storage=ae}fetch(W){var ae=this;return(0,G.Z)(function*(){const Ge=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(W,Ge)})()}attemptFetch(W,{throttleEndTimeMillis:ae,backoffCount:Ge}){var _t=this;return(0,G.Z)(function*(){yield function Nr(B,W){return new Promise((ae,Ge)=>{const _t=Math.max(W-Date.now(),0),At=setTimeout(ae,_t);B.addEventListener(()=>{clearTimeout(At),Ge(Ui.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(W.signal,ae);try{const At=yield _t.client.fetch(W);return yield _t.storage.deleteThrottleMetadata(),At}catch(At){if(!function ma(B){if(!(B instanceof be.ZR&&B.customData))return!1;const W=Number(B.customData.httpStatus);return 429===W||500===W||503===W||504===W}(At))throw At;const rn={throttleEndTimeMillis:Date.now()+(0,be.$s)(Ge),backoffCount:Ge+1};return yield _t.storage.setThrottleMetadata(rn),_t.attemptFetch(W,rn)}})()}}class Do{constructor(W,ae,Ge,_t,At){this.app=W,this._client=ae,this._storageCache=Ge,this._storage=_t,this._logger=At,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zs(B,W){const ae=B.target.error||void 0;return Ui.create(W,{originalErrorMessage:ae&&ae.message})}const Ls="app_namespace_store";class Ys{constructor(W,ae,Ge,_t=function na(){return new Promise((B,W)=>{try{const ae=indexedDB.open("firebase_remote_config",1);ae.onerror=Ge=>{W(Zs(Ge,"storage-open"))},ae.onsuccess=Ge=>{B(Ge.target.result)},ae.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(Ls,{keyPath:"compositeKey"})}}catch(ae){W(Ui.create("storage-open",{originalErrorMessage:ae}))}})}()){this.appId=W,this.appName=ae,this.namespace=Ge,this.openDbPromise=_t}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(W){return this.set("last_fetch_status",W)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(W){return this.set("last_successful_fetch_timestamp_millis",W)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(W){return this.set("last_successful_fetch_response",W)}getActiveConfig(){return this.get("active_config")}setActiveConfig(W){return this.set("active_config",W)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(W){return this.set("active_config_etag",W)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(W){return this.set("throttle_metadata",W)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(W){var ae=this;return(0,G.Z)(function*(){const Ge=yield ae.openDbPromise;return new Promise((_t,At)=>{const fn=Ge.transaction([Ls],"readonly").objectStore(Ls),ui=ae.createCompositeKey(W);try{const Di=fn.get(ui);Di.onerror=Yi=>{At(Zs(Yi,"storage-get"))},Di.onsuccess=Yi=>{const Mn=Yi.target.result;_t(Mn?Mn.value:void 0)}}catch(Di){At(Ui.create("storage-get",{originalErrorMessage:Di&&Di.message}))}})})()}set(W,ae){var Ge=this;return(0,G.Z)(function*(){const _t=yield Ge.openDbPromise;return new Promise((At,rn)=>{const ui=_t.transaction([Ls],"readwrite").objectStore(Ls),Di=Ge.createCompositeKey(W);try{const Yi=ui.put({compositeKey:Di,value:ae});Yi.onerror=Mn=>{rn(Zs(Mn,"storage-set"))},Yi.onsuccess=()=>{At()}}catch(Yi){rn(Ui.create("storage-set",{originalErrorMessage:Yi&&Yi.message}))}})})()}delete(W){var ae=this;return(0,G.Z)(function*(){const Ge=yield ae.openDbPromise;return new Promise((_t,At)=>{const fn=Ge.transaction([Ls],"readwrite").objectStore(Ls),ui=ae.createCompositeKey(W);try{const Di=fn.delete(ui);Di.onerror=Yi=>{At(Zs(Yi,"storage-delete"))},Di.onsuccess=()=>{_t()}}catch(Di){At(Ui.create("storage-delete",{originalErrorMessage:Di&&Di.message}))}})})()}createCompositeKey(W){return[this.appId,this.appName,this.namespace,W].join()}}class ms{constructor(W){this.storage=W}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var W=this;return(0,G.Z)(function*(){const ae=W.storage.getLastFetchStatus(),Ge=W.storage.getLastSuccessfulFetchTimestampMillis(),_t=W.storage.getActiveConfig(),At=yield ae;At&&(W.lastFetchStatus=At);const rn=yield Ge;rn&&(W.lastSuccessfulFetchTimestampMillis=rn);const fn=yield _t;fn&&(W.activeConfig=fn)})()}setLastFetchStatus(W){return this.lastFetchStatus=W,this.storage.setLastFetchStatus(W)}setLastSuccessfulFetchTimestampMillis(W){return this.lastSuccessfulFetchTimestampMillis=W,this.storage.setLastSuccessfulFetchTimestampMillis(W)}setActiveConfig(W){return this.activeConfig=W,this.storage.setActiveConfig(W)}}function Qs(){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,G.Z)(function*(){if(!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch(B){return!1}})).apply(this,arguments)}!function ls(){(0,X._registerComponent)(new Oe.wA("remote-config",function B(W,{instanceIdentifier:ae}){const Ge=W.getProvider("app").getImmediate(),_t=W.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ui.create("registration-window");if(!(0,be.hl)())throw Ui.create("indexed-db-unavailable");const{projectId:At,apiKey:rn,appId:fn}=Ge.options;if(!At)throw Ui.create("registration-project-id");if(!rn)throw Ui.create("registration-api-key");if(!fn)throw Ui.create("registration-app-id");const ui=new Ys(fn,Ge.name,ae=ae||"firebase"),Di=new ms(ui),Yi=new Be.Yd(Mr);Yi.logLevel=Be.in.ERROR;const Mn=new wi(_t,X.SDK_VERSION,ae,At,rn,fn),Kr=new kr(Mn,ui),Vi=new $i(Kr,ui,Di,Yi),Vo=new Do(Ge,Vi,Di,ui,Yi);return function dt(B){const W=(0,be.m9)(B);W._initializePromise||(W._initializePromise=W._storageCache.loadFromStorage().then(()=>{W._isInitializationComplete=!0}))}(Vo),Vo},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(Mr,"0.3.6"),(0,X.registerVersion)(Mr,"0.3.6","esm2017")}();const cs="/firebase-messaging-sw.js",ys="/firebase-cloud-messaging-push-scope",Hr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$r="google.c.a.c_id",Ir="google.c.a.c_l",Es="google.c.a.ts",zr="google.c.a.e";var Wr=(()=>{return(B=Wr||(Wr={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",Wr;var B})();function Ni(B){const W=new Uint8Array(B);return btoa(String.fromCharCode(...W)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xs(B){const ae=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ge=atob(ae),_t=new Uint8Array(Ge.length);for(let At=0;At<Ge.length;++At)_t[At]=Ge.charCodeAt(At);return _t}const vs="fcm_token_details_db",Cs="fcm_token_object_Store";function Os(B){return _r.apply(this,arguments)}function _r(){return _r=(0,G.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(At=>At.name).includes(vs))return null;let W=null;return(yield(0,be.X3)(vs,5,function(){var Ge=(0,G.Z)(function*(_t,At,rn,fn){var ui;if(At<2||!_t.objectStoreNames.contains(Cs))return;const Di=fn.objectStore(Cs),Yi=yield Di.index("fcmSenderId").get(B);if(yield Di.clear(),Yi)if(2===At){const Mn=Yi;if(!Mn.auth||!Mn.p256dh||!Mn.endpoint)return;W={token:Mn.fcmToken,createTime:null!==(ui=Mn.createTime)&&void 0!==ui?ui:Date.now(),subscriptionOptions:{auth:Mn.auth,p256dh:Mn.p256dh,endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:"string"==typeof Mn.vapidKey?Mn.vapidKey:Ni(Mn.vapidKey)}}}else if(3===At){const Mn=Yi;W={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:Ni(Mn.auth),p256dh:Ni(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:Ni(Mn.vapidKey)}}}else if(4===At){const Mn=Yi;W={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:Ni(Mn.auth),p256dh:Ni(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:Ni(Mn.vapidKey)}}}});return function(_t,At,rn,fn){return Ge.apply(this,arguments)}}())).close(),yield(0,be.Lj)(vs),yield(0,be.Lj)("fcm_vapid_details_db"),yield(0,be.Lj)("undefined"),eo(W)?W:null}),_r.apply(this,arguments)}function eo(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:W}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof W.auth&&W.auth.length>0&&"string"==typeof W.p256dh&&W.p256dh.length>0&&"string"==typeof W.endpoint&&W.endpoint.length>0&&"string"==typeof W.swScope&&W.swScope.length>0&&"string"==typeof W.vapidKey&&W.vapidKey.length>0}const us="firebase-messaging-store";let Us=null;function bs(){return Us||(Us=(0,be.X3)("firebase-messaging-database",1,(B,W)=>{0===W&&B.createObjectStore(us)})),Us}function li(B){return z.apply(this,arguments)}function z(){return(z=(0,G.Z)(function*(B){const W=Tt(B),Ge=yield(yield bs()).transaction(us).objectStore(us).get(W);if(Ge)return Ge;{const _t=yield Os(B.appConfig.senderId);if(_t)return yield re(B,_t),_t}})).apply(this,arguments)}function re(B,W){return $.apply(this,arguments)}function $(){return($=(0,G.Z)(function*(B,W){const ae=Tt(B),_t=(yield bs()).transaction(us,"readwrite");return yield _t.objectStore(us).put(W,ae),yield _t.complete,W})).apply(this,arguments)}function fe(B){return et.apply(this,arguments)}function et(){return(et=(0,G.Z)(function*(B){const W=Tt(B),Ge=(yield bs()).transaction(us,"readwrite");yield Ge.objectStore(us).delete(W),yield Ge.complete})).apply(this,arguments)}function Tt({appConfig:B}){return B.appId}const qt=new be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qi(B,W){return Si.apply(this,arguments)}function Si(){return(Si=(0,G.Z)(function*(B,W){const ae=yield q(B),Ge=F(W),_t={method:"POST",headers:ae,body:JSON.stringify(Ge)};let At;try{At=yield(yield fetch(sr(B.appConfig),_t)).json()}catch(rn){throw qt.create("token-subscribe-failed",{errorInfo:rn})}if(At.error)throw qt.create("token-subscribe-failed",{errorInfo:At.error.message});if(!At.token)throw qt.create("token-subscribe-no-token");return At.token})).apply(this,arguments)}function yi(B,W){return fi.apply(this,arguments)}function fi(){return(fi=(0,G.Z)(function*(B,W){const ae=yield q(B),Ge=F(W.subscriptionOptions),_t={method:"PATCH",headers:ae,body:JSON.stringify(Ge)};let At;try{At=yield(yield fetch(`${sr(B.appConfig)}/${W.token}`,_t)).json()}catch(rn){throw qt.create("token-update-failed",{errorInfo:rn})}if(At.error)throw qt.create("token-update-failed",{errorInfo:At.error.message});if(!At.token)throw qt.create("token-update-no-token");return At.token})).apply(this,arguments)}function Cr(B,W){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,G.Z)(function*(B,W){const Ge={method:"DELETE",headers:yield q(B)};try{const At=yield(yield fetch(`${sr(B.appConfig)}/${W}`,Ge)).json();if(At.error)throw qt.create("token-unsubscribe-failed",{errorInfo:At.error.message})}catch(_t){throw qt.create("token-unsubscribe-failed",{errorInfo:_t})}})).apply(this,arguments)}function sr({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function q(B){return H.apply(this,arguments)}function H(){return(H=(0,G.Z)(function*({appConfig:B,installations:W}){const ae=yield W.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${ae}`})})).apply(this,arguments)}function F({p256dh:B,auth:W,endpoint:ae,vapidKey:Ge}){const _t={web:{endpoint:ae,auth:W,p256dh:B}};return Ge!==Hr&&(_t.web.applicationPubKey=Ge),_t}const he=6048e5;function Ft(B){return In.apply(this,arguments)}function In(){return(In=(0,G.Z)(function*(B){const W=yield qo(B.swRegistration,B.vapidKey),ae={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:W.endpoint,auth:Ni(W.getKey("auth")),p256dh:Ni(W.getKey("p256dh"))},Ge=yield li(B.firebaseDependencies);if(Ge){if(Za(Ge.subscriptionOptions,ae))return Date.now()>=Ge.createTime+he?Jr(B,{token:Ge.token,createTime:Date.now(),subscriptionOptions:ae}):Ge.token;try{yield Cr(B.firebaseDependencies,Ge.token)}catch(_t){console.warn(_t)}return Kt(B.firebaseDependencies,ae)}return Kt(B.firebaseDependencies,ae)})).apply(this,arguments)}function yr(B){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,G.Z)(function*(B){const W=yield li(B.firebaseDependencies);W&&(yield Cr(B.firebaseDependencies,W.token),yield fe(B.firebaseDependencies));const ae=yield B.swRegistration.pushManager.getSubscription();return!ae||ae.unsubscribe()})).apply(this,arguments)}function Jr(B,W){return xs.apply(this,arguments)}function xs(){return(xs=(0,G.Z)(function*(B,W){try{const ae=yield yi(B.firebaseDependencies,W),Ge=Object.assign(Object.assign({},W),{token:ae,createTime:Date.now()});return yield re(B.firebaseDependencies,Ge),ae}catch(ae){throw yield yr(B),ae}})).apply(this,arguments)}function Kt(B,W){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,G.Z)(function*(B,W){const Ge={token:yield qi(B,W),createTime:Date.now(),subscriptionOptions:W};return yield re(B,Ge),Ge.token})).apply(this,arguments)}function qo(B,W){return lr.apply(this,arguments)}function lr(){return(lr=(0,G.Z)(function*(B,W){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xs(W)})})).apply(this,arguments)}function Za(B,W){return W.vapidKey===B.vapidKey&&W.endpoint===B.endpoint&&W.auth===B.auth&&W.p256dh===B.p256dh}function Io(B){const W={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function Ds(B,W){if(!W.notification)return;B.notification={};const ae=W.notification.title;ae&&(B.notification.title=ae);const Ge=W.notification.body;Ge&&(B.notification.body=Ge);const _t=W.notification.image;_t&&(B.notification.image=_t)}(W,B),function _a(B,W){!W.data||(B.data=W.data)}(W,B),function Ko(B,W){if(!W.fcmOptions)return;B.fcmOptions={};const ae=W.fcmOptions.link;ae&&(B.fcmOptions.link=ae);const Ge=W.fcmOptions.analytics_label;Ge&&(B.fcmOptions.analyticsLabel=Ge)}(W,B),W}function gl(B){return"object"==typeof B&&!!B&&$r in B}function Zo(B,W){const ae=[];for(let Ge=0;Ge<B.length;Ge++)ae.push(B.charAt(Ge)),Ge<W.length&&ae.push(W.charAt(Ge));return ae.join("")}function ws(B){return qt.create("missing-app-config-values",{valueName:B})}Zo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xr{constructor(W,ae,Ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const _t=function So(B){if(!B||!B.options)throw ws("App Configuration Object");if(!B.name)throw ws("App Name");const W=["projectId","apiKey","appId","messagingSenderId"],{options:ae}=B;for(const Ge of W)if(!ae[Ge])throw ws(Ge);return{appName:B.name,projectId:ae.projectId,apiKey:ae.apiKey,appId:ae.appId,senderId:ae.messagingSenderId}}(W);this.firebaseDependencies={app:W,appConfig:_t,installations:ae,analyticsProvider:Ge}}_delete(){return Promise.resolve()}}function to(B){return _o.apply(this,arguments)}function _o(){return(_o=(0,G.Z)(function*(B){try{B.swRegistration=yield navigator.serviceWorker.register(cs,{scope:ys}),B.swRegistration.update().catch(()=>{})}catch(W){throw qt.create("failed-service-worker-registration",{browserErrorMessage:W.message})}})).apply(this,arguments)}function J(B,W){return w.apply(this,arguments)}function w(){return(w=(0,G.Z)(function*(B,W){if(!W&&!B.swRegistration&&(yield to(B)),W||!B.swRegistration){if(!(W instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");B.swRegistration=W}})).apply(this,arguments)}function D(B,W){return V.apply(this,arguments)}function V(){return(V=(0,G.Z)(function*(B,W){W?B.vapidKey=W:B.vapidKey||(B.vapidKey=Hr)})).apply(this,arguments)}function De(){return(De=(0,G.Z)(function*(B,W){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield D(B,null==W?void 0:W.vapidKey),yield J(B,null==W?void 0:W.serviceWorkerRegistration),Ft(B)})).apply(this,arguments)}function qe(B,W,ae){return Je.apply(this,arguments)}function Je(){return(Je=(0,G.Z)(function*(B,W,ae){const Ge=yt(W);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(Ge,{message_id:ae[$r],message_name:ae[Ir],message_time:ae[Es],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function yt(B){switch(B){case Wr.NOTIFICATION_CLICKED:return"notification_open";case Wr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Dn(){return(Dn=(0,G.Z)(function*(B,W){const ae=W.data;if(!ae.isFirebaseMessaging)return;B.onMessageHandler&&ae.messageType===Wr.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(Io(ae)):B.onMessageHandler.next(Io(ae)));const Ge=ae.data;gl(Ge)&&"1"===Ge[zr]&&(yield qe(B,ae.messageType,Ge))})).apply(this,arguments)}const Pn="@firebase/messaging",vi=B=>{const W=new Xr(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ae=>function Pt(B,W){return Dn.apply(this,arguments)}(W,ae)),W},Qn=B=>{const W=B.getProvider("messaging").getImmediate();return{getToken:Ge=>function ie(B,W){return De.apply(this,arguments)}(W,Ge)}};function tr(){return vr.apply(this,arguments)}function vr(){return(vr=(0,G.Z)(function*(){try{yield(0,be.eu)()}catch(B){return!1}return"undefined"!=typeof window&&(0,be.hl)()&&(0,be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function bi(){(0,X._registerComponent)(new Oe.wA("messaging",vi,"PUBLIC")),(0,X._registerComponent)(new Oe.wA("messaging-internal",Qn,"PRIVATE")),(0,X.registerVersion)(Pn,"0.9.11"),(0,X.registerVersion)(Pn,"0.9.11","esm2017")}();const js="analytics",yo="firebase_id",lo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",es="https://www.googletagmanager.com/gtag/js",_n=new Be.Yd("@firebase/analytics");function jn(B){return Promise.all(B.map(W=>W.catch(ae=>ae)))}function ei(B,W){const ae=document.createElement("script");ae.src=`${es}?l=${B}&id=${W}`,ae.async=!0,document.head.appendChild(ae)}function fr(B,W,ae,Ge,_t,At){return ts.apply(this,arguments)}function ts(){return(ts=(0,G.Z)(function*(B,W,ae,Ge,_t,At){const rn=Ge[_t];try{if(rn)yield W[rn];else{const ui=(yield jn(ae)).find(Di=>Di.measurementId===_t);ui&&(yield W[ui.appId])}}catch(fn){_n.error(fn)}B("config",_t,At)})).apply(this,arguments)}function or(B,W,ae,Ge,_t){return Or.apply(this,arguments)}function Or(){return(Or=(0,G.Z)(function*(B,W,ae,Ge,_t){try{let At=[];if(_t&&_t.send_to){let rn=_t.send_to;Array.isArray(rn)||(rn=[rn]);const fn=yield jn(ae);for(const ui of rn){const Di=fn.find(Mn=>Mn.measurementId===ui),Yi=Di&&W[Di.appId];if(!Yi){At=[];break}At.push(Yi)}}0===At.length&&(At=Object.values(W)),yield Promise.all(At),B("event",Ge,_t||{})}catch(At){_n.error(At)}})).apply(this,arguments)}function ml(){const B=window.document.getElementsByTagName("script");for(const W of Object.values(B))if(W.src&&W.src.includes(es))return W;return null}const zi=new be.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jn=new class Tn{constructor(W={},ae=1e3){this.throttleMetadata=W,this.intervalMillis=ae}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,ae){this.throttleMetadata[W]=ae}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function Gl(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function on(B){return St.apply(this,arguments)}function St(){return(St=(0,G.Z)(function*(B){var W;const{appId:ae,apiKey:Ge}=B,_t={method:"GET",headers:Gl(Ge)},At=lo.replace("{app-id}",ae),rn=yield fetch(At,_t);if(200!==rn.status&&304!==rn.status){let fn="";try{const ui=yield rn.json();(null===(W=ui.error)||void 0===W?void 0:W.message)&&(fn=ui.error.message)}catch(ui){}throw zi.create("config-fetch-failed",{httpStatus:rn.status,responseMessage:fn})}return rn.json()})).apply(this,arguments)}function tn(B){return br.apply(this,arguments)}function br(){return(br=(0,G.Z)(function*(B,W=Jn,ae){const{appId:Ge,apiKey:_t,measurementId:At}=B.options;if(!Ge)throw zi.create("no-app-id");if(!_t){if(At)return{measurementId:At,appId:Ge};throw zi.create("no-api-key")}const rn=W.getThrottleMetadata(Ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},fn=new Ya;return setTimeout((0,G.Z)(function*(){fn.abort()}),void 0!==ae?ae:6e4),ra({appId:Ge,apiKey:_t,measurementId:At},rn,fn,W)})).apply(this,arguments)}function ra(B,W,ae){return Po.apply(this,arguments)}function Po(){return(Po=(0,G.Z)(function*(B,{throttleEndTimeMillis:W,backoffCount:ae},Ge,_t=Jn){const{appId:At,measurementId:rn}=B;try{yield wc(Ge,W)}catch(fn){if(rn)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rn} provided in the "measurementId" field in the local Firebase config. [${fn.message}]`),{appId:At,measurementId:rn};throw fn}try{const fn=yield on(B);return _t.deleteThrottleMetadata(At),fn}catch(fn){if(!ya(fn)){if(_t.deleteThrottleMetadata(At),rn)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rn} provided in the "measurementId" field in the local Firebase config. [${fn.message}]`),{appId:At,measurementId:rn};throw fn}const ui=503===Number(fn.customData.httpStatus)?(0,be.$s)(ae,_t.intervalMillis,30):(0,be.$s)(ae,_t.intervalMillis),Di={throttleEndTimeMillis:Date.now()+ui,backoffCount:ae+1};return _t.setThrottleMetadata(At,Di),_n.debug(`Calling attemptFetch again in ${ui} millis`),ra(B,Di,Ge,_t)}})).apply(this,arguments)}function wc(B,W){return new Promise((ae,Ge)=>{const _t=Math.max(W-Date.now(),0),At=setTimeout(ae,_t);B.addEventListener(()=>{clearTimeout(At),Ge(zi.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}function ya(B){if(!(B instanceof be.ZR&&B.customData))return!1;const W=Number(B.customData.httpStatus);return 429===W||500===W||503===W||504===W}class Ya{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}function Pa(){return sa.apply(this,arguments)}function sa(){return(sa=(0,G.Z)(function*(){if(!(0,be.hl)())return _n.warn(zi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,be.eu)()}catch(B){return _n.warn(zi.create("indexeddb-unavailable",{errorInfo:B}).message),!1}return!0})).apply(this,arguments)}function va(){return(va=(0,G.Z)(function*(B,W,ae,Ge,_t,At,rn){var fn;const ui=tn(B);ui.then(Vi=>{ae[Vi.measurementId]=Vi.appId,B.options.measurementId&&Vi.measurementId!==B.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${Vi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Vi=>_n.error(Vi)),W.push(ui);const Di=Pa().then(Vi=>{if(Vi)return Ge.getId()}),[Yi,Mn]=yield Promise.all([ui,Di]);ml()||ei(At,Yi.measurementId),_t("js",new Date);const Kr=null!==(fn=null==rn?void 0:rn.config)&&void 0!==fn?fn:{};return Kr.origin="firebase",Kr.update=!0,null!=Mn&&(Kr[yo]=Mn),_t("config",Yi.measurementId,Kr),Yi.measurementId})).apply(this,arguments)}class k{constructor(W){this.app=W}_delete(){return delete S[this.app.options.appId],Promise.resolve()}}let S={},A=[];const L={};let Re,Ne,K="dataLayer",kt=!1;function kn(B,W,ae){!function xi(){const B=[];if((0,be.ru)()&&B.push("This is a browser extension environment."),(0,be.zI)()||B.push("Cookies are not available."),B.length>0){const W=B.map((Ge,_t)=>`(${_t+1}) ${Ge}`).join(" "),ae=zi.create("invalid-analytics-context",{errorInfo:W});_n.warn(ae.message)}}();const Ge=B.options.appId;if(!Ge)throw zi.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw zi.create("no-api-key");_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=S[Ge])throw zi.create("already-exists",{id:Ge});if(!kt){!function ci(B){let W=[];Array.isArray(window[B])?W=window[B]:window[B]=W}(K);const{wrappedGtag:At,gtagCore:rn}=function ia(B,W,ae,Ge,_t){let At=function(...rn){window[Ge].push(arguments)};return window[_t]&&"function"==typeof window[_t]&&(At=window[_t]),window[_t]=function er(B,W,ae,Ge){function At(){return(At=(0,G.Z)(function*(rn,fn,ui){try{"event"===rn?yield or(B,W,ae,fn,ui):"config"===rn?yield fr(B,W,ae,Ge,fn,ui):B("set",fn)}catch(Di){_n.error(Di)}})).apply(this,arguments)}return function _t(rn,fn,ui){return At.apply(this,arguments)}}(At,B,W,ae),{gtagCore:At,wrappedGtag:window[_t]}}(S,A,L,K,"gtag");Ne=At,Re=rn,kt=!0}return S[Ge]=function No(B,W,ae,Ge,_t,At,rn){return va.apply(this,arguments)}(B,A,L,W,Re,K,ae),new k(B)}function ir(){return(ir=(0,G.Z)(function*(B,W,ae,Ge,_t){if(_t&&_t.global)B("event",ae,Ge);else{const At=yield W;B("event",ae,Object.assign(Object.assign({},Ge),{send_to:At}))}})).apply(this,arguments)}function vo(){return qc.apply(this,arguments)}function qc(){return(qc=(0,G.Z)(function*(){if((0,be.ru)()||!(0,be.zI)()||!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch(B){return!1}})).apply(this,arguments)}const _l="@firebase/analytics";!function Na(){(0,X._registerComponent)(new Oe.wA(js,(W,{options:ae})=>kn(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),ae),"PUBLIC")),(0,X._registerComponent)(new Oe.wA("analytics-internal",function B(W){try{const ae=W.getProvider(js).getImmediate();return{logEvent:(Ge,_t,At)=>function yn(B,W,ae,Ge){B=(0,be.m9)(B),function Ln(B,W,ae,Ge,_t){return ir.apply(this,arguments)}(Ne,S[B.app.options.appId],W,ae,Ge).catch(_t=>_n.error(_t))}(ae,Ge,_t,At)}}catch(ae){throw zi.create("interop-component-reg-failed",{reason:ae})}},"PRIVATE")),(0,X.registerVersion)(_l,"0.7.7"),(0,X.registerVersion)(_l,"0.7.7","esm2017")}();var io=O(4408),la=O(7565);const Yo=new class Sr extends la.v{}(class aa extends io.o{constructor(W,ae){super(W,ae),this.scheduler=W,this.work=ae}schedule(W,ae=0){return ae>0?super.schedule(W,ae):(this.delay=ae,this.state=W,this.scheduler.flush(this),this)}execute(W,ae){return ae>0||this.closed?super.execute(W,ae):this._execute(W,ae)}requestAsyncId(W,ae,Ge=0){return null!=Ge&&Ge>0||null==Ge&&this.delay>0?super.requestAsyncId(W,ae,Ge):W.flush(this)}});var Ea=O(4986),ca=O(8306),jr=O(8505),Mo=O(9468),Ca=O(5363);const ks=new g.GfV("7.3.0"),is="__angularfire_symbol__analyticsIsSupportedValue",ua="__angularfire_symbol__analyticsIsSupported",yl="__angularfire_symbol__remoteConfigIsSupportedValue",Vr="__angularfire_symbol__remoteConfigIsSupported",Bi="__angularfire_symbol__messagingIsSupportedValue",vl="__angularfire_symbol__messagingIsSupported";function xc(B,W,ae){if(W){if(1===W.length)return W[0];const At=W.filter(rn=>rn.app===ae);if(1===At.length)return At[0]}return ae.container.getProvider(B).getImmediate({optional:!0})}globalThis[ua]||(globalThis[ua]=vo().then(B=>globalThis[is]=B).catch(()=>globalThis[is]=!1)),globalThis[vl]||(globalThis[vl]=tr().then(B=>globalThis[Bi]=B).catch(()=>globalThis[Bi]=!1)),globalThis[Vr]||(globalThis[Vr]=Qs().then(B=>globalThis[yl]=B).catch(()=>globalThis[yl]=!1));const Qo=(B,W)=>{const ae=W?[W]:(0,l.C6)(),Ge=[];return ae.forEach(_t=>{_t.container.getProvider(B).instances.forEach(rn=>{Ge.includes(rn)||Ge.push(rn)})}),Ge};function xa(){}class Wl{constructor(W,ae=Yo){this.zone=W,this.delegate=ae}now(){return this.delegate.now()}schedule(W,ae,Ge){const _t=this.zone;return this.delegate.schedule(function(rn){_t.runGuarded(()=>{W.apply(this,[rn])})},ae,Ge)}}class Lo{constructor(W){this.zone=W,this.task=null}call(W,ae){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa)),ae.pipe((0,jr.b)({next:Ge,complete:Ge,error:Ge})).subscribe(W).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ou=(()=>{class B{constructor(ae){this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new Wl(Zone.current)),this.insideAngular=ae.run(()=>new Wl(Zone.current,Ea.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(ae){return new(ae||B)(g.LFG(g.R0b))},B.\u0275prov=g.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function Bo(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function ql(B){return Bo().ngZone.runOutsideAngular(()=>B())}function Ws(B){return Bo().ngZone.run(()=>B())}function Oo(B){return Bo(),function uo(B){return function(ae){return(ae=ae.lift(new Lo(B.ngZone))).pipe((0,Mo.R)(B.outsideAngular),(0,Ca.Q)(B.insideAngular))}}(Bo())(B)}const os=(B,W)=>function(){const Ge=arguments;return W&&setTimeout(()=>{"scheduled"===W.state&&W.invoke()},10),Ws(()=>B.apply(void 0,Ge))},Kc=(B,W)=>function(){let ae;const Ge=arguments;for(let At=0;At<arguments.length;At++)"function"==typeof Ge[At]&&(W&&(ae||(ae=Ws(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa)))),Ge[At]=os(Ge[At],ae));const _t=ql(()=>B.apply(this,Ge));if(!W){if(_t instanceof ca.y){const At=Bo();return _t.pipe((0,Mo.R)(At.outsideAngular),(0,Ca.Q)(At.insideAngular))}return Ws(()=>_t)}return _t instanceof ca.y?_t.pipe(Oo):_t instanceof Promise?Ws(()=>new Promise((At,rn)=>_t.then(fn=>Ws(()=>At(fn)),fn=>Ws(()=>rn(fn))))):"function"==typeof _t&&ae?function(){return setTimeout(()=>{ae&&"scheduled"===ae.state&&ae.invoke()},10),_t.apply(this,arguments)}:Ws(()=>_t)}},424:(Jt,at,O)=>{O.d(at,{$:()=>Ft,A:()=>ce,E:()=>Yn,G:()=>Qi,I:()=>kr,K:()=>Ie,L:()=>Ms,M:()=>Wo,N:()=>$r,P:()=>ks,Q:()=>Ir,R:()=>Cc,T:()=>Hr,U:()=>Wr,V:()=>Ni,W:()=>Os,X:()=>Bt,Y:()=>qi,Z:()=>yi,_:()=>sr,a:()=>Rr,a0:()=>yr,a1:()=>Jr,a2:()=>Kt,a3:()=>qo,a4:()=>Za,a5:()=>Ds,a6:()=>_a,a7:()=>gl,a8:()=>Zo,a9:()=>to,aA:()=>Mn,aB:()=>uo,aC:()=>mi,aG:()=>Jn,aJ:()=>zr,aa:()=>J,ab:()=>D,ae:()=>qe,af:()=>yt,ag:()=>Pt,aj:()=>us,ak:()=>ss,am:()=>lo,an:()=>fr,ao:()=>oi,ap:()=>We,aq:()=>cn,ar:()=>Ve,as:()=>Pe,at:()=>Yl,au:()=>wl,av:()=>ve,aw:()=>Ue,ax:()=>gt,ay:()=>je,az:()=>Ro,b:()=>Zt,c:()=>bl,d:()=>xa,e:()=>xc,f:()=>B,g:()=>rn,h:()=>Ge,i:()=>xi,j:()=>Di,k:()=>rl,l:()=>Sr,m:()=>Al,n:()=>Ph,o:()=>me,r:()=>Qa,s:()=>aa,u:()=>Mo,z:()=>Ze});var g=O(5861),l=O(2090),G=O(9681),X=O(655),be=O(1877),Oe=O(4859);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ze=function Se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pt=new l.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Le=new be.Yd("@firebase/auth");function He(I,...y){Le.logLevel<=be.in.ERROR&&Le.error(`Auth (${G.SDK_VERSION}): ${I}`,...y)}function Pe(I,...y){throw lt(I,...y)}function ve(I,...y){return lt(I,...y)}function le(I,y,b){const R=Object.assign(Object.assign({},nt()),{[y]:b});return new l.LL("auth","Firebase",R).create(y,{appName:I.name})}function Ee(I,y,b){if(!(y instanceof b))throw b.name!==y.constructor.name&&Pe(I,"argument-error"),le(I,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(I,...y){if("string"!=typeof I){const b=y[0],R=[...y.slice(1)];return R[0]&&(R[0].appName=I.name),I._errorFactory.create(b,...R)}return pt.create(I,...y)}function Ue(I,y,...b){if(!I)throw lt(y,...b)}function Ot(I){const y="INTERNAL ASSERTION FAILED: "+I;throw He(y),new Error(y)}function We(I,y){I||Ot(y)}const mt=new Map;function gt(I){We(I instanceof Function,"Expected a class definition");let y=mt.get(I);return y?(We(y instanceof I,"Instance stored in cache mismatched with class"),y):(y=new I,mt.set(I,y),y)}function ct(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function mn(){return"http:"===en()||"https:"===en()}function en(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class jt{constructor(y,b){this.shortDelay=y,this.longDelay=b,We(b>y,"Short delay should be less than long delay!"),this.isMobile=(0,l.uI)()||(0,l.b$)()}get(){return function An(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mn()||(0,l.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function un(I,y){We(I.emulator,"Emulator should always be set here");const{url:b}=I.emulator;return y?`${b}${y.startsWith("/")?y.slice(1):y}`:b}class dn{static initialize(y,b,R){this.fetchImpl=y,b&&(this.headersImpl=b),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},It=new jt(3e4,6e4);function Ke(I,y){return I.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:I.tenantId}):y}function it(I,y,b,R){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,g.Z)(function*(I,y,b,R,ne={}){return bn(I,ne,(0,g.Z)(function*(){let Ae={},bt={};R&&("GET"===y?bt=R:Ae={body:JSON.stringify(R)});const Ht=(0,l.xO)(Object.assign({key:I.config.apiKey},bt)).slice(1),gn=yield I._getAdditionalHeaders();return gn["Content-Type"]="application/json",I.languageCode&&(gn["X-Firebase-Locale"]=I.languageCode),dn.fetch()(wn(I,I.config.apiHost,b,Ht),Object.assign({method:y,headers:gn,referrerPolicy:"no-referrer"},Ae))}))})).apply(this,arguments)}function bn(I,y,b){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,g.Z)(function*(I,y,b){I._canInitEmulator=!1;const R=Object.assign(Object.assign({},xt),y);try{const ne=new Zn(I),Ae=yield Promise.race([b(),ne.promise]);ne.clearNetworkTimeout();const bt=yield Ae.json();if("needConfirmation"in bt)throw ni(I,"account-exists-with-different-credential",bt);if(Ae.ok&&!("errorMessage"in bt))return bt;{const Ht=Ae.ok?bt.errorMessage:bt.error.message,[gn,pi]=Ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===gn)throw ni(I,"credential-already-in-use",bt);if("EMAIL_EXISTS"===gn)throw ni(I,"email-already-in-use",bt);const Ti=R[gn]||gn.toLowerCase().replace(/[_\s]+/g,"-");if(pi)throw le(I,Ti,pi);Pe(I,Ti)}}catch(ne){if(ne instanceof l.ZR)throw ne;Pe(I,"network-request-failed")}})).apply(this,arguments)}function $n(I,y,b,R){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,g.Z)(function*(I,y,b,R,ne={}){const Ae=yield it(I,y,b,R,ne);return"mfaPendingCredential"in Ae&&Pe(I,"multi-factor-auth-required",{_serverResponse:Ae}),Ae})).apply(this,arguments)}function wn(I,y,b,R){const ne=`${y}${b}?${R}`;return I.config.emulator?un(I.config,ne):`${I.config.apiScheme}://${ne}`}class Zn{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((b,R)=>{this.timer=setTimeout(()=>R(ve(this.auth,"network-request-failed")),It.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ni(I,y,b){const R={appName:I.name};b.email&&(R.email=b.email),b.phoneNumber&&(R.phoneNumber=b.phoneNumber);const ne=ve(I,y,R);return ne.customData._tokenResponse=b,ne}function ln(){return(ln=(0,g.Z)(function*(I,y){return it(I,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Vn(I,y){return zn.apply(this,arguments)}function zn(){return(zn=(0,g.Z)(function*(I,y){return it(I,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Fn(I,y){return di.apply(this,arguments)}function di(){return(di=(0,g.Z)(function*(I,y){return it(I,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Ri(I){if(I)try{const y=new Date(Number(I));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function ht(){return(ht=(0,g.Z)(function*(I,y=!1){const b=(0,l.m9)(I),R=yield b.getIdToken(y),ne=tt(R);Ue(ne&&ne.exp&&ne.auth_time&&ne.iat,b.auth,"internal-error");const Ae="object"==typeof ne.firebase?ne.firebase:void 0,bt=null==Ae?void 0:Ae.sign_in_provider;return{claims:ne,token:R,authTime:Ri(we(ne.auth_time)),issuedAtTime:Ri(we(ne.iat)),expirationTime:Ri(we(ne.exp)),signInProvider:bt||null,signInSecondFactor:(null==Ae?void 0:Ae.sign_in_second_factor)||null}})).apply(this,arguments)}function we(I){return 1e3*Number(I)}function tt(I){const[y,b,R]=I.split(".");if(void 0===y||void 0===b||void 0===R)return He("JWT malformed, contained fewer than 3 sections"),null;try{const ne=(0,l.tV)(b);return ne?JSON.parse(ne):(He("Failed to decode base64 JWT payload"),null)}catch(ne){return He("Caught error parsing JWT payload as JSON",ne),null}}function Qe(I,y){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,g.Z)(function*(I,y,b=!1){if(b)return y;try{return yield y}catch(R){throw R instanceof l.ZR&&pn(R)&&I.auth.currentUser===I&&(yield I.auth.signOut()),R}})).apply(this,arguments)}function pn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class En{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var b;if(y){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const ne=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(y=!1){var b=this;if(!this.isRunning)return;const R=this.getInterval(y);this.timerId=setTimeout((0,g.Z)(function*(){yield b.iteration()}),R)}iteration(){var y=this;return(0,g.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b.code&&y.schedule(!0))}y.schedule()})()}}class Un{constructor(y,b){this.createdAt=y,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ri(this.lastLoginAt),this.creationTime=Ri(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xn(I){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,g.Z)(function*(I){var y;const b=I.auth,R=yield I.getIdToken(),ne=yield Qe(I,Fn(b,{idToken:R}));Ue(null==ne?void 0:ne.users.length,b,"internal-error");const Ae=ne.users[0];I._notifyReloadListener(Ae);const bt=(null===(y=Ae.providerUserInfo)||void 0===y?void 0:y.length)?pe(Ae.providerUserInfo):[],Ht=xn(I.providerData,bt),Ti=!!I.isAnonymous&&!(I.email&&Ae.passwordHash||(null==Ht?void 0:Ht.length)),as={uid:Ae.localId,displayName:Ae.displayName||null,photoURL:Ae.photoUrl||null,email:Ae.email||null,emailVerified:Ae.emailVerified||!1,phoneNumber:Ae.phoneNumber||null,tenantId:Ae.tenantId||null,providerData:Ht,metadata:new Un(Ae.createdAt,Ae.lastLoginAt),isAnonymous:Ti};Object.assign(I,as)})).apply(this,arguments)}function gi(){return(gi=(0,g.Z)(function*(I){const y=(0,l.m9)(I);yield Xn(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function xn(I,y){return[...I.filter(R=>!y.some(ne=>ne.providerId===R.providerId)),...y]}function pe(I){return I.map(y=>{var{providerId:b}=y,R=(0,X._T)(y,["providerId"]);return{providerId:b,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}function x(){return(x=(0,g.Z)(function*(I,y){const b=yield bn(I,{},(0,g.Z)(function*(){const R=(0,l.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:ne,apiKey:Ae}=I.config,bt=wn(I,ne,"/v1/token",`key=${Ae}`),Ht=yield I._getAdditionalHeaders();return Ht["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(bt,{method:"POST",headers:Ht,body:R})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class j{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Ue(y.idToken,"internal-error"),Ue(void 0!==y.idToken,"internal-error"),Ue(void 0!==y.refreshToken,"internal-error");const b="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function Te(I){const y=tt(I);return Ue(y,"internal-error"),Ue(void 0!==y.exp,"internal-error"),Ue(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,b)}getToken(y,b=!1){var R=this;return(0,g.Z)(function*(){return Ue(!R.accessToken||R.refreshToken,y,"user-token-expired"),b||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(y,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,b){var R=this;return(0,g.Z)(function*(){const{accessToken:ne,refreshToken:Ae,expiresIn:bt}=yield function U(I,y){return x.apply(this,arguments)}(y,b);R.updateTokensAndExpiration(ne,Ae,Number(bt))})()}updateTokensAndExpiration(y,b,R){this.refreshToken=b||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(y,b){const{refreshToken:R,accessToken:ne,expirationTime:Ae}=b,bt=new j;return R&&(Ue("string"==typeof R,"internal-error",{appName:y}),bt.refreshToken=R),ne&&(Ue("string"==typeof ne,"internal-error",{appName:y}),bt.accessToken=ne),Ae&&(Ue("number"==typeof Ae,"internal-error",{appName:y}),bt.expirationTime=Ae),bt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new j,this.toJSON())}_performRefresh(){return Ot("not implemented")}}function ge(I,y){Ue("string"==typeof I||void 0===I,"internal-error",{appName:y})}class rt{constructor(y){var{uid:b,auth:R,stsTokenManager:ne}=y,Ae=(0,X._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new En(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=R,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=Ae.displayName||null,this.email=Ae.email||null,this.emailVerified=Ae.emailVerified||!1,this.phoneNumber=Ae.phoneNumber||null,this.photoURL=Ae.photoURL||null,this.isAnonymous=Ae.isAnonymous||!1,this.tenantId=Ae.tenantId||null,this.providerData=Ae.providerData?[...Ae.providerData]:[],this.metadata=new Un(Ae.createdAt||void 0,Ae.lastLoginAt||void 0)}getIdToken(y){var b=this;return(0,g.Z)(function*(){const R=yield Qe(b,b.stsTokenManager.getToken(b.auth,y));return Ue(R,b.auth,"internal-error"),b.accessToken!==R&&(b.accessToken=R,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),R})()}getIdTokenResult(y){return function Rt(I){return ht.apply(this,arguments)}(this,y)}reload(){return function sn(I){return gi.apply(this,arguments)}(this)}_assign(y){this!==y&&(Ue(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(b=>Object.assign({},b)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new rt(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,b=!1){var R=this;return(0,g.Z)(function*(){let ne=!1;y.idToken&&y.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(y),ne=!0),b&&(yield Xn(R)),yield R.auth._persistUserIfCurrent(R),ne&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var y=this;return(0,g.Z)(function*(){const b=yield y.getIdToken();return yield Qe(y,function Wi(I,y){return ln.apply(this,arguments)}(y.auth,{idToken:b})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,b){var R,ne,Ae,bt,Ht,gn,pi,Ti;const as=null!==(R=b.displayName)&&void 0!==R?R:void 0,Is=null!==(ne=b.email)&&void 0!==ne?ne:void 0,Il=null!==(Ae=b.phoneNumber)&&void 0!==Ae?Ae:void 0,sl=null!==(bt=b.photoURL)&&void 0!==bt?bt:void 0,ol=null!==(Ht=b.tenantId)&&void 0!==Ht?Ht:void 0,Sc=null!==(gn=b._redirectEventId)&&void 0!==gn?gn:void 0,Nh=null!==(pi=b.createdAt)&&void 0!==pi?pi:void 0,Tr=null!==(Ti=b.lastLoginAt)&&void 0!==Ti?Ti:void 0,{uid:Vu,emailVerified:Tc,isAnonymous:Sl,providerData:Tl,stsTokenManager:Mc}=b;Ue(Vu&&Mc,y,"internal-error");const Uu=j.fromJSON(this.name,Mc);Ue("string"==typeof Vu,y,"internal-error"),ge(as,y.name),ge(Is,y.name),Ue("boolean"==typeof Tc,y,"internal-error"),Ue("boolean"==typeof Sl,y,"internal-error"),ge(Il,y.name),ge(sl,y.name),ge(ol,y.name),ge(Sc,y.name),ge(Nh,y.name),ge(Tr,y.name);const Ml=new rt({uid:Vu,auth:y,email:Is,emailVerified:Tc,displayName:as,isAnonymous:Sl,photoURL:sl,phoneNumber:Il,tenantId:ol,stsTokenManager:Uu,createdAt:Nh,lastLoginAt:Tr});return Tl&&Array.isArray(Tl)&&(Ml.providerData=Tl.map(Hu=>Object.assign({},Hu))),Sc&&(Ml._redirectEventId=Sc),Ml}static _fromIdTokenResponse(y,b,R=!1){return(0,g.Z)(function*(){const ne=new j;ne.updateFromServerResponse(b);const Ae=new rt({uid:b.localId,auth:y,stsTokenManager:ne,isAnonymous:R});return yield Xn(Ae),Ae})()}}const Ie=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(b,R){var ne=this;return(0,g.Z)(function*(){ne.storage[b]=R})()}_get(b){var R=this;return(0,g.Z)(function*(){const ne=R.storage[b];return void 0===ne?null:ne})()}_remove(b){var R=this;return(0,g.Z)(function*(){delete R.storage[b]})()}_addListener(b,R){}_removeListener(b,R){}}return I.type="NONE",I})();function je(I,y,b){return`firebase:${I}:${y}:${b}`}class ft{constructor(y,b,R){this.persistence=y,this.auth=b,this.userKey=R;const{config:ne,name:Ae}=this.auth;this.fullUserKey=je(this.userKey,ne.apiKey,Ae),this.fullPersistenceKey=je("persistence",ne.apiKey,Ae),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,g.Z)(function*(){const b=yield y.persistence._get(y.fullUserKey);return b?rt._fromJSON(y.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var b=this;return(0,g.Z)(function*(){if(b.persistence===y)return;const R=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=y,R?b.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,b,R="authUser"){return(0,g.Z)(function*(){if(!b.length)return new ft(gt(Ie),y,R);const ne=(yield Promise.all(b.map(function(){var pi=(0,g.Z)(function*(Ti){if(yield Ti._isAvailable())return Ti});return function(Ti){return pi.apply(this,arguments)}}()))).filter(pi=>pi);let Ae=ne[0]||gt(Ie);const bt=je(R,y.config.apiKey,y.name);let Ht=null;for(const pi of b)try{const Ti=yield pi._get(bt);if(Ti){const as=rt._fromJSON(y,Ti);pi!==Ae&&(Ht=as),Ae=pi;break}}catch(Ti){}const gn=ne.filter(pi=>pi._shouldAllowMigration);return Ae._shouldAllowMigration&&gn.length?(Ae=gn[0],Ht&&(yield Ae._set(bt,Ht.toJSON())),yield Promise.all(b.map(function(){var pi=(0,g.Z)(function*(Ti){if(Ti!==Ae)try{yield Ti._remove(bt)}catch(as){}});return function(Ti){return pi.apply(this,arguments)}}())),new ft(Ae,y,R)):new ft(Ae,y,R)})()}}function _e(I){const y=I.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(ye(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(xe(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(wt(y))return"Blackberry";if(Nt(y))return"Webos";if(Y(y))return"Safari";if((y.includes("chrome/")||de(y))&&!y.includes("edge/"))return"Chrome";if(Ve(y))return"Android";{const R=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==R?void 0:R.length))return R[1]}return"Other"}function xe(I=(0,l.z$)()){return/firefox\//i.test(I)}function Y(I=(0,l.z$)()){const y=I.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function de(I=(0,l.z$)()){return/crios\//i.test(I)}function ye(I=(0,l.z$)()){return/iemobile/i.test(I)}function Ve(I=(0,l.z$)()){return/android/i.test(I)}function wt(I=(0,l.z$)()){return/blackberry/i.test(I)}function Nt(I=(0,l.z$)()){return/webos/i.test(I)}function cn(I=(0,l.z$)()){return/iphone|ipad|ipod/i.test(I)}function oi(I=(0,l.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function ti(I=(0,l.z$)()){return cn(I)||Ve(I)||Nt(I)||wt(I)||/windows phone/i.test(I)||ye(I)}function Ai(I,y=[]){let b;switch(I){case"Browser":b=_e((0,l.z$)());break;case"Worker":b=`${_e((0,l.z$)())}-${I}`;break;default:b=I}const R=y.length?y.join(","):"FirebaseCore-web";return`${b}/JsCore/${G.SDK_VERSION}/${R}`}class Ar{constructor(y,b,R){this.app=y,this.heartbeatServiceProvider=b,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hn(this),this.idTokenSubscription=new hn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(y,b){var R=this;return b&&(this._popupRedirectResolver=gt(b)),this._initializationPromise=this.queue((0,g.Z)(function*(){var ne,Ae;if(!R._deleted&&(R.persistenceManager=yield ft.create(R,y),!R._deleted)){if(null===(ne=R._popupRedirectResolver)||void 0===ne?void 0:ne._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch(bt){}yield R.initializeCurrentUser(b),R.lastNotifiedUid=(null===(Ae=R.currentUser)||void 0===Ae?void 0:Ae.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,g.Z)(function*(){if(y._deleted)return;const b=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||b){if(y.currentUser&&b&&y.currentUser.uid===b.uid)return y._currentUser._assign(b),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(b)}})()}initializeCurrentUser(y){var b=this;return(0,g.Z)(function*(){var R;let ne=yield b.assertedPersistence.getCurrentUser();if(y&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const Ae=null===(R=b.redirectUser)||void 0===R?void 0:R._redirectEventId,bt=null==ne?void 0:ne._redirectEventId,Ht=yield b.tryRedirectSignIn(y);(!Ae||Ae===bt)&&(null==Ht?void 0:Ht.user)&&(ne=Ht.user)}return ne?ne._redirectEventId?(Ue(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===ne._redirectEventId?b.directlySetCurrentUser(ne):b.reloadAndSetCurrentUserOrClear(ne)):b.reloadAndSetCurrentUserOrClear(ne):b.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var b=this;return(0,g.Z)(function*(){let R=null;try{R=yield b._popupRedirectResolver._completeRedirectFn(b,y,!0)}catch(ne){yield b._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(y){var b=this;return(0,g.Z)(function*(){try{yield Xn(y)}catch(R){if("auth/network-request-failed"!==R.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function Ut(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var y=this;return(0,g.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var b=this;return(0,g.Z)(function*(){const R=y?(0,l.m9)(y):null;return R&&Ue(R.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(R&&R._clone(b))})()}_updateCurrentUser(y){var b=this;return(0,g.Z)(function*(){if(!b._deleted)return y&&Ue(b.tenantId===y.tenantId,b,"tenant-id-mismatch"),b.queue((0,g.Z)(function*(){yield b.directlySetCurrentUser(y),b.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,g.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var b=this;return this.queue((0,g.Z)(function*(){yield b.assertedPersistence.setPersistence(gt(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new l.LL("auth","Firebase",y())}onAuthStateChanged(y,b,R){return this.registerStateListener(this.authStateSubscription,y,b,R)}onIdTokenChanged(y,b,R){return this.registerStateListener(this.idTokenSubscription,y,b,R)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,b){var R=this;return(0,g.Z)(function*(){const ne=yield R.getOrInitRedirectPersistenceManager(b);return null===y?ne.removeCurrentUser():ne.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var b=this;return(0,g.Z)(function*(){if(!b.redirectPersistenceManager){const R=y&&gt(y)||b._popupRedirectResolver;Ue(R,b,"argument-error"),b.redirectPersistenceManager=yield ft.create(b,[gt(R._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(y){var b=this;return(0,g.Z)(function*(){var R,ne;return b._isInitialized&&(yield b.queue((0,g.Z)(function*(){}))),(null===(R=b._currentUser)||void 0===R?void 0:R._redirectEventId)===y?b._currentUser:(null===(ne=b.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===y?b.redirectUser:null})()}_persistUserIfCurrent(y){var b=this;return(0,g.Z)(function*(){if(y===b.currentUser)return b.queue((0,g.Z)(function*(){return b.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(b=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,b,R,ne){if(this._deleted)return()=>{};const Ae="function"==typeof b?b:b.next.bind(b),bt=this._isInitialized?Promise.resolve():this._initializationPromise;return Ue(bt,this,"internal-error"),bt.then(()=>Ae(this.currentUser)),"function"==typeof b?y.addObserver(b,R,ne):y.addObserver(b)}directlySetCurrentUser(y){var b=this;return(0,g.Z)(function*(){b.currentUser&&b.currentUser!==y&&(b._currentUser._stopProactiveRefresh(),y&&b.isProactiveRefreshEnabled&&y._startProactiveRefresh()),b.currentUser=y,y?yield b.assertedPersistence.setCurrentUser(y):yield b.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Ai(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,g.Z)(function*(){var b;const R={"X-Client-Version":y.clientVersion};y.app.options.appId&&(R["X-Firebase-gmpid"]=y.app.options.appId);const ne=yield null===(b=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();return ne&&(R["X-Firebase-Client"]=ne),R})()}}function mi(I){return(0,l.m9)(I)}class hn{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,l.ne)(b=>this.observer=b)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yn(I,y,b){const R=mi(I);Ue(R._canInitEmulator,R,"emulator-config-failed"),Ue(/^https?:\/\//.test(y),R,"invalid-emulator-scheme");const ne=!!(null==b?void 0:b.disableWarnings),Ae=Oi(y),{host:bt,port:Ht}=function Mr(I){const y=Oi(I),b=/(\/\/)?([^?#/]+)/.exec(I.substr(y.length));if(!b)return{host:"",port:null};const R=b[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(R);if(ne){const Ae=ne[1];return{host:Ae,port:Er(R.substr(Ae.length+1))}}{const[Ae,bt]=R.split(":");return{host:Ae,port:Er(bt)}}}(y);R.config.emulator={url:`${Ae}//${bt}${null===Ht?"":`:${Ht}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:bt,port:Ht,protocol:Ae.replace(":",""),options:Object.freeze({disableWarnings:ne})}),ne||function hi(){function I(){const y=document.createElement("p"),b=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Oi(I){const y=I.indexOf(":");return y<0?"":I.substr(0,y+1)}function Er(I){if(!I)return null;const y=Number(I);return isNaN(y)?null:y}class Qi{constructor(y,b){this.providerId=y,this.signInMethod=b}toJSON(){return Ot("not implemented")}_getIdTokenResponse(y){return Ot("not implemented")}_linkToIdToken(y,b){return Ot("not implemented")}_getReauthenticationResolver(y){return Ot("not implemented")}}function ki(I,y){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,g.Z)(function*(I,y){return it(I,"POST","/v1/accounts:resetPassword",Ke(I,y))})).apply(this,arguments)}function Yr(I,y){return si.apply(this,arguments)}function si(){return(si=(0,g.Z)(function*(I,y){return it(I,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Ur(I,y){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,g.Z)(function*(I,y){return it(I,"POST","/v1/accounts:update",Ke(I,y))})).apply(this,arguments)}function Ji(){return(Ji=(0,g.Z)(function*(I,y){return $n(I,"POST","/v1/accounts:signInWithPassword",Ke(I,y))})).apply(this,arguments)}function Gi(I,y){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,g.Z)(function*(I,y){return it(I,"POST","/v1/accounts:sendOobCode",Ke(I,y))})).apply(this,arguments)}function cr(I,y){return dt.apply(this,arguments)}function dt(){return(dt=(0,g.Z)(function*(I,y){return Gi(I,y)})).apply(this,arguments)}function Ye(I,y){return vt.apply(this,arguments)}function vt(){return(vt=(0,g.Z)(function*(I,y){return Gi(I,y)})).apply(this,arguments)}function Gt(I,y){return zt.apply(this,arguments)}function zt(){return(zt=(0,g.Z)(function*(I,y){return Gi(I,y)})).apply(this,arguments)}function Cn(I,y){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,g.Z)(function*(I,y){return Gi(I,y)})).apply(this,arguments)}function _i(){return(_i=(0,g.Z)(function*(I,y){return $n(I,"POST","/v1/accounts:signInWithEmailLink",Ke(I,y))})).apply(this,arguments)}function $i(){return($i=(0,g.Z)(function*(I,y){return $n(I,"POST","/v1/accounts:signInWithEmailLink",Ke(I,y))})).apply(this,arguments)}class ur extends Qi{constructor(y,b,R,ne=null){super("password",R),this._email=y,this._password=b,this._tenantId=ne}static _fromEmailAndPassword(y,b){return new ur(y,b,"password")}static _fromEmailAndCode(y,b,R=null){return new ur(y,b,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y;if((null==b?void 0:b.email)&&(null==b?void 0:b.password)){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(y){var b=this;return(0,g.Z)(function*(){switch(b.signInMethod){case"password":return function fs(I,y){return Ji.apply(this,arguments)}(y,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Pi(I,y){return _i.apply(this,arguments)}(y,{email:b._email,oobCode:b._password});default:Pe(y,"internal-error")}})()}_linkToIdToken(y,b){var R=this;return(0,g.Z)(function*(){switch(R.signInMethod){case"password":return Yr(y,{idToken:b,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function mr(I,y){return $i.apply(this,arguments)}(y,{idToken:b,email:R._email,oobCode:R._password});default:Pe(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function wi(I,y){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,g.Z)(function*(I,y){return $n(I,"POST","/v1/accounts:signInWithIdp",Ke(I,y))})).apply(this,arguments)}class kr extends Qi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const b=new kr(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(b.idToken=y.idToken),y.accessToken&&(b.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(b.nonce=y.nonce),y.pendingToken&&(b.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(b.accessToken=y.oauthToken,b.secret=y.oauthTokenSecret):Pe("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:R,signInMethod:ne}=b,Ae=(0,X._T)(b,["providerId","signInMethod"]);if(!R||!ne)return null;const bt=new kr(R,ne);return bt.idToken=Ae.idToken||void 0,bt.accessToken=Ae.accessToken||void 0,bt.secret=Ae.secret,bt.nonce=Ae.nonce,bt.pendingToken=Ae.pendingToken||null,bt}_getIdTokenResponse(y){return wi(y,this.buildRequest())}_linkToIdToken(y,b){const R=this.buildRequest();return R.idToken=b,wi(y,R)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,wi(y,b)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),y.postBody=(0,l.xO)(b)}return y}}function Hi(I,y){return ps.apply(this,arguments)}function ps(){return(ps=(0,g.Z)(function*(I,y){return it(I,"POST","/v1/accounts:sendVerificationCode",Ke(I,y))})).apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(I,y){return $n(I,"POST","/v1/accounts:signInWithPhoneNumber",Ke(I,y))})).apply(this,arguments)}function Ao(){return(Ao=(0,g.Z)(function*(I,y){const b=yield $n(I,"POST","/v1/accounts:signInWithPhoneNumber",Ke(I,y));if(b.temporaryProof)throw ni(I,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const gs={USER_NOT_FOUND:"user-not-found"};function Ys(){return(Ys=(0,g.Z)(function*(I,y){return $n(I,"POST","/v1/accounts:signInWithPhoneNumber",Ke(I,Object.assign(Object.assign({},y),{operation:"REAUTH"})),gs)})).apply(this,arguments)}class ms extends Qi{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,b){return new ms({verificationId:y,verificationCode:b})}static _fromTokenResponse(y,b){return new ms({phoneNumber:y,temporaryProof:b})}_getIdTokenResponse(y){return function Do(I,y){return Zs.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,b){return function Ls(I,y){return Ao.apply(this,arguments)}(y,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function na(I,y){return Ys.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:b,verificationId:R,verificationCode:ne}=this.params;return y&&b?{temporaryProof:y,phoneNumber:b}:{sessionInfo:R,code:ne}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:b,verificationCode:R,phoneNumber:ne,temporaryProof:Ae}=y;return R||b||ne||Ae?new ms({verificationId:b,verificationCode:R,phoneNumber:ne,temporaryProof:Ae}):null}}class _s{constructor(y){var b,R,ne,Ae,bt,Ht;const gn=(0,l.zd)((0,l.pd)(y)),pi=null!==(b=gn.apiKey)&&void 0!==b?b:null,Ti=null!==(R=gn.oobCode)&&void 0!==R?R:null,as=function ls(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ne=gn.mode)&&void 0!==ne?ne:null);Ue(pi&&Ti&&as,"argument-error"),this.apiKey=pi,this.operation=as,this.code=Ti,this.continueUrl=null!==(Ae=gn.continueUrl)&&void 0!==Ae?Ae:null,this.languageCode=null!==(bt=gn.languageCode)&&void 0!==bt?bt:null,this.tenantId=null!==(Ht=gn.tenantId)&&void 0!==Ht?Ht:null}static parseLink(y){const b=function zo(I){const y=(0,l.zd)((0,l.pd)(I)).link,b=y?(0,l.zd)((0,l.pd)(y)).deep_link_id:null,R=(0,l.zd)((0,l.pd)(I)).deep_link_id;return(R?(0,l.zd)((0,l.pd)(R)).link:null)||R||b||y||I}(y);try{return new _s(b)}catch(R){return null}}}let Ms=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(b,R){return ur._fromEmailAndPassword(b,R)}static credentialWithLink(b,R){const ne=_s.parseLink(R);return Ue(ne,"argument-error"),ur._fromEmailAndCode(b,ne.code,ne.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class cs{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class ys extends cs{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Hr extends ys{static credentialFromJSON(y){const b="string"==typeof y?JSON.parse(y):y;return Ue("providerId"in b&&"signInMethod"in b,"argument-error"),kr._fromParams(b)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Ue(y.idToken||y.accessToken,"argument-error"),kr._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Hr.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Hr.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:b,oauthAccessToken:R,oauthTokenSecret:ne,pendingToken:Ae,nonce:bt,providerId:Ht}=y;if(!R&&!ne&&!b&&!Ae||!Ht)return null;try{return new Hr(Ht)._credential({idToken:b,accessToken:R,nonce:bt,pendingToken:Ae})}catch(gn){return null}}}let Wo=(()=>{class I extends ys{constructor(){super("facebook.com")}static credential(b){return kr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return I.credential(b.oauthAccessToken)}catch(R){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),$r=(()=>{class I extends ys{constructor(){super("google.com"),this.addScope("profile")}static credential(b,R){return kr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:R})}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:R,oauthAccessToken:ne}=b;if(!R&&!ne)return null;try{return I.credential(R,ne)}catch(Ae){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Ir=(()=>{class I extends ys{constructor(){super("github.com")}static credential(b){return kr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return I.credential(b.oauthAccessToken)}catch(R){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class zr extends Qi{constructor(y,b){super(y,y),this.pendingToken=b}_getIdTokenResponse(y){return wi(y,this.buildRequest())}_linkToIdToken(y,b){const R=this.buildRequest();return R.idToken=b,wi(y,R)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,wi(y,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:R,signInMethod:ne,pendingToken:Ae}=b;return R&&ne&&Ae&&R===ne?new zr(R,Ae):null}static _create(y,b){return new zr(y,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wr extends cs{constructor(y){Ue(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return Wr.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return Wr.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const b=zr.fromJSON(y);return Ue(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:b,providerId:R}=y;if(!b||!R)return null;try{return zr._create(R,b)}catch(ne){return null}}}let Ni=(()=>{class I extends ys{constructor(){super("twitter.com")}static credential(b,R){return kr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:R})}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:R,oauthTokenSecret:ne}=b;if(!R||!ne)return null;try{return I.credential(R,ne)}catch(Ae){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Xs(I,y){return vs.apply(this,arguments)}function vs(){return(vs=(0,g.Z)(function*(I,y){return $n(I,"POST","/v1/accounts:signUp",Ke(I,y))})).apply(this,arguments)}class Li{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,b,R,ne=!1){return(0,g.Z)(function*(){const Ae=yield rt._fromIdTokenResponse(y,R,ne),bt=Cs(R);return new Li({user:Ae,providerId:bt,_tokenResponse:R,operationType:b})})()}static _forOperation(y,b,R){return(0,g.Z)(function*(){yield y._updateTokensIfNecessary(R,!0);const ne=Cs(R);return new Li({user:y,providerId:ne,_tokenResponse:R,operationType:b})})()}}function Cs(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Os(I){return _r.apply(this,arguments)}function _r(){return(_r=(0,g.Z)(function*(I){var y;const b=mi(I);if(yield b._initializationPromise,null===(y=b.currentUser)||void 0===y?void 0:y.isAnonymous)return new Li({user:b.currentUser,providerId:null,operationType:"signIn"});const R=yield Xs(b,{returnSecureToken:!0}),ne=yield Li._fromIdTokenResponse(b,"signIn",R,!0);return yield b._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class eo extends l.ZR{constructor(y,b,R,ne){var Ae;super(b.code,b.message),this.operationType=R,this.user=ne,Object.setPrototypeOf(this,eo.prototype),this.customData={appName:y.name,tenantId:null!==(Ae=y.tenantId)&&void 0!==Ae?Ae:void 0,_serverResponse:b.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(y,b,R,ne){return new eo(y,b,R,ne)}}function Bs(I,y,b,R){return("reauthenticate"===y?b._getReauthenticationResolver(I):b._getIdTokenResponse(I)).catch(Ae=>{throw"auth/multi-factor-auth-required"===Ae.code?eo._fromErrorAndOperation(I,Ae,y,R):Ae})}function Vs(I){return new Set(I.map(({providerId:y})=>y).filter(y=>!!y))}function us(I,y){return Us.apply(this,arguments)}function Us(){return(Us=(0,g.Z)(function*(I,y){const b=(0,l.m9)(I);yield z(!0,b,y);const{providerUserInfo:R}=yield Vn(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[y]}),ne=Vs(R||[]);return b.providerData=b.providerData.filter(Ae=>ne.has(Ae.providerId)),ne.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function bs(I,y){return li.apply(this,arguments)}function li(){return(li=(0,g.Z)(function*(I,y,b=!1){const R=yield Qe(I,y._linkToIdToken(I.auth,yield I.getIdToken()),b);return Li._forOperation(I,"link",R)})).apply(this,arguments)}function z(I,y,b){return re.apply(this,arguments)}function re(){return(re=(0,g.Z)(function*(I,y,b){yield Xn(y);const ne=!1===I?"provider-already-linked":"no-such-provider";Ue(Vs(y.providerData).has(b)===I,y.auth,ne)})).apply(this,arguments)}function $(I,y){return fe.apply(this,arguments)}function fe(){return(fe=(0,g.Z)(function*(I,y,b=!1){const{auth:R}=I,ne="reauthenticate";try{const Ae=yield Qe(I,Bs(R,ne,y,I),b);Ue(Ae.idToken,R,"internal-error");const bt=tt(Ae.idToken);Ue(bt,R,"internal-error");const{sub:Ht}=bt;return Ue(I.uid===Ht,R,"user-mismatch"),Li._forOperation(I,ne,Ae)}catch(Ae){throw"auth/user-not-found"===(null==Ae?void 0:Ae.code)&&Pe(R,"user-mismatch"),Ae}})).apply(this,arguments)}function et(I,y){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,g.Z)(function*(I,y,b=!1){const R="signIn",ne=yield Bs(I,R,y),Ae=yield Li._fromIdTokenResponse(I,R,ne);return b||(yield I._updateCurrentUser(Ae.user)),Ae})).apply(this,arguments)}function Bt(I,y){return qt.apply(this,arguments)}function qt(){return(qt=(0,g.Z)(function*(I,y){return et(mi(I),y)})).apply(this,arguments)}function qi(I,y){return Si.apply(this,arguments)}function Si(){return(Si=(0,g.Z)(function*(I,y){const b=(0,l.m9)(I);return yield z(!1,b,y.providerId),bs(b,y)})).apply(this,arguments)}function yi(I,y){return fi.apply(this,arguments)}function fi(){return(fi=(0,g.Z)(function*(I,y){return $((0,l.m9)(I),y)})).apply(this,arguments)}function Cr(I,y){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,g.Z)(function*(I,y){return $n(I,"POST","/v1/accounts:signInWithCustomToken",Ke(I,y))})).apply(this,arguments)}function sr(I,y){return q.apply(this,arguments)}function q(){return(q=(0,g.Z)(function*(I,y){const b=mi(I),R=yield Cr(b,{token:y,returnSecureToken:!0}),ne=yield Li._fromIdTokenResponse(b,"signIn",R);return yield b._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class H{constructor(y,b){this.factorId=y,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(y,b){return"phoneInfo"in b?F._fromServerResponse(y,b):Pe(y,"internal-error")}}class F extends H{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,b){return new F(b)}}function he(I,y,b){var R;Ue((null===(R=b.url)||void 0===R?void 0:R.length)>0,I,"invalid-continue-uri"),Ue(void 0===b.dynamicLinkDomain||b.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),y.continueUrl=b.url,y.dynamicLinkDomain=b.dynamicLinkDomain,y.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Ue(b.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),y.iOSBundleId=b.iOS.bundleId),b.android&&(Ue(b.android.packageName.length>0,I,"missing-android-pkg-name"),y.androidInstallApp=b.android.installApp,y.androidMinimumVersionCode=b.android.minimumVersion,y.androidPackageName=b.android.packageName)}function Ft(I,y,b){return In.apply(this,arguments)}function In(){return(In=(0,g.Z)(function*(I,y,b){const R=(0,l.m9)(I),ne={requestType:"PASSWORD_RESET",email:y};b&&he(R,ne,b),yield Ye(R,ne)})).apply(this,arguments)}function yr(I,y,b){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,g.Z)(function*(I,y,b){yield ki((0,l.m9)(I),{oobCode:y,newPassword:b})})).apply(this,arguments)}function Jr(I,y){return xs.apply(this,arguments)}function xs(){return(xs=(0,g.Z)(function*(I,y){yield Ur((0,l.m9)(I),{oobCode:y})})).apply(this,arguments)}function Kt(I,y){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,g.Z)(function*(I,y){const b=(0,l.m9)(I),R=yield ki(b,{oobCode:y}),ne=R.requestType;switch(Ue(ne,b,"internal-error"),ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ue(R.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ue(R.mfaInfo,b,"internal-error");default:Ue(R.email,b,"internal-error")}let Ae=null;return R.mfaInfo&&(Ae=H._fromServerResponse(mi(b),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:Ae},operation:ne}})).apply(this,arguments)}function qo(I,y){return lr.apply(this,arguments)}function lr(){return(lr=(0,g.Z)(function*(I,y){const{data:b}=yield Kt((0,l.m9)(I),y);return b.email})).apply(this,arguments)}function Za(I,y,b){return Io.apply(this,arguments)}function Io(){return(Io=(0,g.Z)(function*(I,y,b){const R=mi(I),ne=yield Xs(R,{returnSecureToken:!0,email:y,password:b}),Ae=yield Li._fromIdTokenResponse(R,"signIn",ne);return yield R._updateCurrentUser(Ae.user),Ae})).apply(this,arguments)}function Ds(I,y,b){return Bt((0,l.m9)(I),Ms.credential(y,b))}function _a(I,y,b){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,g.Z)(function*(I,y,b){const R=(0,l.m9)(I),ne={requestType:"EMAIL_SIGNIN",email:y};Ue(b.handleCodeInApp,R,"argument-error"),b&&he(R,ne,b),yield Gt(R,ne)})).apply(this,arguments)}function gl(I,y){const b=_s.parseLink(y);return"EMAIL_SIGNIN"===(null==b?void 0:b.operation)}function Zo(I,y,b){return So.apply(this,arguments)}function So(){return(So=(0,g.Z)(function*(I,y,b){const R=(0,l.m9)(I),ne=Ms.credentialWithLink(y,b||ct());return Ue(ne._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),Bt(R,ne)})).apply(this,arguments)}function ws(I,y){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,g.Z)(function*(I,y){return it(I,"POST","/v1/accounts:createAuthUri",Ke(I,y))})).apply(this,arguments)}function to(I,y){return _o.apply(this,arguments)}function _o(){return(_o=(0,g.Z)(function*(I,y){const R={identifier:y,continueUri:mn()?ct():"http://localhost"},{signinMethods:ne}=yield ws((0,l.m9)(I),R);return ne||[]})).apply(this,arguments)}function J(I,y){return w.apply(this,arguments)}function w(){return(w=(0,g.Z)(function*(I,y){const b=(0,l.m9)(I),ne={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};y&&he(b.auth,ne,y);const{email:Ae}=yield cr(b.auth,ne);Ae!==I.email&&(yield I.reload())})).apply(this,arguments)}function D(I,y,b){return V.apply(this,arguments)}function V(){return(V=(0,g.Z)(function*(I,y,b){const R=(0,l.m9)(I),Ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:y};b&&he(R.auth,Ae,b);const{email:bt}=yield Cn(R.auth,Ae);bt!==I.email&&(yield I.reload())})).apply(this,arguments)}function ie(I,y){return De.apply(this,arguments)}function De(){return(De=(0,g.Z)(function*(I,y){return it(I,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function qe(I,y){return Je.apply(this,arguments)}function Je(){return(Je=(0,g.Z)(function*(I,{displayName:y,photoURL:b}){if(void 0===y&&void 0===b)return;const R=(0,l.m9)(I),Ae={idToken:yield R.getIdToken(),displayName:y,photoUrl:b,returnSecureToken:!0},bt=yield Qe(R,ie(R.auth,Ae));R.displayName=bt.displayName||null,R.photoURL=bt.photoUrl||null;const Ht=R.providerData.find(({providerId:gn})=>"password"===gn);Ht&&(Ht.displayName=R.displayName,Ht.photoURL=R.photoURL),yield R._updateTokensIfNecessary(bt)})).apply(this,arguments)}function yt(I,y){return Dn((0,l.m9)(I),y,null)}function Pt(I,y){return Dn((0,l.m9)(I),null,y)}function Dn(I,y,b){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,g.Z)(function*(I,y,b){const{auth:R}=I,Ae={idToken:yield I.getIdToken(),returnSecureToken:!0};y&&(Ae.email=y),b&&(Ae.password=b);const bt=yield Qe(I,Yr(R,Ae));yield I._updateTokensIfNecessary(bt,!0)})).apply(this,arguments)}class vi{constructor(y,b,R={}){this.isNewUser=y,this.providerId=b,this.profile=R}}class Qn extends vi{constructor(y,b,R,ne){super(y,b,R),this.username=ne}}class bi extends vi{constructor(y,b){super(y,"facebook.com",b)}}class tr extends Qn{constructor(y,b){super(y,"github.com",b,"string"==typeof(null==b?void 0:b.login)?null==b?void 0:b.login:null)}}class vr extends vi{constructor(y,b){super(y,"google.com",b)}}class hr extends Qn{constructor(y,b,R){super(y,"twitter.com",b,R)}}function ss(I){const{user:y,_tokenResponse:b}=I;return y.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function ai(I){var y,b;if(!I)return null;const{providerId:R}=I,ne=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},Ae=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!R&&(null==I?void 0:I.idToken)){const bt=null===(b=null===(y=tt(I.idToken))||void 0===y?void 0:y.firebase)||void 0===b?void 0:b.sign_in_provider;if(bt)return new vi(Ae,"anonymous"!==bt&&"custom"!==bt?bt:null)}if(!R)return null;switch(R){case"facebook.com":return new bi(Ae,ne);case"github.com":return new tr(Ae,ne);case"google.com":return new vr(Ae,ne);case"twitter.com":return new hr(Ae,ne,I.screenName||null);case"custom":case"anonymous":return new vi(Ae,null);default:return new vi(Ae,R,ne)}}(b)}class Gs{constructor(y,b){this.type=y,this.credential=b}static _fromIdtoken(y){return new Gs("enroll",y)}static _fromMfaPendingCredential(y){return new Gs("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var b,R;if(null==y?void 0:y.multiFactorSession){if(null===(b=y.multiFactorSession)||void 0===b?void 0:b.pendingCredential)return Gs._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(R=y.multiFactorSession)||void 0===R?void 0:R.idToken)return Gs._fromIdtoken(y.multiFactorSession.idToken)}return null}}class $s{constructor(y,b,R){this.session=y,this.hints=b,this.signInResolver=R}static _fromError(y,b){const R=mi(y),ne=b.customData._serverResponse,Ae=(ne.mfaInfo||[]).map(Ht=>H._fromServerResponse(R,Ht));Ue(ne.mfaPendingCredential,R,"internal-error");const bt=Gs._fromMfaPendingCredential(ne.mfaPendingCredential);return new $s(bt,Ae,function(){var Ht=(0,g.Z)(function*(gn){const pi=yield gn._process(R,bt);delete ne.mfaInfo,delete ne.mfaPendingCredential;const Ti=Object.assign(Object.assign({},ne),{idToken:pi.idToken,refreshToken:pi.refreshToken});switch(b.operationType){case"signIn":const as=yield Li._fromIdTokenResponse(R,b.operationType,Ti);return yield R._updateCurrentUser(as.user),as;case"reauthenticate":return Ue(b.user,R,"internal-error"),Li._forOperation(b.user,b.operationType,Ti);default:Pe(R,"internal-error")}});return function(gn){return Ht.apply(this,arguments)}}())}resolveSignIn(y){var b=this;return(0,g.Z)(function*(){return b.signInResolver(y)})()}}function lo(I,y){var b;const R=(0,l.m9)(I),ne=y;return Ue(y.customData.operationType,R,"argument-error"),Ue(null===(b=ne.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,R,"argument-error"),$s._fromError(R,ne)}function es(I,y){return it(I,"POST","/v2/accounts/mfaEnrollment:start",Ke(I,y))}class ei{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(R=>H._fromServerResponse(y.auth,R)))})}static _fromUser(y){return new ei(y)}getSession(){var y=this;return(0,g.Z)(function*(){return Gs._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,b){var R=this;return(0,g.Z)(function*(){const ne=y,Ae=yield R.getSession(),bt=yield Qe(R.user,ne._process(R.user.auth,Ae,b));return yield R.user._updateTokensIfNecessary(bt),R.user.reload()})()}unenroll(y){var b=this;return(0,g.Z)(function*(){const R="string"==typeof y?y:y.uid,ne=yield b.user.getIdToken(),Ae=yield Qe(b.user,function jn(I,y){return it(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Ke(I,y))}(b.user.auth,{idToken:ne,mfaEnrollmentId:R}));b.enrolledFactors=b.enrolledFactors.filter(({uid:bt})=>bt!==R),yield b.user._updateTokensIfNecessary(Ae);try{yield b.user.reload()}catch(bt){if("auth/user-token-expired"!==bt.code)throw bt}})()}}const ci=new WeakMap;function fr(I){const y=(0,l.m9)(I);return ci.has(y)||ci.set(y,ei._fromUser(y)),ci.get(y)}const ts="__sak";class or{constructor(y,b){this.storageRetriever=y,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(ts,"1"),this.storage.removeItem(ts),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,b){return this.storage.setItem(y,JSON.stringify(b)),Promise.resolve()}_get(y){const b=this.storage.getItem(y);return Promise.resolve(b?JSON.parse(b):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zt=(()=>{class I extends or{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,R)=>this.onStorageEvent(b,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Or(){const I=(0,l.z$)();return Y(I)||cn(I)}()&&function rr(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=ti(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const R of Object.keys(this.listeners)){const ne=this.storage.getItem(R),Ae=this.localCache[R];ne!==Ae&&b(R,Ae,ne)}}onStorageEvent(b,R=!1){if(!b.key)return void this.forAllChangedKeys((Ht,gn,pi)=>{this.notifyListeners(Ht,pi)});const ne=b.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ht=this.storage.getItem(ne);if(b.newValue!==Ht)null!==b.newValue?this.storage.setItem(ne,b.newValue):this.storage.removeItem(ne);else if(this.localCache[ne]===b.newValue&&!R)return}const Ae=()=>{const Ht=this.storage.getItem(ne);!R&&this.localCache[ne]===Ht||this.notifyListeners(ne,Ht)},bt=this.storage.getItem(ne);!function Hn(){return(0,l.w1)()&&10===document.documentMode}()||bt===b.newValue||b.newValue===b.oldValue?Ae():setTimeout(Ae,10)}notifyListeners(b,R){this.localCache[b]=R;const ne=this.listeners[b];if(ne)for(const Ae of Array.from(ne))Ae(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,R,ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:R,newValue:ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(R)}_removeListener(b,R){this.listeners[b]&&(this.listeners[b].delete(R),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,R){var ne=()=>super._set,Ae=this;return(0,g.Z)(function*(){yield ne().call(Ae,b,R),Ae.localCache[b]=JSON.stringify(R)})()}_get(b){var R=()=>super._get,ne=this;return(0,g.Z)(function*(){const Ae=yield R().call(ne,b);return ne.localCache[b]=JSON.stringify(Ae),Ae})()}_remove(b){var R=()=>super._remove,ne=this;return(0,g.Z)(function*(){yield R().call(ne,b),delete ne.localCache[b]})()}}return I.type="LOCAL",I})(),Rr=(()=>{class I extends or{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,R){}_removeListener(b,R){}}return I.type="SESSION",I})();let Tn=(()=>{class I{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const R=this.receivers.find(Ae=>Ae.isListeningto(b));if(R)return R;const ne=new I(b);return this.receivers.push(ne),ne}isListeningto(b){return this.eventTarget===b}handleEvent(b){var R=this;return(0,g.Z)(function*(){const ne=b,{eventId:Ae,eventType:bt,data:Ht}=ne.data,gn=R.handlersMap[bt];if(!(null==gn?void 0:gn.size))return;ne.ports[0].postMessage({status:"ack",eventId:Ae,eventType:bt});const pi=Array.from(gn).map(function(){var as=(0,g.Z)(function*(Is){return Is(ne.origin,Ht)});return function(Is){return as.apply(this,arguments)}}()),Ti=yield function no(I){return Promise.all(I.map(function(){var y=(0,g.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(R){return{fulfilled:!1,reason:R}}});return function(b){return y.apply(this,arguments)}}()))}(pi);ne.ports[0].postMessage({status:"done",eventId:Ae,eventType:bt,response:Ti})})()}_subscribe(b,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(R)}_unsubscribe(b,R){this.handlersMap[b]&&R&&this.handlersMap[b].delete(R),(!R||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Jn(I="",y=10){let b="";for(let R=0;R<y;R++)b+=Math.floor(10*Math.random());return I+b}class Gl{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,b,R=50){var ne=this;return(0,g.Z)(function*(){const Ae="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Ae)throw new Error("connection_unavailable");let bt,Ht;return new Promise((gn,pi)=>{const Ti=Jn("",20);Ae.port1.start();const as=setTimeout(()=>{pi(new Error("unsupported_event"))},R);Ht={messageChannel:Ae,onMessage(Is){const Il=Is;if(Il.data.eventId===Ti)switch(Il.data.status){case"ack":clearTimeout(as),bt=setTimeout(()=>{pi(new Error("timeout"))},3e3);break;case"done":clearTimeout(bt),gn(Il.data.response);break;default:clearTimeout(as),clearTimeout(bt),pi(new Error("invalid_response"))}}},ne.handlers.add(Ht),Ae.port1.addEventListener("message",Ht.onMessage),ne.target.postMessage({eventType:y,eventId:Ti,data:b},[Ae.port2])}).finally(()=>{Ht&&ne.removeMessageHandler(Ht)})})()}}function on(){return window}function tn(){return void 0!==on().WorkerGlobalScope&&"function"==typeof on().importScripts}function ra(){return(ra=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const ya="firebaseLocalStorageDb",Pa="firebaseLocalStorage",sa="fbase_key";class No{constructor(y){this.request=y}toPromise(){return new Promise((y,b)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function va(I,y){return I.transaction([Pa],y?"readwrite":"readonly").objectStore(Pa)}function S(){const I=indexedDB.open(ya,1);return new Promise((y,b)=>{I.addEventListener("error",()=>{b(I.error)}),I.addEventListener("upgradeneeded",()=>{const R=I.result;try{R.createObjectStore(Pa,{keyPath:sa})}catch(ne){b(ne)}}),I.addEventListener("success",(0,g.Z)(function*(){const R=I.result;R.objectStoreNames.contains(Pa)?y(R):(R.close(),yield function k(){const I=indexedDB.deleteDatabase(ya);return new No(I).toPromise()}(),y(yield S()))}))})}function A(I,y,b){return L.apply(this,arguments)}function L(){return(L=(0,g.Z)(function*(I,y,b){const R=va(I,!0).put({[sa]:y,value:b});return new No(R).toPromise()})).apply(this,arguments)}function ue(){return(ue=(0,g.Z)(function*(I,y){const b=va(I,!1).get(y),R=yield new No(b).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function Re(I,y){const b=va(I,!0).delete(y);return new No(b).toPromise()}const xi=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,g.Z)(function*(){return b.db||(b.db=yield S()),b.db})()}_withRetries(b){var R=this;return(0,g.Z)(function*(){let ne=0;for(;;)try{const Ae=yield R._openDb();return yield b(Ae)}catch(Ae){if(ne++>3)throw Ae;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,g.Z)(function*(){return tn()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,g.Z)(function*(){b.receiver=Tn._getInstance(function wc(){return tn()?self:null}()),b.receiver._subscribe("keyChanged",function(){var R=(0,g.Z)(function*(ne,Ae){return{keyProcessed:(yield b._poll()).includes(Ae.key)}});return function(ne,Ae){return R.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var R=(0,g.Z)(function*(ne,Ae){return["keyChanged"]});return function(ne,Ae){return R.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,g.Z)(function*(){var R,ne;if(b.activeServiceWorker=yield function br(){return ra.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new Gl(b.activeServiceWorker);const Ae=yield b.sender._send("ping",{},800);!Ae||(null===(R=Ae[0])||void 0===R?void 0:R.fulfilled)&&(null===(ne=Ae[0])||void 0===ne?void 0:ne.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var R=this;return(0,g.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function Po(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:b},R.serviceWorkerReceiverAvailable?800:50)}catch(ne){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const b=yield S();return yield A(b,ts,"1"),yield Re(b,ts),!0}catch(b){}return!1})()}_withPendingWrite(b){var R=this;return(0,g.Z)(function*(){R.pendingWrites++;try{yield b()}finally{R.pendingWrites--}})()}_set(b,R){var ne=this;return(0,g.Z)(function*(){return ne._withPendingWrite((0,g.Z)(function*(){return yield ne._withRetries(Ae=>A(Ae,b,R)),ne.localCache[b]=R,ne.notifyServiceWorker(b)}))})()}_get(b){var R=this;return(0,g.Z)(function*(){const ne=yield R._withRetries(Ae=>function K(I,y){return ue.apply(this,arguments)}(Ae,b));return R.localCache[b]=ne,ne})()}_remove(b){var R=this;return(0,g.Z)(function*(){return R._withPendingWrite((0,g.Z)(function*(){return yield R._withRetries(ne=>Re(ne,b)),delete R.localCache[b],R.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,g.Z)(function*(){const R=yield b._withRetries(bt=>{const Ht=va(bt,!1).getAll();return new No(Ht).toPromise()});if(!R)return[];if(0!==b.pendingWrites)return[];const ne=[],Ae=new Set;for(const{fbase_key:bt,value:Ht}of R)Ae.add(bt),JSON.stringify(b.localCache[bt])!==JSON.stringify(Ht)&&(b.notifyListeners(bt,Ht),ne.push(bt));for(const bt of Object.keys(b.localCache))b.localCache[bt]&&!Ae.has(bt)&&(b.notifyListeners(bt,null),ne.push(bt));return ne})()}notifyListeners(b,R){this.localCache[b]=R;const ne=this.listeners[b];if(ne)for(const Ae of Array.from(ne))Ae(R)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(R)}_removeListener(b,R){this.listeners[b]&&(this.listeners[b].delete(R),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function kn(I,y){return it(I,"POST","/v2/accounts/mfaSignIn:start",Ke(I,y))}function pr(){return(pr=(0,g.Z)(function*(I){return(yield it(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ba(I){return new Promise((y,b)=>{const R=document.createElement("script");R.setAttribute("src",I),R.onload=y,R.onerror=ne=>{const Ae=ve("internal-error");Ae.customData=ne,b(Ae)},R.type="text/javascript",R.charset="UTF-8",function ns(){var I,y;return null!==(y=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==y?y:document}().appendChild(R)})}function Fr(I){return`__${I}${Math.floor(1e6*Math.random())}`}const wr=1e12;class co{constructor(y){this.auth=y,this.counter=wr,this._widgets=new Map}render(y,b){const R=this.counter;return this._widgets.set(R,new Ec(y,this.auth.name,b||{})),this.counter++,R}reset(y){var b;const R=y||wr;null===(b=this._widgets.get(R))||void 0===b||b.delete(),this._widgets.delete(R)}getResponse(y){var b;return(null===(b=this._widgets.get(y||wr))||void 0===b?void 0:b.getResponse())||""}execute(y){var b=this;return(0,g.Z)(function*(){var R;return null===(R=b._widgets.get(y||wr))||void 0===R||R.execute(),""})()}}class Ec{constructor(y,b,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ne="string"==typeof y?document.getElementById(y):y;Ue(ne,"argument-error",{appName:b}),this.container=ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $l(I){const y=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<I;R++)y.push(b.charAt(Math.floor(Math.random()*b.length)));return y.join("")}(50);const{callback:y,"expired-callback":b}=this.params;if(y)try{y(this.responseToken)}catch(R){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch(R){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vo=Fr("rcb"),qc=new jt(3e4,6e4);class Pr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!on().grecaptcha}load(y,b=""){return Ue(function zl(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(b),y,"argument-error"),this.shouldResolveImmediately(b)?Promise.resolve(on().grecaptcha):new Promise((R,ne)=>{const Ae=on().setTimeout(()=>{ne(ve(y,"network-request-failed"))},qc.get());on()[vo]=()=>{on().clearTimeout(Ae),delete on()[vo];const Ht=on().grecaptcha;if(!Ht)return void ne(ve(y,"internal-error"));const gn=Ht.render;Ht.render=(pi,Ti)=>{const as=gn(pi,Ti);return this.counter++,as},this.hostLanguage=b,R(Ht)},ba(`https://www.google.com/recaptcha/api.js??${(0,l.xO)({onload:vo,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(Ae),ne(ve(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!on().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Mu{load(y){return(0,g.Z)(function*(){return new co(y)})()}clearedOneInstance(){}}const yn="recaptcha",_l={theme:"light",type:"image"};class Cc{constructor(y,b=Object.assign({},_l),R){this.parameters=b,this.type=yn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mi(R),this.isInvisible="invisible"===this.parameters.size,Ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const ne="string"==typeof y?document.getElementById(y):y;Ue(ne,this.auth,"argument-error"),this.container=ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mu:new Pr,this.validateStartingState()}verify(){var y=this;return(0,g.Z)(function*(){y.assertNotDestroyed();const b=yield y.render(),R=y.getAssertedRecaptcha();return R.getResponse(b)||new Promise(Ae=>{const bt=Ht=>{!Ht||(y.tokenChangeListeners.delete(bt),Ae(Ht))};y.tokenChangeListeners.add(bt),y.isInvisible&&R.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Ue(!this.parameters.sitekey,this.auth,"argument-error"),Ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return b=>{if(this.tokenChangeListeners.forEach(R=>R(b)),"function"==typeof y)y(b);else if("string"==typeof y){const R=on()[y];"function"==typeof R&&R(b)}}}assertNotDestroyed(){Ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,g.Z)(function*(){if(yield y.init(),!y.widgetId){let b=y.container;if(!y.isInvisible){const R=document.createElement("div");b.appendChild(R),b=R}y.widgetId=y.getAssertedRecaptcha().render(b,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,g.Z)(function*(){Ue(mn()&&!tn(),y.auth,"internal-error"),yield function Na(){let I=null;return new Promise(y=>{"complete"!==document.readyState?(I=()=>y(),window.addEventListener("load",I)):y()}).catch(y=>{throw I&&window.removeEventListener("load",I),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const b=yield function ir(I){return pr.apply(this,arguments)}(y.auth);Ue(b,y.auth,"internal-error"),y.parameters.sitekey=b})()}getAssertedRecaptcha(){return Ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class io{constructor(y,b){this.verificationId=y,this.onConfirmation=b}confirm(y){const b=ms._fromVerification(this.verificationId,y);return this.onConfirmation(b)}}function aa(I,y,b){return la.apply(this,arguments)}function la(){return(la=(0,g.Z)(function*(I,y,b){const R=mi(I),ne=yield ca(R,y,(0,l.m9)(b));return new io(ne,Ae=>Bt(R,Ae))})).apply(this,arguments)}function Sr(I,y,b){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,g.Z)(function*(I,y,b){const R=(0,l.m9)(I);yield z(!1,R,"phone");const ne=yield ca(R.auth,y,(0,l.m9)(b));return new io(ne,Ae=>qi(R,Ae))})).apply(this,arguments)}function Qa(I,y,b){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,g.Z)(function*(I,y,b){const R=(0,l.m9)(I),ne=yield ca(R.auth,y,(0,l.m9)(b));return new io(ne,Ae=>yi(R,Ae))})).apply(this,arguments)}function ca(I,y,b){return jr.apply(this,arguments)}function jr(){return(jr=(0,g.Z)(function*(I,y,b){var R;const ne=yield b.verify();try{let Ae;if(Ue("string"==typeof ne,I,"argument-error"),Ue(b.type===yn,I,"argument-error"),Ae="string"==typeof y?{phoneNumber:y}:y,"session"in Ae){const bt=Ae.session;if("phoneNumber"in Ae)return Ue("enroll"===bt.type,I,"internal-error"),(yield es(I,{idToken:bt.credential,phoneEnrollmentInfo:{phoneNumber:Ae.phoneNumber,recaptchaToken:ne}})).phoneSessionInfo.sessionInfo;{Ue("signin"===bt.type,I,"internal-error");const Ht=(null===(R=Ae.multiFactorHint)||void 0===R?void 0:R.uid)||Ae.multiFactorUid;return Ue(Ht,I,"missing-multi-factor-info"),(yield kn(I,{mfaPendingCredential:bt.credential,mfaEnrollmentId:Ht,phoneSignInInfo:{recaptchaToken:ne}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:bt}=yield Hi(I,{phoneNumber:Ae.phoneNumber,recaptchaToken:ne});return bt}}finally{b._reset()}})).apply(this,arguments)}function Mo(I,y){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,g.Z)(function*(I,y){yield bs((0,l.m9)(I),y)})).apply(this,arguments)}let ks=(()=>{class I{constructor(b){this.providerId=I.PROVIDER_ID,this.auth=mi(b)}verifyPhoneNumber(b,R){return ca(this.auth,b,(0,l.m9)(R))}static credential(b,R){return ms._fromVerification(b,R)}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:R,temporaryProof:ne}=b;return R&&ne?ms._fromTokenResponse(R,ne):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function is(I,y){return y?gt(y):(Ue(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class ua extends Qi{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return wi(y,this._buildIdpRequest())}_linkToIdToken(y,b){return wi(y,this._buildIdpRequest(b))}_getReauthenticationResolver(y){return wi(y,this._buildIdpRequest())}_buildIdpRequest(y){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(b.idToken=y),b}}function yl(I){return et(I.auth,new ua(I),I.bypassAuthState)}function Vr(I){const{auth:y,user:b}=I;return Ue(b,y,"internal-error"),$(b,new ua(I),I.bypassAuthState)}function Bi(I){return vl.apply(this,arguments)}function vl(){return(vl=(0,g.Z)(function*(I){const{auth:y,user:b}=I;return Ue(b,y,"internal-error"),bs(b,new ua(I),I.bypassAuthState)})).apply(this,arguments)}class xr{constructor(y,b,R,ne,Ae=!1){this.auth=y,this.resolver=R,this.user=ne,this.bypassAuthState=Ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var y=this;return new Promise(function(){var b=(0,g.Z)(function*(R,ne){y.pendingPromise={resolve:R,reject:ne};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(Ae){y.reject(Ae)}});return function(R,ne){return b.apply(this,arguments)}}())}onAuthEvent(y){var b=this;return(0,g.Z)(function*(){const{urlResponse:R,sessionId:ne,postBody:Ae,tenantId:bt,error:Ht,type:gn}=y;if(Ht)return void b.reject(Ht);const pi={auth:b.auth,requestUri:R,sessionId:ne,tenantId:bt||void 0,postBody:Ae||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(gn)(pi))}catch(Ti){b.reject(Ti)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return yl;case"linkViaPopup":case"linkViaRedirect":return Bi;case"reauthViaPopup":case"reauthViaRedirect":return Vr;default:Pe(this.auth,"internal-error")}}resolve(y){We(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){We(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ro=new jt(2e3,1e4);function bl(I,y,b){return zs.apply(this,arguments)}function zs(){return(zs=(0,g.Z)(function*(I,y,b){const R=mi(I);Ee(I,y,cs);const ne=is(R,b);return new Lo(R,"signInViaPopup",y,ne).executeNotNull()})).apply(this,arguments)}function xc(I,y,b){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,g.Z)(function*(I,y,b){const R=(0,l.m9)(I);Ee(R.auth,y,cs);const ne=is(R.auth,b);return new Lo(R.auth,"reauthViaPopup",y,ne,R).executeNotNull()})).apply(this,arguments)}function xa(I,y,b){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,g.Z)(function*(I,y,b){const R=(0,l.m9)(I);Ee(R.auth,y,cs);const ne=is(R.auth,b);return new Lo(R.auth,"linkViaPopup",y,ne,R).executeNotNull()})).apply(this,arguments)}let Lo=(()=>{class I extends xr{constructor(b,R,ne,Ae,bt){super(b,R,Ae,bt),this.provider=ne,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var b=this;return(0,g.Z)(function*(){const R=yield b.execute();return Ue(R,b.auth,"internal-error"),R})()}onExecution(){var b=this;return(0,g.Z)(function*(){We(1===b.filter.length,"Popup operations only handle one event");const R=Jn();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],R),b.authWindow.associatedEvent=R,b.resolver._originValidation(b.auth).catch(ne=>{b.reject(ne)}),b.resolver._isIframeWebStorageSupported(b.auth,ne=>{ne||b.reject(ve(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const b=()=>{var R,ne;this.pollId=(null===(ne=null===(R=this.authWindow)||void 0===R?void 0:R.window)||void 0===ne?void 0:ne.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,ro.get())};b()}}return I.currentPopupAction=null,I})();const Bo=new Map;class ql extends xr{constructor(y,b,R=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,R),this.eventId=null}execute(){var y=()=>super.execute,b=this;return(0,g.Z)(function*(){let R=Bo.get(b.auth._key());if(!R){try{const Ae=(yield function Ws(I,y){return Ja.apply(this,arguments)}(b.resolver,b.auth))?yield y().call(b):null;R=()=>Promise.resolve(Ae)}catch(ne){R=()=>Promise.reject(ne)}Bo.set(b.auth._key(),R)}return b.bypassAuthState||Bo.set(b.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(y){var b=()=>super.onAuthEvent,R=this;return(0,g.Z)(function*(){if("signInViaRedirect"===y.type)return b().call(R,y);if("unknown"!==y.type){if(y.eventId){const ne=yield R.auth._redirectUserForId(y.eventId);if(ne)return R.user=ne,b().call(R,y);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Ja(){return(Ja=(0,g.Z)(function*(I,y){const b=Kc(y),R=os(I);if(!(yield R._isAvailable()))return!1;const ne="true"===(yield R._get(b));return yield R._remove(b),ne})).apply(this,arguments)}function Xa(I,y){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,g.Z)(function*(I,y){return os(I)._set(Kc(y),"true")})).apply(this,arguments)}function uo(){Bo.clear()}function os(I){return gt(I._redirectPersistence)}function Kc(I){return je("pendingRedirect",I.config.apiKey,I.name)}function B(I,y,b){return function W(I,y,b){return ae.apply(this,arguments)}(I,y,b)}function ae(){return(ae=(0,g.Z)(function*(I,y,b){const R=mi(I);Ee(I,y,cs);const ne=is(R,b);return yield Xa(ne,R),ne._openRedirect(R,y,"signInViaRedirect")})).apply(this,arguments)}function Ge(I,y,b){return function _t(I,y,b){return At.apply(this,arguments)}(I,y,b)}function At(){return(At=(0,g.Z)(function*(I,y,b){const R=(0,l.m9)(I);Ee(R.auth,y,cs);const ne=is(R.auth,b);yield Xa(ne,R.auth);const Ae=yield Vi(R);return ne._openRedirect(R.auth,y,"reauthViaRedirect",Ae)})).apply(this,arguments)}function rn(I,y,b){return function fn(I,y,b){return ui.apply(this,arguments)}(I,y,b)}function ui(){return(ui=(0,g.Z)(function*(I,y,b){const R=(0,l.m9)(I);Ee(R.auth,y,cs);const ne=is(R.auth,b);yield z(!1,R,y.providerId),yield Xa(ne,R.auth);const Ae=yield Vi(R);return ne._openRedirect(R.auth,y,"linkViaRedirect",Ae)})).apply(this,arguments)}function Di(I,y){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,g.Z)(function*(I,y){return yield mi(I)._initializationPromise,Mn(I,y,!1)})).apply(this,arguments)}function Mn(I,y){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,g.Z)(function*(I,y,b=!1){const R=mi(I),ne=is(R,y),bt=yield new ql(R,ne,b).execute();return bt&&!b&&(delete bt.user._redirectEventId,yield R._persistUserIfCurrent(bt.user),yield R._setRedirectUser(null,y)),bt})).apply(this,arguments)}function Vi(I){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,g.Z)(function*(I){const y=Jn(`${I.uid}:::`);return I._redirectEventId=y,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),y})).apply(this,arguments)}class Ro{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let b=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(y,R)&&(b=!0,this.sendToConsumer(y,R),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Dc(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ko(I);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=y,b=!0)),b}sendToConsumer(y,b){var R;if(y.error&&!ko(y)){const ne=(null===(R=y.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";b.onError(ve(this.auth,ne))}else b.onAuthEvent(y)}isEventForConsumer(y,b){const R=null===b.eventId||!!y.eventId&&y.eventId===b.eventId;return b.filter.includes(y.type)&&R}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jo(y))}saveEventToCache(y){this.cachedEventUids.add(Jo(y)),this.lastProcessedEventTime=Date.now()}}function Jo(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(y=>y).join("-")}function ko({type:I,error:y}){return"unknown"===I&&"auth/no-auth-event"===(null==y?void 0:y.code)}function wl(I){return bo.apply(this,arguments)}function bo(){return(bo=(0,g.Z)(function*(I,y={}){return it(I,"GET","/v1/projects",y)})).apply(this,arguments)}const Kl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,El=/^https?/;function el(){return(el=(0,g.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:y}=yield wl(I);for(const b of y)try{if(tl(b))return}catch(R){}Pe(I,"unauthorized-domain")})).apply(this,arguments)}function tl(I){const y=ct(),{protocol:b,hostname:R}=new URL(y);if(I.startsWith("chrome-extension://")){const bt=new URL(I);return""===bt.hostname&&""===R?"chrome-extension:"===b&&I.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===b&&bt.hostname===R}if(!El.test(b))return!1;if(Kl.test(I))return R===I;const ne=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(R)}const Zl=new jt(3e4,6e4);function Ad(){const I=on().___jsl;if(null==I?void 0:I.H)for(const y of Object.keys(I.H))if(I.H[y].r=I.H[y].r||[],I.H[y].L=I.H[y].L||[],I.H[y].r=[...I.H[y].L],I.CP)for(let b=0;b<I.CP.length;b++)I.CP[b]=null}let nl=null;function ku(I){return nl=nl||function lp(I){return new Promise((y,b)=>{var R,ne,Ae;function bt(){Ad(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Ad(),b(ve(I,"network-request-failed"))},timeout:Zl.get()})}if(null===(ne=null===(R=on().gapi)||void 0===R?void 0:R.iframes)||void 0===ne?void 0:ne.Iframe)y(gapi.iframes.getContext());else{if(!(null===(Ae=on().gapi)||void 0===Ae?void 0:Ae.load)){const Ht=Fr("iframefcb");return on()[Ht]=()=>{gapi.load?bt():b(ve(I,"network-request-failed"))},ba(`https://apis.google.com/js/api.js?onload=${Ht}`).catch(gn=>b(gn))}bt()}}).catch(y=>{throw nl=null,y})}(I),nl}const Id=new jt(5e3,15e3),cp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ac=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function La(I){const y=I.config;Ue(y.authDomain,I,"auth-domain-config-required");const b=y.emulator?un(y,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,R={apiKey:y.apiKey,appName:I.name,v:G.SDK_VERSION},ne=Ac.get(I.config.apiHost);ne&&(R.eid=ne);const Ae=I._getFrameworks();return Ae.length&&(R.fw=Ae.join(",")),`${b}?${(0,l.xO)(R).slice(1)}`}function Yc(){return Yc=(0,g.Z)(function*(I){const y=yield ku(I),b=on().gapi;return Ue(b,I,"internal-error"),y.open({where:document.body,url:La(I),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cp,dontclear:!0},R=>new Promise(function(){var ne=(0,g.Z)(function*(Ae,bt){yield R.restyle({setHideOnLeave:!1});const Ht=ve(I,"network-request-failed"),gn=on().setTimeout(()=>{bt(Ht)},Id.get());function pi(){on().clearTimeout(gn),Ae(R)}R.ping(pi).then(pi,()=>{bt(Ht)})});return function(Ae,bt){return ne.apply(this,arguments)}}()))}),Yc.apply(this,arguments)}const Cl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class il{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function Yl(I,y,b,R,ne,Ae){Ue(I.config.authDomain,I,"auth-domain-config-required"),Ue(I.config.apiKey,I,"invalid-api-key");const bt={apiKey:I.config.apiKey,appName:I.name,authType:b,redirectUrl:R,v:G.SDK_VERSION,eventId:ne};if(y instanceof cs){y.setDefaultLanguage(I.languageCode),bt.providerId=y.providerId||"",(0,l.xb)(y.getCustomParameters())||(bt.customParameters=JSON.stringify(y.getCustomParameters()));for(const[gn,pi]of Object.entries(Ae||{}))bt[gn]=pi}if(y instanceof ys){const gn=y.getScopes().filter(pi=>""!==pi);gn.length>0&&(bt.scopes=gn.join(","))}I.tenantId&&(bt.tid=I.tenantId);const Ht=bt;for(const gn of Object.keys(Ht))void 0===Ht[gn]&&delete Ht[gn];return`${function Td({config:I}){return I.emulator?un(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,l.xO)(Ht).slice(1)}`}const Ic="webStorageSupport",rl=class Ba{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rr,this._completeRedirectFn=Mn}_openPopup(y,b,R,ne){var Ae=this;return(0,g.Z)(function*(){var bt;We(null===(bt=Ae.eventManagers[y._key()])||void 0===bt?void 0:bt.manager,"_initialize() not called before _openPopup()");const Ht=Yl(y,b,R,ct(),ne);return function Sd(I,y,b,R=500,ne=600){const Ae=Math.max((window.screen.availHeight-ne)/2,0).toString(),bt=Math.max((window.screen.availWidth-R)/2,0).toString();let Ht="";const gn=Object.assign(Object.assign({},Cl),{width:R.toString(),height:ne.toString(),top:Ae,left:bt}),pi=(0,l.z$)().toLowerCase();b&&(Ht=de(pi)?"_blank":b),xe(pi)&&(y=y||"http://localhost",gn.scrollbars="yes");const Ti=Object.entries(gn).reduce((Is,[Il,sl])=>`${Is}${Il}=${sl},`,"");if(function ri(I=(0,l.z$)()){var y;return cn(I)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(pi)&&"_self"!==Ht)return function xl(I,y){const b=document.createElement("a");b.href=I,b.target=y;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(R)}(y||"",Ht),new il(null);const as=window.open(y||"",Ht,Ti);Ue(as,I,"popup-blocked");try{as.focus()}catch(Is){}return new il(as)}(y,Ht,Jn())})()}_openRedirect(y,b,R,ne){var Ae=this;return(0,g.Z)(function*(){return yield Ae._originValidation(y),function St(I){on().location.href=I}(Yl(y,b,R,ct(),ne)),new Promise(()=>{})})()}_initialize(y){const b=y._key();if(this.eventManagers[b]){const{manager:ne,promise:Ae}=this.eventManagers[b];return ne?Promise.resolve(ne):(We(Ae,"If manager is not set, promise should be"),Ae)}const R=this.initAndGetManager(y);return this.eventManagers[b]={promise:R},R.catch(()=>{delete this.eventManagers[b]}),R}initAndGetManager(y){var b=this;return(0,g.Z)(function*(){const R=yield function Xo(I){return Yc.apply(this,arguments)}(y),ne=new Ro(y);return R.register("authEvent",Ae=>(Ue(null==Ae?void 0:Ae.authEvent,y,"invalid-auth-event"),{status:ne.onEvent(Ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[y._key()]={manager:ne},b.iframes[y._key()]=R,ne})()}_isIframeWebStorageSupported(y,b){this.iframes[y._key()].send(Ic,{type:Ic},ne=>{var Ae;const bt=null===(Ae=null==ne?void 0:ne[0])||void 0===Ae?void 0:Ae[Ic];void 0!==bt&&b(!!bt),Pe(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const b=y._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Ru(I){return el.apply(this,arguments)}(y)),this.originValidationPromises[b]}get _shouldInitProactively(){return ti()||Y()||cn()}};class Dl extends class Nu{constructor(y){this.factorId=y}_process(y,b,R){switch(b.type){case"enroll":return this._finalizeEnroll(y,b.credential,R);case"signin":return this._finalizeSignIn(y,b.credential);default:return Ot("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Dl(y)}_finalizeEnroll(y,b,R){return function _n(I,y){return it(I,"POST","/v2/accounts/mfaEnrollment:finalize",Ke(I,y))}(y,{idToken:b,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,b){return function Ln(I,y){return it(I,"POST","/v2/accounts/mfaSignIn:finalize",Ke(I,y))}(y,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Al=(()=>{class I{constructor(){}static assertion(b){return Dl._fromCredential(b)}}return I.FACTOR_ID="phone",I})();var Md="@firebase/auth",Lu="0.19.11";class Od{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var b=this;return(0,g.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const b=this.auth.onIdTokenChanged(R=>{var ne;y((null===(ne=R)||void 0===ne?void 0:ne.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,b),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const b=this.internalListeners.get(y);!b||(this.internalListeners.delete(y),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ph(I=(0,G.getApp)()){const y=(0,G._getProvider)(I,"auth");return y.isInitialized()?y.getImmediate():function Et(I,y){const b=(0,G._getProvider)(I,"auth");if(b.isInitialized()){const ne=b.getImmediate(),Ae=b.getOptions();if((0,l.vZ)(Ae,null!=y?y:{}))return ne;Pe(ne,"already-initialized")}return b.initialize({options:y})}(I,{popupRedirectResolver:rl,persistence:[xi,Zt,Rr]})}!function Bu(I){(0,G._registerComponent)(new Oe.wA("auth",(y,{options:b})=>{const R=y.getProvider("app").getImmediate(),ne=y.getProvider("heartbeat"),{apiKey:Ae,authDomain:bt}=R.options;return((Ht,gn)=>{Ue(Ae&&!Ae.includes(":"),"invalid-api-key",{appName:Ht.name}),Ue(!(null==bt?void 0:bt.includes(":")),"argument-error",{appName:Ht.name});const pi={apiKey:Ae,authDomain:bt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ai(I)},Ti=new Ar(Ht,gn,pi);return function Dt(I,y){const b=(null==y?void 0:y.persistence)||[],R=(Array.isArray(b)?b:[b]).map(gt);(null==y?void 0:y.errorMap)&&I._updateErrorMap(y.errorMap),I._initializeWithPersistence(R,null==y?void 0:y.popupRedirectResolver)}(Ti,b),Ti})(R,ne)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,b,R)=>{y.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new Oe.wA("auth-internal",y=>{const b=mi(y.getProvider("auth").getImmediate());return new Od(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(Md,Lu,function Ql(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,G.registerVersion)(Md,Lu,"esm2017")}("Browser")},5525:(Jt,at,O)=>{O.d(at,{u7:()=>Mh,Jj:()=>Bl,IX:()=>vu,my:()=>Ps,xU:()=>vc,Lz:()=>hl,WA:()=>tn,F8:()=>Yf,$q:()=>xu,W:()=>Ul,EK:()=>Re,PU:()=>Rh,l7:()=>wa,Ky:()=>yn,Xb:()=>pr,Cf:()=>gr,K9:()=>Gl,Me:()=>ba,yq:()=>Rr,Wi:()=>pg,ET:()=>u,Ab:()=>Wt,vr:()=>Yt,Fc:()=>L_,hJ:()=>F_,B$:()=>Um,at:()=>ry,oe:()=>t_,AK:()=>Me,TF:()=>Cg,JU:()=>Hm,ST:()=>jm,fH:()=>wg,Ix:()=>$m,Wu:()=>Au,Lx:()=>Lg,qY:()=>Ns,GL:()=>f,QT:()=>Qm,kl:()=>Hl,Xk:()=>Wa,PL:()=>pl,UQ:()=>rp,zN:()=>Jm,ad:()=>bg,nP:()=>Bn,b9:()=>Pg,vh:()=>Km,Pb:()=>zm,L$:()=>Dg,cf:()=>h,sc:()=>a,Xo:()=>qm,IO:()=>B_,iE:()=>mg,Eo:()=>P_,i3:()=>ee,Bt:()=>ut,pl:()=>Xm,Ub:()=>ml,qK:()=>kg,TQ:()=>Ym,e0:()=>Zm,r7:()=>e_,Mx:()=>Gm,ar:()=>Wm});var me,g=O(5861),l=O(9681),G=O(4859),X=O(1877),be=O(2090),Oe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Be={},Fe=Fe||{},te=Oe||self;function ce(){}function Se(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Xe(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var nt="closure_uid_"+(1e9*Math.random()>>>0),pt=0;function ze(r,e,n){return r.call.apply(r.bind,arguments)}function Le(r,e,n){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,o),r.apply(e,d)}}return function(){return r.apply(e,arguments)}}function He(r,e,n){return(He=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ze:Le).apply(null,arguments)}function Pe(r,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function ve(r,e){function n(){}n.prototype=e.prototype,r.Z=e.prototype,r.prototype=new n,r.prototype.constructor=r,r.Vb=function(o,d,_){for(var C=Array(arguments.length-2),P=2;P<arguments.length;P++)C[P-2]=arguments[P];return e.prototype[d].apply(o,C)}}function le(){this.s=this.s,this.o=this.o}var lt={};le.prototype.s=!1,le.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function Ze(r){return Object.prototype.hasOwnProperty.call(r,nt)&&r[nt]||(r[nt]=++pt)}(this);delete lt[r]}},le.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ue=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let n=0;n<r.length;n++)if(n in r&&r[n]===e)return n;return-1},Ot=Array.prototype.forEach?function(r,e,n){Array.prototype.forEach.call(r,e,n)}:function(r,e,n){const o=r.length,d="string"==typeof r?r.split(""):r;for(let _=0;_<o;_++)_ in d&&e.call(n,d[_],_,r)};function mt(r){return Array.prototype.concat.apply([],arguments)}function gt(r){const e=r.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=r[o];return n}return[]}function Et(r){return/^[\s\xa0]*$/.test(r)}var en,Dt=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function ct(r,e){return-1!=r.indexOf(e)}function mn(r,e){return r<e?-1:r>e?1:0}e:{var An=te.navigator;if(An){var Ut=An.userAgent;if(Ut){en=Ut;break e}}en=""}function jt(r,e,n){for(const o in r)e.call(n,r[o],o,r)}function un(r){const e={};for(const n in r)e[n]=r[n];return e}var dn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xt(r,e){let n,o;for(let d=1;d<arguments.length;d++){for(n in o=arguments[d],o)r[n]=o[n];for(let _=0;_<dn.length;_++)n=dn[_],Object.prototype.hasOwnProperty.call(o,n)&&(r[n]=o[n])}}function It(r){return It[" "](r),r}It[" "]=ce;var Zn,r,it=ct(en,"Opera"),Vt=ct(en,"Trident")||ct(en,"MSIE"),bn=ct(en,"Edge"),Rn=bn||Vt,$n=ct(en,"Gecko")&&!(ct(en.toLowerCase(),"webkit")&&!ct(en,"Edge"))&&!(ct(en,"Trident")||ct(en,"MSIE"))&&!ct(en,"Edge"),Kn=ct(en.toLowerCase(),"webkit")&&!ct(en,"Edge");function wn(){var r=te.document;return r?r.documentMode:void 0}e:{var ni="",Wi=(r=en,$n?/rv:([^\);]+)(\)|;)/.exec(r):bn?/Edge\/([\d\.]+)/.exec(r):Vt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Kn?/WebKit\/(\S+)/.exec(r):it?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Wi&&(ni=Wi?Wi[1]:""),Vt){var ln=wn();if(null!=ln&&ln>parseFloat(ni)){Zn=String(ln);break e}}Zn=ni}var Vn={};var Ri=te.document&&Vt&&(wn()||parseInt(Zn,10))||void 0,ii=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{te.addEventListener("test",ce,e),te.removeEventListener("test",ce,e)}catch(n){}return r}();function Rt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}function ht(r,e){if(Rt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if($n){e:{try{It(e.nodeName);var d=!0;break e}catch(_){}d=!1}d||(e=null)}}else"mouseover"==n?e=r.fromElement:"mouseout"==n&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:we[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&ht.Z.h.call(this)}}Rt.prototype.h=function(){this.defaultPrevented=!0},ve(ht,Rt);var we={2:"touch",3:"pen",4:"mouse"};ht.prototype.h=function(){ht.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Qe(r,e,n,o,d){this.listener=r,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=d,this.key=++Te,this.ca=this.fa=!1}function Xt(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function pn(r){this.src=r,this.g={},this.h=0}function En(r,e){var n=e.type;if(n in r.g){var _,o=r.g[n],d=Ue(o,e);(_=0<=d)&&Array.prototype.splice.call(o,d,1),_&&(Xt(e),0==r.g[n].length&&(delete r.g[n],r.h--))}}function Un(r,e,n,o){for(var d=0;d<r.length;++d){var _=r[d];if(!_.ca&&_.listener==e&&_.capture==!!n&&_.ia==o)return d}return-1}pn.prototype.add=function(r,e,n,o,d){var _=r.toString();(r=this.g[_])||(r=this.g[_]=[],this.h++);var C=Un(r,e,o,d);return-1<C?(e=r[C],n||(e.fa=!1)):((e=new Qe(e,this.src,_,!!o,d)).fa=n,r.push(e)),e};var Xn="closure_lm_"+(1e6*Math.random()|0),Gn={};function sn(r,e,n,o,d){if(o&&o.once)return pe(r,e,n,o,d);if(Array.isArray(e)){for(var _=0;_<e.length;_++)sn(r,e[_],n,o,d);return null}return n=Ie(n),r&&r[tt]?r.N(e,n,Xe(o)?!!o.capture:!!o,d):gi(r,e,n,!1,o,d)}function gi(r,e,n,o,d,_){if(!e)throw Error("Invalid event type");var C=Xe(d)?!!d.capture:!!d,P=rt(r);if(P||(r[Xn]=P=new pn(r)),(n=P.add(e,n,o,C,_)).proxy)return n;if(o=function xn(){var e=ge;return function r(n){return e.call(r.src,r.listener,n)}}(),n.proxy=o,o.src=r,o.listener=n,r.addEventListener)ii||(d=C),void 0===d&&(d=!1),r.addEventListener(e.toString(),o,d);else if(r.attachEvent)r.attachEvent(j(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return n}function pe(r,e,n,o,d){if(Array.isArray(e)){for(var _=0;_<e.length;_++)pe(r,e[_],n,o,d);return null}return n=Ie(n),r&&r[tt]?r.O(e,n,Xe(o)?!!o.capture:!!o,d):gi(r,e,n,!0,o,d)}function U(r,e,n,o,d){if(Array.isArray(e))for(var _=0;_<e.length;_++)U(r,e[_],n,o,d);else o=Xe(o)?!!o.capture:!!o,n=Ie(n),r&&r[tt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(n=Un(_=r.g[e],n,o,d))&&(Xt(_[n]),Array.prototype.splice.call(_,n,1),0==_.length&&(delete r.g[e],r.h--))):r&&(r=rt(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Un(e,n,o,d)),(n=-1<r?e[r]:null)&&x(n))}function x(r){if("number"!=typeof r&&r&&!r.ca){var e=r.src;if(e&&e[tt])En(e.i,r);else{var n=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(n,o,r.capture):e.detachEvent?e.detachEvent(j(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=rt(e))?(En(n,r),0==n.h&&(n.src=null,e[Xn]=null)):Xt(r)}}}function j(r){return r in Gn?Gn[r]:Gn[r]="on"+r}function ge(r,e){if(r.ca)r=!0;else{e=new ht(e,this);var n=r.listener,o=r.ia||r.src;r.fa&&x(r),r=n.call(o,e)}return r}function rt(r){return(r=r[Xn])instanceof pn?r:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(r){return"function"==typeof r?r:(r[Ce]||(r[Ce]=function(e){return r.handleEvent(e)}),r[Ce])}function je(){le.call(this),this.i=new pn(this),this.P=this,this.I=null}function ft(r,e){var n,o=r.I;if(o)for(n=[];o;o=o.I)n.push(o);if(r=r.P,o=e.type||e,"string"==typeof e)e=new Rt(e,r);else if(e instanceof Rt)e.target=e.target||r;else{var d=e;xt(e=new Rt(o,r),d)}if(d=!0,n)for(var _=n.length-1;0<=_;_--){var C=e.g=n[_];d=_e(C,o,!0,e)&&d}if(d=_e(C=e.g=r,o,!0,e)&&d,d=_e(C,o,!1,e)&&d,n)for(_=0;_<n.length;_++)d=_e(C=e.g=n[_],o,!1,e)&&d}function _e(r,e,n,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,_=0;_<e.length;++_){var C=e[_];if(C&&!C.ca&&C.capture==n){var P=C.listener,Q=C.ia||C.src;C.fa&&En(r.i,C),d=!1!==P.call(Q,o)&&d}}return d&&!o.defaultPrevented}ve(je,le),je.prototype[tt]=!0,je.prototype.removeEventListener=function(r,e,n,o){U(this,r,e,n,o)},je.prototype.M=function(){if(je.Z.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var n=r.g[e],o=0;o<n.length;o++)Xt(n[o]);delete r.g[e],r.h--}}this.I=null},je.prototype.N=function(r,e,n,o){return this.i.add(String(r),e,!1,n,o)},je.prototype.O=function(r,e,n,o){return this.i.add(String(r),e,!0,n,o)};var xe=te.JSON.stringify;function Y(){var r=Hn;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var cn,ye=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Ve,r=>r.reset());class Ve{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function wt(r){te.setTimeout(()=>{throw r},0)}function Nt(r,e){cn||function oi(){var r=te.Promise.resolve(void 0);cn=function(){r.then(ti)}}(),ri||(cn(),ri=!0),Hn.add(r,e)}var ri=!1,Hn=new class de{constructor(){this.h=this.g=null}add(e,n){const o=ye.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function ti(){for(var r;r=Y();){try{r.h.call(r.g)}catch(n){wt(n)}var e=ye;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}ri=!1}function rr(r,e){je.call(this),this.h=r||1,this.g=e||te,this.j=He(this.kb,this),this.l=Date.now()}function Ai(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function Ar(r,e,n){if("function"==typeof r)n&&(r=He(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=He(r.handleEvent,r)}return 2147483647<Number(e)?-1:te.setTimeout(r,e||0)}function mi(r){r.g=Ar(()=>{r.g=null,r.i&&(r.i=!1,mi(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}ve(rr,je),(me=rr.prototype).da=!1,me.S=null,me.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ft(this,"tick"),this.da&&(Ai(this),this.start()))}},me.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},me.M=function(){rr.Z.M.call(this),Ai(this),delete this.g};class hn extends le{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mi(this)}M(){super.M(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(r){le.call(this),this.h=r,this.g={}}ve(Yn,le);var Oi=[];function Mr(r,e,n,o){Array.isArray(n)||(n&&(Oi[0]=n.toString()),n=Oi);for(var d=0;d<n.length;d++){var _=sn(e,n[d],o||r.handleEvent,!1,r.h||r);if(!_)break;r.g[_.key]=_}}function Er(r){jt(r.g,function(e,n){this.g.hasOwnProperty(n)&&x(e)},r),r.g={}}function hi(){this.g=!0}function Ui(r,e,n,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function si(r,e){if(!r.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var o=n[r];if(!(2>o.length)){var d=o[1];if(Array.isArray(d)&&!(1>d.length)){var _=d[0];if("noop"!=_&&"stop"!=_&&"close"!=_)for(var C=1;C<d.length;C++)d[C]=""}}}return xe(n)}catch(P){return e}}(r,n)+(o?" "+o:"")})}Yn.prototype.M=function(){Yn.Z.M.call(this),Er(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hi.prototype.Aa=function(){this.g=!1},hi.prototype.info=function(){};var Ur={},Gr=null;function fs(){return Gr=Gr||new je}function Ji(r){Rt.call(this,Ur.Ma,r)}function Gi(r){const e=fs();ft(e,new Ji(e,r))}function Qr(r,e){Rt.call(this,Ur.STAT_EVENT,r),this.stat=e}function cr(r){const e=fs();ft(e,new Qr(e,r))}function dt(r,e){Rt.call(this,Ur.Na,r),this.size=e}function Ye(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){r()},e)}Ur.Ma="serverreachability",ve(Ji,Rt),Ur.STAT_EVENT="statevent",ve(Qr,Rt),Ur.Na="timingevent",ve(dt,Rt);var vt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Gt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zt(){}function Ii(){}zt.prototype.h=null;var $i,Pi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _i(){Rt.call(this,"d")}function mr(){Rt.call(this,"c")}function ur(){}function wi(r,e,n,o){this.l=r,this.j=e,this.m=n,this.X=o||1,this.V=new Yn(this),this.P=ma,this.W=new rr(r=Rn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Nr}function Nr(){this.i=null,this.g="",this.h=!1}ve(_i,Rt),ve(mr,Rt),ve(ur,zt),ur.prototype.g=function(){return new XMLHttpRequest},ur.prototype.i=function(){return{}},$i=new ur;var ma=45e3,kr={},Hi={};function ps(r,e,n){r.K=1,r.v=Xs(Ir(e)),r.s=n,r.U=!0,Do(r,null)}function Do(r,e){r.F=Date.now(),gs(r),r.A=Ir(r.v);var n=r.A,o=r.X;Array.isArray(o)||(o=[String(o)]),$(n.h,"t",o),r.C=0,n=r.l.H,r.h=new Nr,r.g=Hs(r.l,n?e:null,!r.s),0<r.O&&(r.L=new hn(He(r.Ia,r,r.g),r.O)),Mr(r.V,r.g,"readystatechange",r.gb),e=r.H?un(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,e)):(r.u="GET",r.g.ea(r.A,r.u,null,e)),Gi(1),function Qi(r,e,n,o,d,_){r.info(function(){if(r.g)if(_)for(var C="",P=_.split("&"),Q=0;Q<P.length;Q++){var oe=P[Q].split("=");if(1<oe.length){var $e=oe[0];oe=oe[1];var ot=$e.split("_");C=2<=ot.length&&"type"==ot[1]?C+($e+"=")+oe+"&":C+($e+"=redacted&")}}else C=null;else C=_;return"XMLHTTP REQ ("+o+") [attempt "+d+"]: "+e+"\n"+n+"\n"+C})}(r.j,r.u,r.A,r.m,r.X,r.s)}function Zs(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function Ls(r,e,n){let d,o=!0;for(;!r.I&&r.C<n.length;){if(d=Ao(r,n),d==Hi){4==e&&(r.o=4,cr(14),o=!1),Ui(r.j,r.m,null,"[Incomplete Response]");break}if(d==kr){r.o=4,cr(15),Ui(r.j,r.m,n,"[Invalid Chunk]"),o=!1;break}Ui(r.j,r.m,d,null),zo(r,d)}Zs(r)&&d!=Hi&&d!=kr&&(r.h.g="",r.C=0),4!=e||0!=n.length||r.h.h||(r.o=1,cr(16),o=!1),r.i=r.i&&o,o?0<n.length&&!r.aa&&(r.aa=!0,(e=r.l).g==r&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),vi(e),e.L=!0,cr(11))):(Ui(r.j,r.m,n,"[Invalid Chunked Response]"),ls(r),ms(r))}function Ao(r,e){var n=r.C,o=e.indexOf("\n",n);return-1==o?Hi:(n=Number(e.substring(n,o)),isNaN(n)?kr:(o+=1)+n>e.length?Hi:(e=e.substr(o,n),r.C=o+n,e))}function gs(r){r.Y=Date.now()+r.P,na(r,r.P)}function na(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Ye(He(r.eb,r),e)}function Ys(r){r.B&&(te.clearTimeout(r.B),r.B=null)}function ms(r){0==r.l.G||r.I||tr(r.l,r)}function ls(r){Ys(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,Ai(r.W),Er(r.V),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function zo(r,e){try{var n=r.l;if(0!=n.G&&(n.g==r||yi(n.i,r)))if(n.I=r.N,!r.J&&yi(n.i,r)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch(oe){o=null}if(Array.isArray(o)&&3==o.length){var d=o;if(0==d[0])e:if(n.u)n.ta=d[1],0<n.ta-n.U&&37500>d[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ye(He(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<r.F))break e;bi(n),V(n)}ai(n),cr(18)}if(1>=Si(n.i)&&n.ka){try{n.ka()}catch(oe){}n.ka=void 0}}else hr(n,11)}else if((r.J||n.g==r)&&bi(n),!Et(e))for(d=n.Ca.g.parse(e),e=0;e<d.length;e++){let oe=d[e];if(n.U=oe[0],oe=oe[1],2==n.G)if("c"==oe[0]){n.J=oe[1],n.la=oe[2];const $e=oe[3];null!=$e&&(n.ma=$e,n.h.info("VER="+n.ma));const ot=oe[4];null!=ot&&(n.za=ot,n.h.info("SVER="+n.za));const Mt=oe[5];null!=Mt&&"number"==typeof Mt&&0<Mt&&(n.K=o=1.5*Mt,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const Qt=r.g;if(Qt){const an=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(an){var _=o.i;!_.g&&(ct(an,"spdy")||ct(an,"quic")||ct(an,"h2"))&&(_.j=_.l,_.g=new Set,_.h&&(fi(_,_.h),_.h=null))}if(o.D){const Wn=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Wn&&(o.sa=Wn,Ni(o.F,o.D,Wn))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-r.F,n.h.info("Handshake RTT: "+n.O+"ms"));var C=r;if((o=n).oa=nr(o,o.H?o.la:null,o.W),C.J){Cr(o.i,C);var P=C,Q=o.K;Q&&P.setTimeout(Q),P.B&&(Ys(P),gs(P)),o.g=C}else Pn(o);0<n.l.length&&qe(n)}else"stop"!=oe[0]&&"close"!=oe[0]||hr(n,7);else 3==n.G&&("stop"==oe[0]||"close"==oe[0]?"stop"==oe[0]?hr(n,7):D(n):"noop"!=oe[0]&&n.j&&n.j.wa(oe),n.A=0)}Gi(4)}catch(oe){}}function Qs(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Se(r)||"string"==typeof r)Ot(r,e,void 0);else{if(r.T&&"function"==typeof r.T)var n=r.T();else if(r.R&&"function"==typeof r.R)n=void 0;else if(Se(r)||"string"==typeof r){n=[];for(var o=r.length,d=0;d<o;d++)n.push(d)}else for(d in n=[],o=0,r)n[o++]=d;o=function _s(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(Se(r)){for(var e=[],n=r.length,o=0;o<n;o++)e.push(r[o]);return e}for(o in e=[],n=0,r)e[n++]=r[o];return e}(r),d=o.length;for(var _=0;_<d;_++)e.call(void 0,o[_],n&&n[_],r)}}function Ms(r,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(r)if(r instanceof Ms)for(n=r.T(),o=0;o<n.length;o++)this.set(n[o],r.get(n[o]));else for(o in r)this.set(o,r[o])}function cs(r){if(r.i!=r.g.length){for(var e=0,n=0;e<r.g.length;){var o=r.g[e];ys(r.h,o)&&(r.g[n++]=o),e++}r.g.length=n}if(r.i!=r.g.length){var d={};for(n=e=0;e<r.g.length;)ys(d,o=r.g[e])||(r.g[n++]=o,d[o]=1),e++;r.g.length=n}}function ys(r,e){return Object.prototype.hasOwnProperty.call(r,e)}(me=wi.prototype).setTimeout=function(r){this.P=r},me.gb=function(r){r=r.target;const e=this.L;e&&3==ws(r)?e.l():this.Ia(r)},me.Ia=function(r){try{if(r==this.g)e:{const $e=ws(this.g);var e=this.g.Da();const ot=this.g.ba();if(!(3>$e)&&(3!=$e||Rn||this.g&&(this.h.h||this.g.ga()||Xr(this.g)))){this.I||4!=$e||7==e||Gi(8==e||0>=ot?3:2),Ys(this);var n=this.g.ba();this.N=n;t:if(Zs(this)){var o=Xr(this.g);r="";var d=o.length,_=4==ws(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ls(this),ms(this);var C="";break t}this.h.i=new te.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:_&&e==d-1});o.splice(0,d),this.h.g+=r,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==n,function ki(r,e,n,o,d,_,C){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+d+"]: "+e+"\n"+n+"\n"+_+" "+C})}(this.j,this.u,this.A,this.m,this.X,$e,n),this.i){if(this.$&&!this.J){t:{if(this.g){var P,Q=this.g;if((P=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(P)){var oe=P;break t}}oe=null}if(!(n=oe)){this.i=!1,this.o=3,cr(12),ls(this),ms(this);break e}Ui(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zo(this,n)}this.U?(Ls(this,$e,C),Rn&&this.i&&3==$e&&(Mr(this.V,this.W,"tick",this.fb),this.W.start())):(Ui(this.j,this.m,C,null),zo(this,C)),4==$e&&ls(this),this.i&&!this.I&&(4==$e?tr(this.l,this):(this.i=!1,gs(this)))}else 400==n&&0<C.indexOf("Unknown SID")?(this.o=3,cr(12)):(this.o=0,cr(13)),ls(this),ms(this)}}}catch($e){}},me.fb=function(){if(this.g){var r=ws(this.g),e=this.g.ga();this.C<e.length&&(Ys(this),Ls(this,r,e),this.i&&4!=r&&gs(this))}},me.cancel=function(){this.I=!0,ls(this)},me.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Yr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Gi(3),cr(17)),ls(this),this.o=2,ms(this)):na(this,this.Y-r)},(me=Ms.prototype).R=function(){cs(this);for(var r=[],e=0;e<this.g.length;e++)r.push(this.h[this.g[e]]);return r},me.T=function(){return cs(this),this.g.concat()},me.get=function(r,e){return ys(this.h,r)?this.h[r]:e},me.set=function(r,e){ys(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=e},me.forEach=function(r,e){for(var n=this.T(),o=0;o<n.length;o++){var d=n[o],_=this.get(d);r.call(e,_,d,this)}};var Hr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $r(r,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof $r){this.g=void 0!==e?e:r.g,Es(this,r.j),this.s=r.s,zr(this,r.i),Js(this,r.m),this.l=r.l,e=r.h;var n=new bs;n.i=e.i,e.g&&(n.g=new Ms(e.g),n.h=e.h),Wr(this,n),this.o=r.o}else r&&(n=String(r).match(Hr))?(this.g=!!e,Es(this,n[1]||"",!0),this.s=Cs(n[2]||""),zr(this,n[3]||"",!0),Js(this,n[4]),this.l=Cs(n[5]||"",!0),Wr(this,n[6]||"",!0),this.o=Cs(n[7]||"")):(this.g=!!e,this.h=new bs(null,this.g))}function Ir(r){return new $r(r)}function Es(r,e,n){r.j=n?Cs(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function zr(r,e,n){r.i=n?Cs(e,!0):e}function Js(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Wr(r,e,n){e instanceof bs?(r.h=e,function et(r,e){e&&!r.j&&(li(r),r.i=null,r.g.forEach(function(n,o){var d=o.toLowerCase();o!=d&&(z(this,o),$(this,d,n))},r)),r.j=e}(r.h,r.g)):(n||(e=Os(e,us)),r.h=new bs(e,r.g))}function Ni(r,e,n){r.h.set(e,n)}function Xs(r){return Ni(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Cs(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Os(r,e,n){return"string"==typeof r?(r=encodeURI(r).replace(e,_r),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function _r(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}$r.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Os(e,eo,!0),":");var n=this.i;return(n||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Os(e,eo,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&r.push("/"),r.push(Os(n,"/"==n.charAt(0)?Vs:Bs,!0))),(n=this.h.toString())&&r.push("?",n),(n=this.o)&&r.push("#",Os(n,Us)),r.join("")};var eo=/[#\/\?@]/g,Bs=/[#\?:]/g,Vs=/[#\?]/g,us=/[#\?@]/g,Us=/#/g;function bs(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function li(r){r.g||(r.g=new Ms,r.h=0,r.i&&function Wo(r,e){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var o=r[n].indexOf("="),d=null;if(0<=o){var _=r[n].substring(0,o);d=r[n].substring(o+1)}else _=r[n];e(_,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(r.i,function(e,n){r.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function z(r,e){li(r),e=fe(r,e),ys(r.g.h,e)&&(r.i=null,r.h-=r.g.get(e).length,ys((r=r.g).h,e)&&(delete r.h[e],r.i--,r.g.length>2*r.i&&cs(r)))}function re(r,e){return li(r),e=fe(r,e),ys(r.g.h,e)}function $(r,e,n){z(r,e),0<n.length&&(r.i=null,r.g.set(fe(r,e),gt(n)),r.h+=n.length)}function fe(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Bt(r){this.l=r||qt,r=te.PerformanceNavigationTiming?0<(r=te.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(te.g&&te.g.Ea&&te.g.Ea()&&te.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(me=bs.prototype).add=function(r,e){li(this),this.i=null,r=fe(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(e),this.h+=1,this},me.forEach=function(r,e){li(this),this.g.forEach(function(n,o){Ot(n,function(d){r.call(e,d,o,this)},this)},this)},me.T=function(){li(this);for(var r=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var d=r[o],_=0;_<d.length;_++)n.push(e[o]);return n},me.R=function(r){li(this);var e=[];if("string"==typeof r)re(this,r)&&(e=mt(e,this.g.get(fe(this,r))));else{r=this.g.R();for(var n=0;n<r.length;n++)e=mt(e,r[n])}return e},me.set=function(r,e){return li(this),this.i=null,re(this,r=fe(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},me.get=function(r,e){return r&&0<(r=this.R(r)).length?String(r[0]):e},me.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],d=encodeURIComponent(String(o));o=this.R(o);for(var _=0;_<o.length;_++){var C=d;""!==o[_]&&(C+="="+encodeURIComponent(String(o[_]))),r.push(C)}}return this.i=r.join("&")};var qt=10;function qi(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Si(r){return r.h?1:r.g?r.g.size:0}function yi(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function fi(r,e){r.g?r.g.add(e):r.h=e}function Cr(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Fi(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const n of r.g.values())e=e.concat(n.D);return e}return gt(r.i)}function sr(){}function q(){this.g=new sr}function H(r,e,n){const o=n||"";try{Qs(r,function(d,_){let C=d;Xe(d)&&(C=xe(d)),e.push(o+_+"="+encodeURIComponent(C))})}catch(d){throw e.push(o+"type="+encodeURIComponent("_badmap")),d}}function he(r,e,n,o,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(o)}catch(_){}}function Ft(r){this.l=r.$b||null,this.j=r.ib||!1}function In(r,e){je.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=yr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bt.prototype.cancel=function(){if(this.i=Fi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},sr.prototype.stringify=function(r){return te.JSON.stringify(r,void 0)},sr.prototype.parse=function(r){return te.JSON.parse(r,void 0)},ve(Ft,zt),Ft.prototype.g=function(){return new In(this.l,this.j)},Ft.prototype.i=function(r){return function(){return r}}({}),ve(In,je);var yr=0;function Lr(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function Jr(r){r.readyState=4,r.l=null,r.j=null,r.A=null,xs(r)}function xs(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(me=In.prototype).open=function(r,e){if(this.readyState!=yr)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,xs(this)},me.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||te).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jr(this)),this.readyState=yr},me.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,xs(this)),this.g&&(this.readyState=3,xs(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==te.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lr(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},me.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Jr(this):xs(this),3==this.readyState&&Lr(this)}},me.Ua=function(r){this.g&&(this.response=this.responseText=r,Jr(this))},me.Ta=function(r){this.g&&(this.response=r,Jr(this))},me.ha=function(){this.g&&Jr(this)},me.setRequestHeader=function(r,e){this.v.append(r,e)},me.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},me.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var n=e.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=e.next();return r.join("\r\n")},Object.defineProperty(In.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Kt=te.JSON.parse;function Nn(r){je.call(this),this.headers=new Ms,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qo,this.K=this.L=!1}ve(Nn,je);var qo="",lr=/^https?$/i,Za=["POST","PUT"];function Ds(r){return"content-type"==r.toLowerCase()}function _a(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Ko(r),Zo(r)}function Ko(r){r.D||(r.D=!0,ft(r,"complete"),ft(r,"error"))}function gl(r){if(r.h&&void 0!==Fe&&(!r.C[1]||4!=ws(r)||2!=r.ba()))if(r.v&&4==ws(r))Ar(r.Fa,0,r);else if(ft(r,"readystatechange"),4==ws(r)){r.h=!1;try{const P=r.ba();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===P){var d=String(r.H).match(Hr)[1]||null;if(!d&&te.self&&te.self.location){var _=te.self.location.protocol;d=_.substr(0,_.length-1)}o=!lr.test(d?d.toLowerCase():"")}n=o}if(n)ft(r,"complete"),ft(r,"success");else{r.m=6;try{var C=2<ws(r)?r.g.statusText:""}catch(Q){C=""}r.j=C+" ["+r.ba()+"]",Ko(r)}}finally{Zo(r)}}}function Zo(r,e){if(r.g){So(r);const n=r.g,o=r.C[0]?ce:null;r.g=null,r.C=null,e||ft(r,"ready");try{n.onreadystatechange=o}catch(d){}}}function So(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(te.clearTimeout(r.A),r.A=null)}function ws(r){return r.g?r.g.readyState:0}function Xr(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case qo:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function _o(r,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function to(r){let e="";return jt(r,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):Ni(r,e,n))}function J(r,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||e}function w(r){this.za=0,this.l=[],this.h=new hi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=J("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=J("baseRetryDelayMs",5e3,r),this.$a=J("retryDelaySeedMs",1e4,r),this.Ya=J("forwardChannelMaxRetries",2,r),this.ra=J("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new Bt(r&&r.concurrentRequestLimit),this.Ca=new q,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function D(r){if(ie(r),3==r.G){var e=r.V++,n=Ir(r.F);Ni(n,"SID",r.J),Ni(n,"RID",e),Ni(n,"TYPE","terminate"),Pt(r,n),(e=new wi(r,r.h,e,void 0)).K=2,e.v=Xs(Ir(n)),n=!1,te.navigator&&te.navigator.sendBeacon&&(n=te.navigator.sendBeacon(e.v.toString(),"")),!n&&te.Image&&((new Image).src=e.v,n=!0),n||(e.g=Hs(e.l,null),e.g.ea(e.v)),e.F=Date.now(),gs(e)}ss(r)}function V(r){r.g&&(vi(r),r.g.cancel(),r.g=null)}function ie(r){V(r),r.u&&(te.clearTimeout(r.u),r.u=null),bi(r),r.i.cancel(),r.m&&("number"==typeof r.m&&te.clearTimeout(r.m),r.m=null)}function De(r,e){r.l.push(new class{constructor(r,e){this.h=r,this.g=e}}(r.Za++,e)),3==r.G&&qe(r)}function qe(r){qi(r.i)||r.m||(r.m=!0,Nt(r.Ha,r),r.C=0)}function yt(r,e){var n;n=e?e.m:r.V++;const o=Ir(r.F);Ni(o,"SID",r.J),Ni(o,"RID",n),Ni(o,"AID",r.U),Pt(r,o),r.o&&r.s&&_o(o,r.o,r.s),n=new wi(r,r.h,n,r.C+1),null===r.o&&(n.H=r.s),e&&(r.l=e.D.concat(r.l)),e=Dn(r,n,1e3),n.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),fi(r.i,n),ps(n,o,e)}function Pt(r,e){r.j&&Qs({},function(n,o){Ni(e,o,n)})}function Dn(r,e,n){n=Math.min(r.l.length,n);var o=r.j?He(r.j.Oa,r.j,r):null;e:{var d=r.l;let _=-1;for(;;){const C=["count="+n];-1==_?0<n?(_=d[0].h,C.push("ofs="+_)):_=0:C.push("ofs="+_);let P=!0;for(let Q=0;Q<n;Q++){let oe=d[Q].h;const $e=d[Q].g;if(oe-=_,0>oe)_=Math.max(0,d[Q].h-100),P=!1;else try{H($e,C,"req"+oe+"_")}catch(ot){o&&o($e)}}if(P){o=C.join("&");break e}}}return r=r.l.splice(0,n),e.D=r,o}function Pn(r){r.g||r.u||(r.Y=1,Nt(r.Ga,r),r.A=0)}function ai(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=Ye(He(r.Ga,r),vr(r,r.A)),r.A++,0))}function vi(r){null!=r.B&&(te.clearTimeout(r.B),r.B=null)}function Qn(r){r.g=new wi(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var e=Ir(r.oa);Ni(e,"RID","rpc"),Ni(e,"SID",r.J),Ni(e,"CI",r.N?"0":"1"),Ni(e,"AID",r.U),Pt(r,e),Ni(e,"TYPE","xmlhttp"),r.o&&r.s&&_o(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var n=r.g;r=r.la,n.K=1,n.v=Xs(Ir(e)),n.s=null,n.U=!0,Do(n,r)}function bi(r){null!=r.v&&(te.clearTimeout(r.v),r.v=null)}function tr(r,e){var n=null;if(r.g==e){bi(r),vi(r),r.g=null;var o=2}else{if(!yi(r.i,e))return;n=e.D,Cr(r.i,e),o=1}if(r.I=e.N,0!=r.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var d=r.C;ft(o=fs(),new dt(o,n,e,d)),qe(r)}else Pn(r);else if(3==(d=e.o)||0==d&&0<r.I||!(1==o&&function Je(r,e){return!(Si(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=e.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=Ye(He(r.Ha,r,e),vr(r,r.C)),r.C++,0)))}(r,e)||2==o&&ai(r)))switch(n&&0<n.length&&(e=r.i,e.i=e.i.concat(n)),d){case 1:hr(r,5);break;case 4:hr(r,10);break;case 3:hr(r,6);break;default:hr(r,2)}}function vr(r,e){let n=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(n*=2),n*e}function hr(r,e){if(r.h.info("Error code "+e),2==e){var n=null;r.j&&(n=null);var o=He(r.jb,r);n||(n=new $r("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||Es(n,"https"),Xs(n)),function F(r,e){const n=new hi;if(te.Image){const o=new Image;o.onload=Pe(he,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Pe(he,n,o,"TestLoadImage: error",!1,e),o.onabort=Pe(he,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Pe(he,n,o,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(n.toString(),o)}else cr(2);r.G=0,r.j&&r.j.va(e),ss(r),ie(r)}function ss(r){r.G=0,r.I=-1,r.j&&((0!=Fi(r.i).length||0!=r.l.length)&&(r.i.i.length=0,gt(r.l),r.l.length=0),r.j.ua())}function nr(r,e,n){let o=function vs(r){return r instanceof $r?Ir(r):new $r(r,void 0)}(n);if(""!=o.i)e&&zr(o,e+"."+o.i),Js(o,o.m);else{const d=te.location;o=function Li(r,e,n,o){var d=new $r(null,void 0);return r&&Es(d,r),e&&zr(d,e),n&&Js(d,n),o&&(d.l=o),d}(d.protocol,e?e+"."+d.hostname:d.hostname,+d.port,n)}return r.aa&&jt(r.aa,function(d,_){Ni(o,_,d)}),n=r.sa,(e=r.D)&&n&&Ni(o,e,n),Ni(o,"VER",r.ma),Pt(r,o),o}function Hs(r,e,n){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nn(n&&r.Ba&&!r.qa?new Ft({ib:!0}):r.qa)).L=r.H,e}function Xi(){}function Br(){if(Vt&&!(10<=Number(Ri)))throw Error("Environmental error: no available transport.")}function qr(r,e){je.call(this),this.g=new w(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.P=r,(r=e&&e.httpHeadersOverwriteParam)&&!Et(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Et(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new yo(this)}function To(r){_i.call(this);var e=r.__sm__;if(e){e:{for(const n in e){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function js(){mr.call(this),this.status=1}function yo(r){this.g=r}(me=Nn.prototype).ea=function(r,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$i.g(),this.C=function Cn(r){return r.h||(r.h=r.i())}(this.u?this.u:$i),this.g.onreadystatechange=He(this.Fa,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(_){return void _a(this,_)}r=n||"";const d=new Ms(this.headers);o&&Qs(o,function(_,C){d.set(C,_)}),o=function We(r){e:{var e=Ds;const n=r.length,o="string"==typeof r?r.split(""):r;for(let d=0;d<n;d++)if(d in o&&e.call(void 0,o[d],d,r)){e=d;break e}e=-1}return 0>e?null:"string"==typeof r?r.charAt(e):r[e]}(d.T()),n=te.FormData&&r instanceof te.FormData,!(0<=Ue(Za,e))||o||n||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),d.forEach(function(_,C){this.g.setRequestHeader(C,_)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{So(this),0<this.B&&((this.K=function Io(r){return Vt&&function zn(){return function Ke(r){var e=Vn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=Dt(String(Zn)).split("."),n=Dt("9").split("."),o=Math.max(e.length,n.length);for(let C=0;0==r&&C<o;C++){var d=e[C]||"",_=n[C]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],0==d[0].length&&0==_[0].length)break;r=mn(0==d[1].length?0:parseInt(d[1],10),0==_[1].length?0:parseInt(_[1],10))||mn(0==d[2].length,0==_[2].length)||mn(d[2],_[2]),d=d[3],_=_[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=He(this.pa,this)):this.A=Ar(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(_){_a(this,_)}},me.pa=function(){void 0!==Fe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ft(this,"timeout"),this.abort(8))},me.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,ft(this,"complete"),ft(this,"abort"),Zo(this))},me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zo(this,!0)),Nn.Z.M.call(this)},me.Fa=function(){this.s||(this.F||this.v||this.l?gl(this):this.cb())},me.cb=function(){gl(this)},me.ba=function(){try{return 2<ws(this)?this.g.status:-1}catch(r){return-1}},me.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},me.Qa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Kt(e)}},me.Da=function(){return this.m},me.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(me=w.prototype).ma=8,me.G=1,me.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(e){}},me.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const d=new wi(this,this.h,r,void 0);let _=this.s;if(this.P&&(_?(_=un(_),xt(_,this.P)):_=this.P),null===this.o&&(d.H=_),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Dn(this,d,e),Ni(n=Ir(this.F),"RID",r),Ni(n,"CVER",22),this.D&&Ni(n,"X-HTTP-Session-Id",this.D),Pt(this,n),this.o&&_&&_o(n,this.o,_),fi(this.i,d),this.Ra&&Ni(n,"TYPE","init"),this.ja?(Ni(n,"$req",e),Ni(n,"SID","null"),d.$=!0,ps(d,n,null)):ps(d,n,e),this.G=2}}else 3==this.G&&(r?yt(this,r):0==this.l.length||qi(this.i)||yt(this))},me.Ga=function(){if(this.u=null,Qn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=Ye(He(this.bb,this),r)}},me.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,cr(10),V(this),Qn(this))},me.ab=function(){null!=this.v&&(this.v=null,V(this),ai(this),cr(19))},me.jb=function(r){r?(this.h.info("Successfully pinged google.com"),cr(2)):(this.h.info("Failed to ping google.com"),cr(1))},(me=Xi.prototype).xa=function(){},me.wa=function(){},me.va=function(){},me.ua=function(){},me.Oa=function(){},Br.prototype.g=function(r,e){return new qr(r,e)},ve(qr,je),qr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,n=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),Nt(He(r.hb,r,e))),cr(0),r.W=e,r.aa=n||{},r.N=r.X,r.F=nr(r,null,r.W),qe(r)},qr.prototype.close=function(){D(this.g)},qr.prototype.u=function(r){if("string"==typeof r){var e={};e.__data__=r,De(this.g,e)}else this.v?((e={}).__data__=xe(r),De(this.g,e)):De(this.g,r)},qr.prototype.M=function(){this.g.j=null,delete this.j,D(this.g),delete this.g,qr.Z.M.call(this)},ve(To,_i),ve(js,mr),ve(yo,Xi),yo.prototype.xa=function(){ft(this.g,"a")},yo.prototype.wa=function(r){ft(this.g,new To(r))},yo.prototype.va=function(r){ft(this.g,new js(r))},yo.prototype.ua=function(){ft(this.g,"b")},Br.prototype.createWebChannel=Br.prototype.g,qr.prototype.send=qr.prototype.u,qr.prototype.open=qr.prototype.m,qr.prototype.close=qr.prototype.close,vt.NO_ERROR=0,vt.TIMEOUT=8,vt.HTTP_ERROR=6,Gt.COMPLETE="complete",Ii.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",je.prototype.listen=je.prototype.N,Nn.prototype.listenOnce=Nn.prototype.O,Nn.prototype.getLastError=Nn.prototype.La,Nn.prototype.getLastErrorCode=Nn.prototype.Da,Nn.prototype.getStatus=Nn.prototype.ba,Nn.prototype.getResponseJson=Nn.prototype.Qa,Nn.prototype.getResponseText=Nn.prototype.ga,Nn.prototype.send=Nn.prototype.ea;var Gs=Be.createWebChannelTransport=function(){return new Br},$s=Be.getStatEventTarget=function(){return fs()},lo=Be.ErrorCode=vt,es=Be.EventType=Gt,_n=Be.Event=Ur,jn=Be.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ei=Be.FetchXmlHttpFactory=Ft,ci=Be.WebChannel=Ii,fr=Be.XhrIo=Nn;const ts="@firebase/firestore";class or{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}or.UNAUTHENTICATED=new or(null),or.GOOGLE_CREDENTIALS=new or("google-credentials-uid"),or.FIRST_PARTY=new or("first-party-uid"),or.MOCK_USER=new or("mock-user");let Or="9.6.10";const er=new X.Yd("@firebase/firestore");function ia(){return er.logLevel}function ml(r){er.setLogLevel(r)}function Zt(r,...e){if(er.logLevel<=X.in.DEBUG){const n=e.map(no);er.debug(`Firestore (${Or}): ${r}`,...n)}}function zi(r,...e){if(er.logLevel<=X.in.ERROR){const n=e.map(no);er.error(`Firestore (${Or}): ${r}`,...n)}}function Rr(r,...e){if(er.logLevel<=X.in.WARN){const n=e.map(no);er.warn(`Firestore (${Or}): ${r}`,...n)}}function no(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(n){return r}}function Tn(r="Unexpected state"){const e=`FIRESTORE (${Or}) INTERNAL ASSERTION FAILED: `+r;throw zi(e),new Error(e)}function Jn(r,e){r||Tn()}function Gl(r,e){r||Tn()}function on(r,e){return r}const St={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tn extends be.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ra{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Po{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(or.UNAUTHENTICATED))}shutdown(){}}class wc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ya{constructor(e){this.t=e,this.currentUser=or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let d=this.i;const _=oe=>this.i!==d?(d=this.i,n(oe)):Promise.resolve();let C=new br;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new br,e.enqueueRetryable(()=>_(this.currentUser))};const P=()=>{const oe=C;e.enqueueRetryable((0,g.Z)(function*(){yield oe.promise,yield _(o.currentUser)}))},Q=oe=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=oe,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(oe=>Q(oe)),setTimeout(()=>{if(!this.auth){const oe=this.t.getImmediate({optional:!0});oe?Q(oe):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new br)}},0),P()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Jn("string"==typeof o.accessToken),new ra(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Jn(null===e||"string"==typeof e),new or(e)}}class Ya{constructor(e,n,o){this.type="FirstParty",this.user=or.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const d=e.auth.getAuthHeaderValueForFirstParty([]);d&&this.headers.set("Authorization",d),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Pa{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new Ya(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class No{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=_=>{null!=_.error&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const C=_.token!==this.p;return this.p=_.token,Zt("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?n(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>o(_))};const d=_=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.appCheck.addTokenListener(this.o)};this.g.onInit(_=>d(_)),setTimeout(()=>{if(!this.appCheck){const _=this.g.getImmediate({optional:!0});_?d(_):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Jn("string"==typeof n.token),this.p=n.token,new sa(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class k{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.I(o),this.T=o=>n.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function S(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<r;o++)n[o]=Math.floor(256*Math.random());return n}k.A=-1;class A{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const d=S(40);for(let _=0;_<d.length;++_)o.length<20&&d[_]<n&&(o+=e.charAt(d[_]%e.length))}return o}}function L(r,e){return r<e?-1:r>e?1:0}function K(r,e,n){return r.length===e.length&&r.every((o,d)=>n(o,e[d]))}function ue(r){return r+"\0"}class Re{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new tn(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tn(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new tn(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tn(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Re(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?L(this.nanoseconds,e.nanoseconds):L(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Re(0,0))}static max(){return new Ne(new Re(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function kt(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Sn(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function xi(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class kn{constructor(e,n,o){void 0===n?n=0:n>e.length&&Tn(),void 0===o?o=e.length-n:o>e.length-n&&Tn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===kn.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kn?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let d=0;d<o;d++){const _=e.get(d),C=n.get(d);if(_<C)return-1;if(_>C)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ln extends kn{construct(e,n,o){return new Ln(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new tn(St.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(d=>d.length>0))}return new Ln(n)}static emptyPath(){return new Ln([])}}const ir=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends kn{construct(e,n,o){return new pr(e,n,o)}static isValidIdentifier(e){return ir.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pr(["__name__"])}static fromServerFormat(e){const n=[];let o="",d=0;const _=()=>{if(0===o.length)throw new tn(St.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let C=!1;for(;d<e.length;){const P=e[d];if("\\"===P){if(d+1===e.length)throw new tn(St.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Q=e[d+1];if("\\"!==Q&&"."!==Q&&"`"!==Q)throw new tn(St.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=Q,d+=2}else"`"===P?(C=!C,d++):"."!==P||C?(o+=P,d++):(_(),d++)}if(_(),C)throw new tn(St.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(n)}static emptyPath(){return new pr([])}}class ns{constructor(e){this.fields=e,e.sort(pr.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return K(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function ba(){return"undefined"!=typeof atob}class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Fr(n)}static fromUint8Array(e){const n=function(o){let d="";for(let _=0;_<o.length;++_)d+=String.fromCharCode(o[_]);return d}(e);return new Fr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return L(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const oa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(r){if(Jn(!!r),"string"==typeof r){let e=0;const n=oa.exec(r);if(Jn(!!n),n[1]){let d=n[1];d=(d+"000000000").substr(0,9),e=Number(d)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:wr(r.seconds),nanos:wr(r.nanos)}}function wr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function co(r){return"string"==typeof r?Fr.fromBase64String(r):Fr.fromUint8Array(r)}function Ec(r){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $l(r){const e=r.mapValue.fields.__previous_value__;return Ec(e)?$l(e):e}function vo(r){const e=Rs(r.mapValue.fields.__local_write_time__.timestampValue);return new Re(e.seconds,e.nanos)}class qc{constructor(e,n,o,d,_,C,P,Q){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=d,this.ssl=_,this.forceLongPolling=C,this.autoDetectLongPolling=P,this.useFetchStreams=Q}}class wa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}function Pr(r){return null==r}function zl(r){return 0===r&&1/r==-1/0}function Mu(r){return"number"==typeof r&&Number.isInteger(r)&&!zl(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class yn{constructor(e){this.path=e}static fromPath(e){return new yn(Ln.fromString(e))}static fromName(e){return new yn(Ln.fromString(e).popFirst(5))}static empty(){return new yn(Ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ln.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yn(new Ln(e.slice()))}}const _l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cc={nullValue:"NULL_VALUE"};function Na(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ec(r)?4:ua(r)?9:10:Tn()}function io(r,e){if(r===e)return!0;const n=Na(r);if(n!==Na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return vo(r).isEqual(vo(e));case 3:return function(o,d){if("string"==typeof o.timestampValue&&"string"==typeof d.timestampValue&&o.timestampValue.length===d.timestampValue.length)return o.timestampValue===d.timestampValue;const _=Rs(o.timestampValue),C=Rs(d.timestampValue);return _.seconds===C.seconds&&_.nanos===C.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return d=e,co(r.bytesValue).isEqual(co(d.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,d){return wr(o.geoPointValue.latitude)===wr(d.geoPointValue.latitude)&&wr(o.geoPointValue.longitude)===wr(d.geoPointValue.longitude)}(r,e);case 2:return function(o,d){if("integerValue"in o&&"integerValue"in d)return wr(o.integerValue)===wr(d.integerValue);if("doubleValue"in o&&"doubleValue"in d){const _=wr(o.doubleValue),C=wr(d.doubleValue);return _===C?zl(_)===zl(C):isNaN(_)&&isNaN(C)}return!1}(r,e);case 9:return K(r.arrayValue.values||[],e.arrayValue.values||[],io);case 10:return function(o,d){const _=o.mapValue.fields||{},C=d.mapValue.fields||{};if(kt(_)!==kt(C))return!1;for(const P in _)if(_.hasOwnProperty(P)&&(void 0===C[P]||!io(_[P],C[P])))return!1;return!0}(r,e);default:return Tn()}var d}function aa(r,e){return void 0!==(r.values||[]).find(n=>io(n,e))}function la(r,e){if(r===e)return 0;const n=Na(r),o=Na(e);if(n!==o)return L(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return L(r.booleanValue,e.booleanValue);case 2:return function(d,_){const C=wr(d.integerValue||d.doubleValue),P=wr(_.integerValue||_.doubleValue);return C<P?-1:C>P?1:C===P?0:isNaN(C)?isNaN(P)?0:-1:1}(r,e);case 3:return Sr(r.timestampValue,e.timestampValue);case 4:return Sr(vo(r),vo(e));case 5:return L(r.stringValue,e.stringValue);case 6:return function(d,_){const C=co(d),P=co(_);return C.compareTo(P)}(r.bytesValue,e.bytesValue);case 7:return function(d,_){const C=d.split("/"),P=_.split("/");for(let Q=0;Q<C.length&&Q<P.length;Q++){const oe=L(C[Q],P[Q]);if(0!==oe)return oe}return L(C.length,P.length)}(r.referenceValue,e.referenceValue);case 8:return function(d,_){const C=L(wr(d.latitude),wr(_.latitude));return 0!==C?C:L(wr(d.longitude),wr(_.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(d,_){const C=d.values||[],P=_.values||[];for(let Q=0;Q<C.length&&Q<P.length;++Q){const oe=la(C[Q],P[Q]);if(oe)return oe}return L(C.length,P.length)}(r.arrayValue,e.arrayValue);case 10:return function(d,_){const C=d.fields||{},P=Object.keys(C),Q=_.fields||{},oe=Object.keys(Q);P.sort(),oe.sort();for(let $e=0;$e<P.length&&$e<oe.length;++$e){const ot=L(P[$e],oe[$e]);if(0!==ot)return ot;const Mt=la(C[P[$e]],Q[oe[$e]]);if(0!==Mt)return Mt}return L(P.length,oe.length)}(r.mapValue,e.mapValue);default:throw Tn()}}function Sr(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return L(r,e);const n=Rs(r),o=Rs(e),d=L(n.seconds,o.seconds);return 0!==d?d:L(n.nanos,o.nanos)}function Yo(r){return Qa(r)}function Qa(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const d=Rs(o);return`time(${d.seconds},${d.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?co(r.bytesValue).toBase64():"referenceValue"in r?yn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let d="[",_=!0;for(const C of o.values||[])_?_=!1:d+=",",d+=Qa(C);return d+"]"}(r.arrayValue):"mapValue"in r?function(o){const d=Object.keys(o.fields||{}).sort();let _="{",C=!0;for(const P of d)C?C=!1:_+=",",_+=`${P}:${Qa(o.fields[P])}`;return _+"}"}(r.mapValue):Tn();var e}function Ea(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ca(r){return!!r&&"integerValue"in r}function jr(r){return!!r&&"arrayValue"in r}function Mo(r){return!!r&&"nullValue"in r}function Ca(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ks(r){return!!r&&"mapValue"in r}function is(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Sn(r.mapValue.fields,(n,o)=>e.mapValue.fields[n]=is(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=is(r.arrayValue.values[n]);return e}return Object.assign({},r)}function ua(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function yl(r,e){return void 0===r?e:void 0===e||la(r,e)>0?r:e}function Vr(r,e){return void 0===r?e:void 0===e||la(r,e)<0?r:e}class Bi{constructor(e){this.value=e}static empty(){return new Bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!ks(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=is(n)}setAll(e){let n=pr.emptyPath(),o={},d=[];e.forEach((C,P)=>{if(!n.isImmediateParentOf(P)){const Q=this.getFieldsMap(n);this.applyChanges(Q,o,d),o={},d=[],n=P.popLast()}C?o[P.lastSegment()]=is(C):d.push(P.lastSegment())});const _=this.getFieldsMap(n);this.applyChanges(_,o,d)}delete(e){const n=this.field(e.popLast());ks(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return io(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let d=n.mapValue.fields[e.get(o)];ks(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=d),n=d}return n.mapValue.fields}applyChanges(e,n,o){Sn(n,(d,_)=>e[d]=_);for(const d of o)delete e[d]}clone(){return new Bi(is(this.value))}}function vl(r){const e=[];return Sn(r.fields,(n,o)=>{const d=new pr([n]);if(ks(o)){const _=vl(o.mapValue).fields;if(0===_.length)e.push(d);else for(const C of _)e.push(d.child(C))}else e.push(d)}),new ns(e)}class xr{constructor(e,n,o,d,_,C){this.key=e,this.documentType=n,this.version=o,this.readTime=d,this.data=_,this.documentState=C}static newInvalidDocument(e){return new xr(e,0,Ne.min(),Ne.min(),Bi.empty(),0)}static newFoundDocument(e,n,o){return new xr(e,1,n,Ne.min(),o,0)}static newNoDocument(e,n){return new xr(e,2,n,Ne.min(),Bi.empty(),0)}static newUnknownDocument(e,n){return new xr(e,3,n,Ne.min(),Bi.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ro{constructor(e,n,o,d){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=d}}function bl(r){return r.fields.find(e=>2===e.kind)}function zs(r){return r.fields.filter(e=>2!==e.kind)}ro.UNKNOWN_ID=-1;class xc{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qo{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qo(0,Lo.min())}}function xa(r,e){const n=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,d=Ne.fromTimestamp(1e9===o?new Re(n+1,0):new Re(n,o));return new Lo(d,yn.empty(),e)}function Wl(r){return new Lo(r.readTime,r.key,-1)}class Lo{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Lo(Ne.min(),yn.empty(),-1)}static max(){return new Lo(Ne.max(),yn.empty(),-1)}}function Ou(r,e){let n=r.readTime.compareTo(e.readTime);return 0!==n?n:(n=yn.comparator(r.documentKey,e.documentKey),0!==n?n:L(r.largestBatchId,e.largestBatchId))}class Bo{constructor(e,n=null,o=[],d=[],_=null,C=null,P=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=d,this.limit=_,this.startAt=C,this.endAt=P,this.P=null}}function ql(r,e=null,n=[],o=[],d=null,_=null,C=null){return new Bo(r,e,n,o,d,_,C)}function Ws(r){const e=on(r);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(d=o).field.canonicalString()+d.op.toString()+Yo(d.value);var d}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(d=o).field.canonicalString()+d.dir;var d}).join(","),Pr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Yo(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Yo(o)).join(",")),e.P=n}return e.P}function Xa(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let d=0;d<r.orderBy.length;d++)if(!Di(r.orderBy[d],e.orderBy[d]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let d=0;d<r.filters.length;d++)if((n=r.filters[d]).op!==(o=e.filters[d]).op||!n.field.isEqual(o.field)||!io(n.value,o.value))return!1;var n,o;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Mn(r.startAt,e.startAt)&&Mn(r.endAt,e.endAt)}function Oo(r){return yn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function uo(r,e){return r.filters.filter(n=>n instanceof os&&n.field.isEqual(e))}class os extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,o):new Kc(e,n,o):"array-contains"===n?new Ge(e,o):"in"===n?new _t(e,o):"not-in"===n?new At(e,o):"array-contains-any"===n?new rn(e,o):new os(e,n,o)}static V(e,n,o){return"in"===n?new B(e,o):new W(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(la(n,this.value)):null!==n&&Na(this.value)===Na(n)&&this.v(la(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Kc extends os{constructor(e,n,o){super(e,n,o),this.key=yn.fromName(o.referenceValue)}matches(e){const n=yn.comparator(e.key,this.key);return this.v(n)}}class B extends os{constructor(e,n){super(e,"in",n),this.keys=ae(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W extends os{constructor(e,n){super(e,"not-in",n),this.keys=ae(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ae(r,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>yn.fromName(o.referenceValue))}class Ge extends os{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jr(n)&&aa(n.arrayValue,this.value)}}class _t extends os{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&aa(this.value.arrayValue,n)}}class At extends os{constructor(e,n){super(e,"not-in",n)}matches(e){if(aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!aa(this.value.arrayValue,n)}}class rn extends os{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jr(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>aa(this.value.arrayValue,o))}}class fn{constructor(e,n){this.position=e,this.inclusive=n}}class ui{constructor(e,n="asc"){this.field=e,this.dir=n}}function Di(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function Yi(r,e,n){let o=0;for(let d=0;d<r.position.length;d++){const _=e[d],C=r.position[d];if(o=_.field.isKeyField()?yn.comparator(yn.fromName(C.referenceValue),n.key):la(C,n.data.field(_.field)),"desc"===_.dir&&(o*=-1),0!==o)break}return o}function Mn(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!io(r.position[n],e.position[n]))return!1;return!0}class Kr{constructor(e,n=null,o=[],d=[],_=null,C="F",P=null,Q=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=d,this.limit=_,this.limitType=C,this.startAt=P,this.endAt=Q,this.D=null,this.C=null}}function Vi(r,e,n,o,d,_,C,P){return new Kr(r,e,n,o,d,_,C,P)}function Vo(r){return new Kr(r)}function da(r){return!Pr(r.limit)&&"F"===r.limitType}function Ro(r){return!Pr(r.limit)&&"L"===r.limitType}function Jo(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function ko(r){for(const e of r.filters)if(e.S())return e.field;return null}function Dc(r){return null!==r.collectionGroup}function wl(r){const e=on(r);if(null===e.D){e.D=[];const n=ko(e),o=Jo(e);if(null!==n&&null===o)n.isKeyField()||e.D.push(new ui(n)),e.D.push(new ui(pr.keyField(),"asc"));else{let d=!1;for(const _ of e.explicitOrderBy)e.D.push(_),_.field.isKeyField()&&(d=!0);if(!d){const _=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ui(pr.keyField(),_))}}}return e.D}function bo(r){const e=on(r);if(!e.C)if("F"===e.limitType)e.C=ql(e.path,e.collectionGroup,wl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const _ of wl(e))n.push(new ui(_.field,"desc"===_.dir?"asc":"desc"));const o=e.endAt?new fn(e.endAt.position,!e.endAt.inclusive):null,d=e.startAt?new fn(e.startAt.position,!e.startAt.inclusive):null;e.C=ql(e.path,e.collectionGroup,n,e.filters,e.limit,o,d)}return e.C}function Kl(r,e,n){return new Kr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function El(r,e){return Xa(bo(r),bo(e))&&r.limitType===e.limitType}function Ru(r){return`${Ws(bo(r))}|lt:${r.limitType}`}function el(r){return`Query(target=${function Ja(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${Yo(o.value)}`;var o}).join(", ")}]`),Pr(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(n=>Yo(n)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(n=>Yo(n)).join(",")),`Target(${e})`}(bo(r))}; limitType=${r.limitType})`}function tl(r,e){return e.isFoundDocument()&&function(n,o){const d=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(d):yn.isDocumentKey(n.path)?n.path.isEqual(d):n.path.isImmediateParentOf(d)}(r,e)&&function(n,o){for(const d of n.explicitOrderBy)if(!d.field.isKeyField()&&null===o.data.field(d.field))return!1;return!0}(r,e)&&function(n,o){for(const d of n.filters)if(!d.matches(o))return!1;return!0}(r,e)&&(o=e,!((n=r).startAt&&!function(d,_,C){const P=Yi(d,_,C);return d.inclusive?P<=0:P<0}(n.startAt,wl(n),o)||n.endAt&&!function(d,_,C){const P=Yi(d,_,C);return d.inclusive?P>=0:P>0}(n.endAt,wl(n),o)));var n,o}function Zl(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ad(r){return(e,n)=>{let o=!1;for(const d of wl(r)){const _=lp(d,e,n);if(0!==_)return _;o=o||d.field.isKeyField()}return 0}}function lp(r,e,n){const o=r.field.isKeyField()?yn.comparator(e.key,n.key):function(d,_,C){const P=_.data.field(d),Q=C.data.field(d);return null!==P&&null!==Q?la(P,Q):Tn()}(r.field,e,n);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return Tn()}}function nl(r,e){if(r.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zl(e)?"-0":e}}function ku(r){return{integerValue:""+r}}function Id(r,e){return Mu(e)?ku(e):nl(r,e)}class Zc{constructor(){this._=void 0}}function kh(r,e,n){return r instanceof La?function(o,d){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return d&&(_.fields.__previous_value__=d),{mapValue:_}}(n,e):r instanceof Xo?Yc(r,e):r instanceof Cl?Fh(r,e):function(o,d){const _=Ac(o,d),C=Qc(_)+Qc(o.k);return ca(_)&&ca(o.k)?ku(C):nl(o.M,C)}(r,e)}function cp(r,e,n){return r instanceof Xo?Yc(r,e):r instanceof Cl?Fh(r,e):n}function Ac(r,e){return r instanceof ea?ca(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class La extends Zc{}class Xo extends Zc{constructor(e){super(),this.elements=e}}function Yc(r,e){const n=Fu(e);for(const o of r.elements)n.some(d=>io(d,o))||n.push(o);return{arrayValue:{values:n}}}class Cl extends Zc{constructor(e){super(),this.elements=e}}function Fh(r,e){let n=Fu(e);for(const o of r.elements)n=n.filter(d=>!io(d,o));return{arrayValue:{values:n}}}class ea extends Zc{constructor(e,n){super(),this.M=e,this.k=n}}function Qc(r){return wr(r.integerValue||r.doubleValue)}function Fu(r){return jr(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class il{constructor(e,n){this.field=e,this.transform=n}}class xl{constructor(e,n){this.version=e,this.transformResults=n}}class As{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new As}static exists(e){return new As(void 0,e)}static updateTime(e){return new As(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pu(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Yl{}function Td(r,e,n){r instanceof Dl?function(o,d,_){const C=o.value.clone(),P=Lu(o.fieldTransforms,d,_.transformResults);C.setAll(P),d.convertToFoundDocument(_.version,C).setHasCommittedMutations()}(r,e,n):r instanceof Al?function(o,d,_){if(!Pu(o.precondition,d))return void d.convertToUnknownDocument(_.version);const C=Lu(o.fieldTransforms,d,_.transformResults),P=d.data;P.setAll(Md(o)),P.setAll(C),d.convertToFoundDocument(_.version,P).setHasCommittedMutations()}(r,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ic(r,e,n){var d;r instanceof Dl?function(o,d,_){if(!Pu(o.precondition,d))return;const C=o.value.clone(),P=Od(o.fieldTransforms,_,d);C.setAll(P),d.convertToFoundDocument(Nu(d),C).setHasLocalMutations()}(r,e,n):r instanceof Al?function(o,d,_){if(!Pu(o.precondition,d))return;const C=Od(o.fieldTransforms,_,d),P=d.data;P.setAll(Md(o)),P.setAll(C),d.convertToFoundDocument(Nu(d),P).setHasLocalMutations()}(r,e,n):Pu(r.precondition,d=e)&&d.convertToNoDocument(Ne.min())}function Ba(r,e){let n=null;for(const o of r.fieldTransforms){const d=e.data.field(o.field),_=Ac(o.transform,d||null);null!=_&&(null==n&&(n=Bi.empty()),n.set(o.field,_))}return n||null}function rl(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=r.fieldTransforms)&&void 0===o||n&&o&&K(n,o,(d,_)=>function Sd(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(n=r.transform)instanceof Xo&&o instanceof Xo||n instanceof Cl&&o instanceof Cl?K(n.elements,o.elements,io):n instanceof ea&&o instanceof ea?io(n.k,o.k):n instanceof La&&o instanceof La);var n,o}(d,_))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var n,o}function Nu(r){return r.isFoundDocument()?r.version:Ne.min()}class Dl extends Yl{constructor(e,n,o,d=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=d,this.type=0}}class Al extends Yl{constructor(e,n,o,d,_=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=d,this.fieldTransforms=_,this.type=1}}function Md(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=r.data.field(n);e.set(n,o)}}),e}function Lu(r,e,n){const o=new Map;Jn(r.length===n.length);for(let d=0;d<n.length;d++){const _=r[d],C=_.transform,P=e.data.field(_.field);o.set(_.field,cp(C,P,n[d]))}return o}function Od(r,e,n){const o=new Map;for(const d of r){const _=d.transform,C=n.data.field(d.field);o.set(d.field,kh(_,C,e))}return o}class Ql extends Yl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class Bu extends Yl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class Ph{constructor(e){this.count=e}}var I,y;function b(r){switch(r){default:return Tn();case St.CANCELLED:case St.UNKNOWN:case St.DEADLINE_EXCEEDED:case St.RESOURCE_EXHAUSTED:case St.INTERNAL:case St.UNAVAILABLE:case St.UNAUTHENTICATED:return!1;case St.INVALID_ARGUMENT:case St.NOT_FOUND:case St.ALREADY_EXISTS:case St.PERMISSION_DENIED:case St.FAILED_PRECONDITION:case St.ABORTED:case St.OUT_OF_RANGE:case St.UNIMPLEMENTED:case St.DATA_LOSS:return!0}}function R(r){if(void 0===r)return zi("GRPC error has no .code"),St.UNKNOWN;switch(r){case I.OK:return St.OK;case I.CANCELLED:return St.CANCELLED;case I.UNKNOWN:return St.UNKNOWN;case I.DEADLINE_EXCEEDED:return St.DEADLINE_EXCEEDED;case I.RESOURCE_EXHAUSTED:return St.RESOURCE_EXHAUSTED;case I.INTERNAL:return St.INTERNAL;case I.UNAVAILABLE:return St.UNAVAILABLE;case I.UNAUTHENTICATED:return St.UNAUTHENTICATED;case I.INVALID_ARGUMENT:return St.INVALID_ARGUMENT;case I.NOT_FOUND:return St.NOT_FOUND;case I.ALREADY_EXISTS:return St.ALREADY_EXISTS;case I.PERMISSION_DENIED:return St.PERMISSION_DENIED;case I.FAILED_PRECONDITION:return St.FAILED_PRECONDITION;case I.ABORTED:return St.ABORTED;case I.OUT_OF_RANGE:return St.OUT_OF_RANGE;case I.UNIMPLEMENTED:return St.UNIMPLEMENTED;case I.DATA_LOSS:return St.DATA_LOSS;default:return Tn()}}(y=I||(I={}))[y.OK=0]="OK",y[y.CANCELLED=1]="CANCELLED",y[y.UNKNOWN=2]="UNKNOWN",y[y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",y[y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",y[y.NOT_FOUND=5]="NOT_FOUND",y[y.ALREADY_EXISTS=6]="ALREADY_EXISTS",y[y.PERMISSION_DENIED=7]="PERMISSION_DENIED",y[y.UNAUTHENTICATED=16]="UNAUTHENTICATED",y[y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",y[y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",y[y.ABORTED=10]="ABORTED",y[y.OUT_OF_RANGE=11]="OUT_OF_RANGE",y[y.UNIMPLEMENTED=12]="UNIMPLEMENTED",y[y.INTERNAL=13]="INTERNAL",y[y.UNAVAILABLE=14]="UNAVAILABLE",y[y.DATA_LOSS=15]="DATA_LOSS";class ne{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[d,_]of o)if(this.equalsFn(d,e))return _}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),d=this.inner[o];if(void 0===d)return this.inner[o]=[[e,n]],void this.innerSize++;for(let _=0;_<d.length;_++)if(this.equalsFn(d[_][0],e))return void(d[_]=[e,n]);d.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let d=0;d<o.length;d++)if(this.equalsFn(o[d][0],e))return 1===o.length?delete this.inner[n]:o.splice(d,1),this.innerSize--,!0;return!1}forEach(e){Sn(this.inner,(n,o)=>{for(const[d,_]of o)e(d,_)})}isEmpty(){return xi(this.inner)}size(){return this.innerSize}}class Ae{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const d=this.comparator(e,o.key);if(0===d)return n+o.left.size;d<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bt(this.root,e,this.comparator,!1)}getReverseIterator(){return new bt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bt(this.root,e,this.comparator,!0)}}class bt{constructor(e,n,o,d){this.isReverse=d,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=n?o(e.key,n):1,n&&d&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,o,d,_){this.key=e,this.value=n,this.color=null!=o?o:Ht.RED,this.left=null!=d?d:Ht.EMPTY,this.right=null!=_?_:Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,d,_){return new Ht(null!=e?e:this.key,null!=n?n:this.value,null!=o?o:this.color,null!=d?d:this.left,null!=_?_:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let d=this;const _=o(e,d.key);return d=_<0?d.copy(null,null,null,d.left.insert(e,n,o),null):0===_?d.copy(null,n,null,null,null):d.copy(null,null,null,null,d.right.insert(e,n,o)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,d=this;if(n(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,n),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===n(e,d.key)){if(d.right.isEmpty())return Ht.EMPTY;o=d.right.min(),d=d.copy(o.key,o.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,n))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tn();const e=this.left.check();if(e!==this.right.check())throw Tn();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1,Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Tn()}get value(){throw Tn()}get color(){throw Tn()}get left(){throw Tn()}get right(){throw Tn()}copy(r,e,n,o,d){return this}insert(r,e,n){return new Ht(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const d=o.getNext();if(this.comparator(d.key,e[1])>=0)return;n(d.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pi(this.data.getIterator())}getIteratorFrom(e){return new pi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const d=n.getNext().key,_=o.getNext().key;if(0!==this.comparator(d,_))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gn(this.comparator);return n.data=e,n}}class pi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ti(r){return r.hasNext()?r.getNext():void 0}const as=new Ae(yn.comparator);function Is(){return as}const Il=new Ae(yn.comparator);function sl(){return Il}function ol(){return new ne(r=>r.toString(),(r,e)=>r.isEqual(e))}const Sc=new Ae(yn.comparator),Nh=new gn(yn.comparator);function Tr(...r){let e=Nh;for(const n of r)e=e.add(n);return e}const Vu=new gn(L);function Tc(){return Vu}class Sl{constructor(e,n,o,d,_){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=d,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,n)),new Sl(Ne.min(),o,Tc(),Is(),Tr())}}class Tl{constructor(e,n,o,d,_){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=d,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Tl(Fr.EMPTY_BYTE_STRING,n,Tr(),Tr(),Tr())}}class Mc{constructor(e,n,o,d){this.O=e,this.removedTargetIds=n,this.key=o,this.F=d}}class Uu{constructor(e,n){this.targetId=e,this.$=n}}class Ml{constructor(e,n,o=Fr.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=d}}class Hu{constructor(){this.B=0,this.L=Ss(),this.U=Fr.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Tr(),n=Tr(),o=Tr();return this.L.forEach((d,_)=>{switch(_){case 0:e=e.add(d);break;case 2:n=n.add(d);break;case 1:o=o.add(d);break;default:Tn()}}),new Tl(this.U,this.q,e,n,o)}J(){this.G=!1,this.L=Ss()}Y(e,n){this.G=!0,this.L=this.L.insert(e,n)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class Lh{constructor(e){this.nt=e,this.st=new Map,this.it=Is(),this.rt=up(),this.ot=new gn(L)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const o=this.lt(n);switch(e.state){case 0:this.ft(n)&&o.W(e.resumeToken);break;case 1:o.tt(),o.K||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.K||this.removeTarget(n);break;case 3:this.ft(n)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),o.W(e.resumeToken));break;default:Tn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((o,d)=>{this.ft(d)&&n(d)})}_t(e){const n=e.targetId,o=e.$.count,d=this.wt(n);if(d){const _=d.target;if(Oo(_))if(0===o){const C=new yn(_.path);this.ct(n,C,xr.newNoDocument(C,Ne.min()))}else Jn(1===o);else this.gt(n)!==o&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((_,C)=>{const P=this.wt(C);if(P){if(_.current&&Oo(P.target)){const Q=new yn(P.target.path);null!==this.it.get(Q)||this.It(C,Q)||this.ct(C,Q,xr.newNoDocument(Q,e))}_.j&&(n.set(C,_.H()),_.J())}});let o=Tr();this.rt.forEach((_,C)=>{let P=!0;C.forEachWhile(Q=>{const oe=this.wt(Q);return!oe||2===oe.purpose||(P=!1,!1)}),P&&(o=o.add(_))}),this.it.forEach((_,C)=>C.setReadTime(e));const d=new Sl(e,n,this.ot,this.it,o);return this.it=Is(),this.rt=up(),this.ot=new gn(L),d}at(e,n){if(!this.ft(e))return;const o=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,o),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,o){if(!this.ft(e))return;const d=this.lt(e);this.It(e,n)?d.Y(n,1):d.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),o&&(this.it=this.it.insert(n,o))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new Hu,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new gn(L),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||Zt("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new Hu),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function up(){return new Ae(yn.comparator)}function Ss(){return new Ae(yn.comparator)}const Kg={asc:"ASCENDING",desc:"DESCENDING"},dp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Bh{constructor(e,n){this.databaseId=e,this.N=n}}function Jc(r,e){return r.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hp(r,e){return r.N?e.toBase64():e.toUint8Array()}function Zg(r,e){return Jc(r,e.toTimestamp())}function ho(r){return Jn(!!r),Ne.fromTimestamp(function(e){const n=Rs(e);return new Re(n.seconds,n.nanos)}(r))}function fp(r,e){return(n=r,new Ln(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function pp(r){const e=Ln.fromString(r);return Jn(Ld(e)),e}function Rd(r,e){return fp(r.databaseId,e.path)}function Ol(r,e){const n=pp(e);if(n.get(1)!==r.databaseId.projectId)throw new tn(St.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new tn(St.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yn(Vh(n))}function Oc(r,e){return fp(r.databaseId,e)}function Fo(r){const e=pp(r);return 4===e.length?Ln.emptyPath():Vh(e)}function Xc(r){return new Ln(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Vh(r){return Jn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Uh(r,e,n){return{name:Rd(r,e),fields:n.value.mapValue.fields}}function wo(r,e,n){const o=Ol(r,e.name),d=ho(e.updateTime),_=new Bi({mapValue:{fields:e.fields}}),C=xr.newFoundDocument(o,d,_);return n&&C.setHasCommittedMutations(),n?C.setHasCommittedMutations():C}function ju(r,e){let n;if(e instanceof Dl)n={update:Uh(r,e.key,e.value)};else if(e instanceof Ql)n={delete:Rd(r,e.key)};else if(e instanceof Al)n={update:Uh(r,e.key,e.data),updateMask:Jg(e.fieldMask)};else{if(!(e instanceof Bu))return Tn();n={verify:Rd(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(d,_){const C=_.transform;if(C instanceof La)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Xo)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Cl)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof ea)return{fieldPath:_.field.canonicalString(),increment:C.k};throw Tn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Zg(r,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:Tn()),n;var d}function jh(r,e){const n=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?As.updateTime(ho(d.updateTime)):void 0!==d.exists?As.exists(d.exists):As.none():As.none(),o=e.updateTransforms?e.updateTransforms.map(d=>function(_,C){let P=null;"setToServerValue"in C?(Jn("REQUEST_TIME"===C.setToServerValue),P=new La):"appendMissingElements"in C?P=new Xo(C.appendMissingElements.values||[]):"removeAllFromArray"in C?P=new Cl(C.removeAllFromArray.values||[]):"increment"in C?P=new ea(_,C.increment):Tn();const Q=pr.fromServerFormat(C.fieldPath);return new il(Q,P)}(r,d)):[];var d;if(e.update){const d=Ol(r,e.update.name),_=new Bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new ns((e.updateMask.fieldPaths||[]).map(oe=>pr.fromServerFormat(oe)));return new Al(d,_,C,n,o)}return new Dl(d,_,n,o)}if(e.delete){const d=Ol(r,e.delete);return new Ql(d,n)}if(e.verify){const d=Ol(r,e.verify);return new Bu(d,n)}return Tn()}function gp(r,e){return{documents:[Oc(r,e.path)]}}function mp(r,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Oc(r,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Oc(r,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const d=function(Q){if(0===Q.length)return;const oe=Q.map($e=>function(ot){if("=="===ot.op){if(Ca(ot.value))return{unaryFilter:{field:Rc(ot.field),op:"IS_NAN"}};if(Mo(ot.value))return{unaryFilter:{field:Rc(ot.field),op:"IS_NULL"}}}else if("!="===ot.op){if(Ca(ot.value))return{unaryFilter:{field:Rc(ot.field),op:"IS_NOT_NAN"}};if(Mo(ot.value))return{unaryFilter:{field:Rc(ot.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rc(ot.field),op:$h(ot.op),value:ot.value}}}($e));return 1===oe.length?oe[0]:{compositeFilter:{op:"AND",filters:oe}}}(e.filters);d&&(n.structuredQuery.where=d);const _=function(Q){if(0!==Q.length)return Q.map(oe=>{return{field:Rc(($e=oe).field),direction:Yg($e.dir)};var $e})}(e.orderBy);_&&(n.structuredQuery.orderBy=_);const C=(oe=e.limit,r.N||Pr(oe)?oe:{value:oe});var oe,P,Q;return null!==C&&(n.structuredQuery.limit=C),e.startAt&&(n.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(n.structuredQuery.endAt={before:!(Q=e.endAt).inclusive,values:Q.position}),n}function Pd(r){let e=Fo(r.parent);const n=r.structuredQuery,o=n.from?n.from.length:0;let d=null;if(o>0){Jn(1===o);const $e=n.from[0];$e.allDescendants?d=$e.collectionId:e=e.child($e.collectionId)}let _=[];n.where&&(_=Gh(n.where));let C=[];n.orderBy&&(C=n.orderBy.map($e=>{return new ui(kc((ot=$e).field),function(Mt){switch(Mt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ot.direction));var ot}));let P=null;n.limit&&(P=function($e){let ot;return ot="object"==typeof $e?$e.value:$e,Pr(ot)?null:ot}(n.limit));let Q=null;var $e;n.startAt&&(Q=new fn(($e=n.startAt).values||[],!!$e.before));let oe=null;return n.endAt&&(oe=function($e){return new fn($e.values||[],!$e.before)}(n.endAt)),Vi(e,d,C,_,P,"F",Q,oe)}function Gh(r){return r?void 0!==r.unaryFilter?[Qg(r)]:void 0!==r.fieldFilter?[Nd(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>Gh(e)).reduce((e,n)=>e.concat(n)):Tn():[]}function Yg(r){return Kg[r]}function $h(r){return dp[r]}function Rc(r){return{fieldPath:r.canonicalString()}}function kc(r){return pr.fromServerFormat(r.fieldPath)}function Nd(r){return os.create(kc(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tn()}}(r.fieldFilter.op),r.fieldFilter.value)}function Qg(r){switch(r.unaryFilter.op){case"IS_NAN":const e=kc(r.unaryFilter.field);return os.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=kc(r.unaryFilter.field);return os.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=kc(r.unaryFilter.field);return os.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=kc(r.unaryFilter.field);return os.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Tn()}}function Jg(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ld(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function fo(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Xg(e)),e=yp(r.get(n),e);return Xg(e)}function yp(r,e){let n=e;const o=r.length;for(let d=0;d<o;d++){const _=r.charAt(d);switch(_){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=_}}return n}function Xg(r){return r+"\x01\x01"}function Da(r){const e=r.length;if(Jn(e>=2),2===e)return Jn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Ln.emptyPath();const n=e-2,o=[];let d="";for(let _=0;_<e;){const C=r.indexOf("\x01",_);switch((C<0||C>n)&&Tn(),r.charAt(C+1)){case"\x01":const P=r.substring(_,C);let Q;0===d.length?Q=P:(d+=P,Q=d,d=""),o.push(Q);break;case"\x10":d+=r.substring(_,C),d+="\0";break;case"\x11":d+=r.substring(_,C+1);break;default:Tn()}_=C+2}return new Ln(o)}const vp=["userId","batchId"];function Gu(r,e){return[r,fo(e)]}function bp(r,e,n){return[r,fo(e),n]}const em={},tm=["prefixPath","collectionGroup","readTime","documentId"],nm=["prefixPath","collectionGroup","documentId"],im=["collectionGroup","readTime","prefixPath","documentId"],rm=["canonicalId","targetId"],wp=["targetId","path"],Uo=["path","targetId"],Va=["collectionId","parent"],Aa=["indexId","uid"],Ep=["uid","sequenceNumber"],h_=["indexId","uid","arrayValue","directionalValue","documentKey"],zh=["indexId","uid","documentKey"],$u=["userId","collectionPath","documentId"],Rl=["userId","collectionPath","largestBatchId"],Wh=["userId","collectionGroup","largestBatchId"],zu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qh=[...zu,"documentOverlays"],Wu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bd=[...Wu,"indexConfiguration","indexState","indexEntries"],qu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Lt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Lt((o,d)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(o,d)},this.catchCallback=_=>{this.wrapFailure(n,_).next(o,d)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Lt?n:Lt.resolve(n)}catch(n){return Lt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Lt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Lt.reject(n)}static resolve(e){return new Lt((n,o)=>{n(e)})}static reject(e){return new Lt((n,o)=>{o(e)})}static waitFor(e){return new Lt((n,o)=>{let d=0,_=0,C=!1;e.forEach(P=>{++d,P.next(()=>{++_,C&&_===d&&n()},Q=>o(Q))}),C=!0,_===d&&n()})}static or(e){let n=Lt.resolve(!1);for(const o of e)n=n.next(d=>d?Lt.resolve(d):o());return n}static forEach(e,n){const o=[];return e.forEach((d,_)=>{o.push(n.call(this,d,_))}),this.waitFor(o)}}class eu{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.At=new br,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{n.error?this.At.reject(new al(e,n.error)):this.At.resolve()},this.transaction.onerror=o=>{const d=Cp(o.target.error);this.At.reject(new al(e,d))}}static open(e,n,o,d){try{return new eu(n,e.transaction(d,o))}catch(_){throw new al(n,_)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Zt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new sm(n)}}class Ia{constructor(e,n,o){this.name=e,this.version=n,this.Pt=o,12.2===Ia.Vt((0,be.z$)())&&zi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Zt("SimpleDb","Removing database:",e),tu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,be.hl)())return!1;if(Ia.St())return!0;const e=(0,be.z$)(),n=Ia.Vt(e),o=0<n&&n<10,d=Ia.Dt(e),_=0<d&&d<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||_)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,n){return e.store(n)}static Vt(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var n=this;return(0,g.Z)(function*(){return n.db||(Zt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,d)=>{const _=indexedDB.open(n.name,n.version);_.onsuccess=C=>{o(C.target.result)},_.onblocked=()=>{d(new al(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=C=>{const P=C.target.error;d("VersionError"===P.name?new tn(St.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new tn(St.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new al(e,P))},_.onupgradeneeded=C=>{Zt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',C.oldVersion),n.Pt.kt(C.target.result,_.transaction,C.oldVersion,n.version).next(()=>{Zt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Mt&&(n.db.onversionchange=o=>n.Mt(o)),n.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,d){var _=this;return(0,g.Z)(function*(){const C="readonly"===n;let P=0;for(;;){++P;try{_.db=yield _.Nt(e);const Q=eu.open(_.db,e,C?"readonly":"readwrite",o),oe=d(Q).next($e=>(Q.bt(),$e)).catch($e=>(Q.abort($e),Lt.reject($e))).toPromise();return oe.catch(()=>{}),yield Q.Rt,oe}catch(Q){const oe="FirebaseError"!==Q.name&&P<3;if(Zt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",oe),_.close(),!oe)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class f_{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return tu(this.Ft.delete())}}class al extends tn{constructor(e,n){super(St.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Jl(r){return"IndexedDbTransactionError"===r.name}class sm{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Zt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Zt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),tu(o)}add(e){return Zt("SimpleDb","ADD",this.store.name,e,e),tu(this.store.add(e))}get(e){return tu(this.store.get(e)).next(n=>(void 0===n&&(n=null),Zt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Zt("SimpleDb","DELETE",this.store.name,e),tu(this.store.delete(e))}count(){return Zt("SimpleDb","COUNT",this.store.name),tu(this.store.count())}qt(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const d=this.cursor(o),_=[];return this.Gt(d,(C,P)=>{_.push(P)}).next(()=>_)}{const d=this.store.getAll(o.range);return new Lt((_,C)=>{d.onerror=P=>{C(P.target.error)},d.onsuccess=P=>{_(P.target.result)}})}}Kt(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new Lt((d,_)=>{o.onerror=C=>{_(C.target.error)},o.onsuccess=C=>{d(C.target.result)}})}Qt(e,n){Zt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.jt=!1;const d=this.cursor(o);return this.Gt(d,(_,C,P)=>P.delete())}Wt(e,n){let o;n?o=e:(o={},n=e);const d=this.cursor(o);return this.Gt(d,n)}zt(e){const n=this.cursor({});return new Lt((o,d)=>{n.onerror=_=>{const C=Cp(_.target.error);d(C)},n.onsuccess=_=>{const C=_.target.result;C?e(C.primaryKey,C.value).next(P=>{P?C.continue():o()}):o()}})}Gt(e,n){const o=[];return new Lt((d,_)=>{e.onerror=C=>{_(C.target.error)},e.onsuccess=C=>{const P=C.target.result;if(!P)return void d();const Q=new f_(P),oe=n(P.primaryKey,P.value,Q);if(oe instanceof Lt){const $e=oe.catch(ot=>(Q.done(),Lt.reject(ot)));o.push($e)}Q.isDone?d():null===Q.Lt?P.continue():P.continue(Q.Lt)}}).next(()=>Lt.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function tu(r){return new Lt((e,n)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const d=Cp(o.target.error);n(d)}})}let Zh=!1;function Cp(r){const e=Ia.Vt((0,be.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const o=new tn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Zh||(Zh=!0,setTimeout(()=>{throw o},0)),o}}return r}class om extends Kh{constructor(e,n){super(),this.Ht=e,this.currentSequenceNumber=n}}function Eo(r,e){const n=on(r);return Ia.xt(n.Ht,e)}class xp{constructor(e,n,o,d){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=d}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let d=0;d<this.mutations.length;d++){const _=this.mutations[d];_.key.isEqual(e.key)&&Td(_,e,o[d])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&Ic(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&Ic(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const o=e.get(n.key),d=o;this.applyToLocalView(d),o.isValidDocument()||d.convertToNoDocument(Ne.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tr())}isEqual(e){return this.batchId===e.batchId&&K(this.mutations,e.mutations,(n,o)=>rl(n,o))&&K(this.baseMutations,e.baseMutations,(n,o)=>rl(n,o))}}class Dp{constructor(e,n,o,d){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=d}static from(e,n,o){Jn(e.mutations.length===o.length);let d=Sc;const _=e.mutations;for(let C=0;C<_.length;C++)d=d.insert(_[C].key,o[C].version);return new Dp(e,n,o,d)}}class Ap{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xl{constructor(e,n,o,d,_=Ne.min(),C=Ne.min(),P=Fr.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=d,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=P}withSequenceNumber(e){return new Xl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Xl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Vd{constructor(e){this.Jt=e}}function Yh(r,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Qh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Rd(d=r.Jt,(_=e).key),fields:_.data.value.mapValue.fields,updateTime:Jc(d,_.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:nu(e.version)};else{if(!e.isUnknownDocument())return Tn();o.unknownDocument={path:n.path.toArray(),version:nu(e.version)}}var d,_;return o}function Qh(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function nu(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fc(r){const e=new Re(r.seconds,r.nanoseconds);return Ne.fromTimestamp(e)}function iu(r,e){const n=(e.baseMutations||[]).map(_=>jh(r.Jt,_));for(let _=0;_<e.mutations.length-1;++_){const C=e.mutations[_];_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(C.updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_)}const o=e.mutations.map(_=>jh(r.Jt,_)),d=Re.fromMillis(e.localWriteTimeMs);return new xp(e.batchId,d,n,o)}function ll(r){const e=Fc(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?Fc(r.lastLimboFreeSnapshotVersion):Ne.min();let o;var d;return void 0!==r.query.documents?(Jn(1===(d=r.query).documents.length),o=bo(Vo(Fo(d.documents[0])))):o=bo(Pd(r.query)),new Xl(o,r.targetId,0,r.lastListenSequenceNumber,e,n,Fr.fromBase64String(r.resumeToken))}function Ip(r,e){const n=nu(e.snapshotVersion),o=nu(e.lastLimboFreeSnapshotVersion);let d;d=Oo(e.target)?gp(r.Jt,e.target):mp(r.Jt,e.target);const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ws(e.target),readTime:n,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:d}}function Jh(r){const e=Pd({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Kl(e,e.limit,"L"):e}function Sp(r,e){return new Ap(e.largestBatchId,jh(r.Jt,e.overlayMutation))}function Ud(r,e){const n=e.path.lastSegment();return[r,fo(e.path.popLast()),n]}class p_{getBundleMetadata(e,n){return Tp(e).get(n).next(o=>{if(o)return{id:(d=o).bundleId,createTime:Fc(d.createTime),version:d.version};var d})}saveBundleMetadata(e,n){return Tp(e).put({bundleId:(o=n).id,createTime:nu(ho(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return Mp(e).get(n).next(o=>{if(o)return{name:(d=o).name,query:Jh(d.bundledQuery),readTime:Fc(d.readTime)};var d})}saveNamedQuery(e,n){return Mp(e).put({name:(o=n).name,readTime:nu(ho(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Tp(r){return Eo(r,"bundles")}function Mp(r){return Eo(r,"namedQueries")}class Xh{constructor(e,n){this.M=e,this.userId=n}static Yt(e,n){return new Xh(e,n.uid||"")}getOverlay(e,n){return ru(e).get(Ud(this.userId,n)).next(o=>o?Sp(this.M,o):null)}saveOverlays(e,n,o){const d=[];return o.forEach((_,C)=>{const P=new Ap(n,C);d.push(this.Xt(e,P))}),Lt.waitFor(d)}removeOverlaysForBatchId(e,n,o){const d=new Set;n.forEach(C=>d.add(fo(C.getCollectionPath())));const _=[];return d.forEach(C=>{const P=IDBKeyRange.bound([this.userId,C,o],[this.userId,C,o+1],!1,!0);_.push(ru(e).Qt("collectionPathOverlayIndex",P))}),Lt.waitFor(_)}getOverlaysForCollection(e,n,o){const d=ol(),_=fo(n),C=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,Number.POSITIVE_INFINITY],!0);return ru(e).qt("collectionPathOverlayIndex",C).next(P=>{for(const Q of P){const oe=Sp(this.M,Q);d.set(oe.getKey(),oe)}return d})}getOverlaysForCollectionGroup(e,n,o,d){const _=ol();let C;const P=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ru(e).Wt({index:"collectionGroupOverlayIndex",range:P},(Q,oe,$e)=>{const ot=Sp(this.M,oe);_.size()<d||ot.largestBatchId===C?(_.set(ot.getKey(),ot),C=ot.largestBatchId):$e.done()}).next(()=>_)}Xt(e,n){return ru(e).put(function(o,d,_){const[C,P,Q]=Ud(d,_.mutation.key);return{userId:d,collectionPath:P,documentId:Q,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:ju(o.Jt,_.mutation)}}(this.M,this.userId,n))}}function ru(r){return Eo(r,"documentOverlays")}class su{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(wr(e.integerValue));else if("doubleValue"in e){const o=wr(e.doubleValue);isNaN(o)?this.ne(n,13):(this.ne(n,15),zl(o)?n.se(0):n.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(n,20),"string"==typeof o?n.ie(o):(n.ie(`${o.seconds||""}`),n.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(co(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(n,45),n.se(o.latitude||0),n.se(o.longitude||0)}else"mapValue"in e?ua(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):Tn()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const o=e.fields||{};this.ne(n,55);for(const d of Object.keys(o))this.re(d,n),this.te(o[d],n)}he(e,n){const o=e.values||[];this.ne(n,50);for(const d of o)this.te(d,n)}ae(e,n){this.ne(n,37),yn.fromName(e).path.forEach(o=>{this.ne(n,60),this.le(o,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}function ef(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Hd(r){const e=64-function(n){let o=0;for(let d=0;d<8;++d){const _=ef(255&n[d]);if(o+=_,8!==_)break}return o}(r);return Math.ceil(e/8)}su.fe=new su;class lm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this._e(o.value),o=n.next();this.we()}me(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.ge(o.value),o=n.next();this.ye()}pe(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(n<"\ud800"||"\udbff"<n)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const d=n.codePointAt(0);this._e(240|d>>>18),this._e(128|63&d>>>12),this._e(128|63&d>>>6),this._e(128|63&d)}}this.we()}Ie(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const d=n.codePointAt(0);this.ge(240|d>>>18),this.ge(128|63&d>>>12),this.ge(128|63&d>>>6),this.ge(128|63&d)}}this.ye()}Te(e){const n=this.Ee(e),o=Hd(n);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let d=n.length-o;d<n.length;++d)this.buffer[this.position++]=255&n[d]}Re(e){const n=this.Ee(e),o=Hd(n);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let d=n.length-o;d<n.length;++d)this.buffer[this.position++]=~(255&n[d])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const n=function(d){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,d,!1),new Uint8Array(_.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let d=1;d<n.length;++d)n[d]^=o?255:0;return n}_e(e){const n=255&e;0===n?(this.Pe(0),this.Pe(255)):255===n?(this.Pe(255),this.Pe(0)):this.Pe(n)}ge(e){const n=255&e;0===n?(this.ve(0),this.ve(255)):255===n?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const d=new Uint8Array(o);d.set(this.buffer),this.buffer=d}}class Op{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class cm{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Ku{constructor(){this.De=new lm,this.Ce=new Op(this.De),this.xe=new cm(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Ua{constructor(e,n,o,d){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=d}ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ua(this.indexId,this.documentKey,this.arrayValue,o)}}function ou(r,e){let n=r.indexId-e.indexId;return 0!==n?n:(n=Rp(r.arrayValue,e.arrayValue),0!==n?n:(n=Rp(r.directionalValue,e.directionalValue),0!==n?n:yn.comparator(r.documentKey,e.documentKey)))}function Rp(r,e){for(let n=0;n<r.length&&n<e.length;++n){const o=r[n]-e[n];if(0!==o)return o}return r.length-e.length}class g_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const n of e.filters){const o=n;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const n=bl(e);if(void 0!==n&&!this.Be(n))return!1;const o=zs(e);let d=0,_=0;for(;d<o.length&&this.Be(o[d]);++d);if(d===o.length)return!0;if(void 0!==this.Fe){const C=o[d];if(!this.Le(this.Fe,C)||!this.Ue(this.Me[_++],C))return!1;++d}for(;d<o.length;++d){const C=o[d];if(_>=this.Me.length||!this.Ue(this.Me[_++],C))return!1}return!0}Be(e){for(const n of this.Oe)if(this.Le(n,e))return!0;return!1}Le(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class m_{constructor(){this.qe=new tf}addToCollectionParentIndex(e,n){return this.qe.add(n),Lt.resolve()}getCollectionParents(e,n){return Lt.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return Lt.resolve()}deleteFieldIndex(e,n){return Lt.resolve()}getDocumentsMatchingTarget(e,n){return Lt.resolve(null)}getFieldIndex(e,n){return Lt.resolve(null)}getFieldIndexes(e,n){return Lt.resolve([])}getNextCollectionGroupToUpdate(e){return Lt.resolve(null)}updateCollectionGroup(e,n,o){return Lt.resolve()}updateIndexEntries(e,n){return Lt.resolve()}}class tf{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),d=this.index[n]||new gn(Ln.comparator),_=!d.has(o);return this.index[n]=d.add(o),_}has(e){const n=e.lastSegment(),o=e.popLast(),d=this.index[n];return d&&d.has(o)}getEntries(e){return(this.index[e]||new gn(Ln.comparator)).toArray()}}const Zu=new Uint8Array(0);class um{constructor(e){this.user=e,this.Ge=new tf,this.Ke=new ne(n=>Ws(n),(n,o)=>Xa(n,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ge.has(n)){const o=n.lastSegment(),d=n.popLast();e.addOnCommittedListener(()=>{this.Ge.add(n)});const _={collectionId:o,parent:fo(d)};return __(e).put(_)}return Lt.resolve()}getCollectionParents(e,n){const o=[],d=IDBKeyRange.bound([n,""],[ue(n),""],!1,!0);return __(e).qt(d).next(_=>{for(const C of _){if(C.collectionId!==n)break;o.push(Da(C.parent))}return o})}addFieldIndex(e,n){const o=nf(e),d={indexId:(_=n).indexId,collectionGroup:_.collectionGroup,fields:_.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var _;return delete d.indexId,o.add(d).next()}deleteFieldIndex(e,n){const o=nf(e),d=jd(e),_=Yu(e);return o.delete(n.indexId).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=Yu(e);let d=!0;const _=new Map;return Lt.forEach(this.Qe(n),C=>this.getFieldIndex(e,C).next(P=>{d&&(d=!!P),_.set(C,P)})).next(()=>{if(d){let C=Tr();return Lt.forEach(_,(P,Q)=>{var oe;Zt("IndexedDbIndexManager",`Using index ${oe=P,`id=${oe.indexId}|cg=${oe.collectionGroup}|f=${oe.fields.map(dr=>`${dr.fieldPath}:${dr.kind}`).join(",")}`} to execute ${Ws(n)}`);const $e=function(dr,Fa){const ao=bl(Fa);if(void 0===ao)return null;for(const po of uo(dr,ao.fieldPath))switch(po.op){case"array-contains-any":return po.value.arrayValue.values||[];case"array-contains":return[po.value]}return null}(Q,P),ot=function(dr,Fa){const ao=new Map;for(const po of zs(Fa))for(const Zr of uo(dr,po.fieldPath))switch(Zr.op){case"==":case"in":ao.set(po.fieldPath.canonicalString(),Zr.value);break;case"not-in":case"!=":return ao.set(po.fieldPath.canonicalString(),Zr.value),Array.from(ao.values())}return null}(Q,P),Mt=function(dr,Fa){const ao=[];let po=!0;for(const Iu of zs(Fa)){let qa,Su=!0;for(const go of uo(dr,Iu.fieldPath)){let Ts,Dd=!0;switch(go.op){case"<":case"<=":Ts="nullValue"in(Zr=go.value)?Cc:"booleanValue"in Zr?{booleanValue:!1}:"integerValue"in Zr||"doubleValue"in Zr?{doubleValue:NaN}:"timestampValue"in Zr?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Zr?{stringValue:""}:"bytesValue"in Zr?{bytesValue:""}:"referenceValue"in Zr?Ea(wa.empty(),yn.empty()):"geoPointValue"in Zr?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Zr?{arrayValue:{}}:"mapValue"in Zr?{mapValue:{}}:Tn();break;case"==":case"in":case">=":Ts=go.value;break;case">":Ts=go.value,Dd=!1;break;case"!=":case"not-in":Ts=Cc}yl(qa,Ts)===Ts&&(qa=Ts,Su=Dd)}if(null!==dr.startAt)for(let go=0;go<dr.orderBy.length;++go)if(dr.orderBy[go].field.isEqual(Iu.fieldPath)){const Ts=dr.startAt.position[go];yl(qa,Ts)===Ts&&(qa=Ts,Su=dr.startAt.inclusive);break}if(void 0===qa)return null;ao.push(qa),po&&(po=Su)}var Zr;return new fn(ao,po)}(Q,P),Qt=function(dr,Fa){const ao=[];let po=!0;for(const Iu of zs(Fa)){let qa,Su=!0;for(const go of uo(dr,Iu.fieldPath)){let Ts,Dd=!0;switch(go.op){case">=":case">":Ts="nullValue"in(Zr=go.value)?{booleanValue:!1}:"booleanValue"in Zr?{doubleValue:NaN}:"integerValue"in Zr||"doubleValue"in Zr?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Zr?{stringValue:""}:"stringValue"in Zr?{bytesValue:""}:"bytesValue"in Zr?Ea(wa.empty(),yn.empty()):"referenceValue"in Zr?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Zr?{arrayValue:{}}:"arrayValue"in Zr?{mapValue:{}}:"mapValue"in Zr?_l:Tn(),Dd=!1;break;case"==":case"in":case"<=":Ts=go.value;break;case"<":Ts=go.value,Dd=!1;break;case"!=":case"not-in":Ts=_l}Vr(qa,Ts)===Ts&&(qa=Ts,Su=Dd)}if(null!==dr.endAt)for(let go=0;go<dr.orderBy.length;++go)if(dr.orderBy[go].field.isEqual(Iu.fieldPath)){const Ts=dr.endAt.position[go];Vr(qa,Ts)===Ts&&(qa=Ts,Su=dr.endAt.inclusive);break}if(void 0===qa)return null;ao.push(qa),po&&(po=Su)}var Zr;return new fn(ao,po)}(Q,P),an=this.je(P,Q,Mt),Wn=this.je(P,Q,Qt),Zi=this.We(P,Q,ot),Ks=this.ze(P.indexId,$e,an,!!Mt&&Mt.inclusive,Wn,!!Qt&&Qt.inclusive,Zi);return Lt.forEach(Ks,dr=>o.Kt(dr,n.limit).next(Fa=>{Fa.forEach(ao=>{C=C.add(new yn(Da(ao.documentKey)))})}))}).next(()=>C)}return Lt.resolve(null)})}Qe(e){let n=this.Ke.get(e);return n||(n=[e],this.Ke.set(e,n),n)}ze(e,n,o,d,_,C,P){const Q=(null!=n?n.length:1)*Math.max(null!=o?o.length:1,null!=_?_.length:1),oe=Q/(null!=n?n.length:1),$e=[];for(let ot=0;ot<Q;++ot){const Mt=n?this.He(n[ot/oe]):Zu,Qt=o?this.Je(e,Mt,o[ot%oe],d):this.Ye(e),an=_?this.Xe(e,Mt,_[ot%oe],C):this.Ye(e+1);$e.push(...this.createRange(Qt,an,P.map(Wn=>this.Je(e,Mt,Wn,!0))))}return $e}Je(e,n,o,d){const _=new Ua(e,yn.empty(),n,o);return d?_:_.ke()}Xe(e,n,o,d){const _=new Ua(e,yn.empty(),n,o);return d?_.ke():_}Ye(e){return new Ua(e,yn.empty(),Zu,Zu)}getFieldIndex(e,n){const o=new g_(n),d=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,d).next(_=>{const C=_.filter(P=>o.$e(P));return C.sort((P,Q)=>Q.fields.length-P.fields.length),C.length>0?C[0]:null})}Ze(e,n){const o=new Ku;for(const d of zs(e)){const _=n.data.field(d.fieldPath);if(null==_)return null;const C=o.Ne(d.kind);su.fe.Zt(_,C)}return o.Se()}He(e){const n=new Ku;return su.fe.Zt(e,n.Ne(0)),n.Se()}We(e,n,o){if(null===o)return[];let d=[];d.push(new Ku);let _=0;for(const C of zs(e)){const P=o[_++];for(const Q of d)if(this.tn(n,C.fieldPath)&&jr(P))d=this.en(d,C,P);else{const oe=Q.Ne(C.kind);su.fe.Zt(P,oe)}}return this.nn(d)}je(e,n,o){return null==o?null:this.We(e,n,o.position)}nn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Se();return n}en(e,n,o){const d=[...e],_=[];for(const C of o.arrayValue.values||[])for(const P of d){const Q=new Ku;Q.seed(P.Se()),su.fe.Zt(C,Q.Ne(n.kind)),_.push(Q)}return _}tn(e,n){return!!e.filters.find(o=>o instanceof os&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=nf(e),d=jd(e);return(n?o.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.qt()).next(_=>{const C=[];return Lt.forEach(_,P=>d.get([P.indexId,this.uid]).next(Q=>{C.push(function(oe,$e){const ot=$e?new Qo($e.sequenceNumber,new Lo(Fc($e.readTime),new yn(Da($e.documentKey)),$e.largestBatchId)):Qo.empty(),Mt=oe.fields.map(([Qt,an])=>new xc(pr.fromServerFormat(Qt),an));return new ro(oe.indexId,oe.collectionGroup,Mt,ot)}(P,Q))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,d)=>{const _=o.indexState.sequenceNumber-d.indexState.sequenceNumber;return 0!==_?_:L(o.collectionGroup,d.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const d=nf(e),_=jd(e);return this.sn(e).next(C=>d.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(P=>Lt.forEach(P,Q=>{return _.put({indexId:Q.indexId,uid:this.user.uid||"",sequenceNumber:C,readTime:nu((Mt=o).readTime),documentKey:fo(Mt.documentKey.path),largestBatchId:Mt.largestBatchId});var Mt})))}updateIndexEntries(e,n){const o=new Map;return Lt.forEach(n,(d,_)=>{const C=o.get(d.collectionGroup);return(C?Lt.resolve(C):this.getFieldIndexes(e,d.collectionGroup)).next(P=>(o.set(d.collectionGroup,P),Lt.forEach(P,Q=>this.rn(e,d,Q).next(oe=>{const $e=this.on(_,Q);return oe.isEqual($e)?Lt.resolve():this.un(e,_,oe,$e)}))))})}an(e,n,o){return Yu(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,documentKey:fo(n.key.path)})}cn(e,n,o){return Yu(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,fo(n.key.path)])}rn(e,n,o){const d=Yu(e);let _=new gn(ou);return d.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,fo(n.path)])},(C,P)=>{_=_.add(new Ua(o.indexId,n,P.arrayValue,P.directionalValue))}).next(()=>_)}on(e,n){let o=new gn(ou);const d=this.Ze(n,e);if(null==d)return o;const _=bl(n);if(null!=_){const C=e.data.field(_.fieldPath);if(jr(C))for(const P of C.arrayValue.values||[])o=o.add(new Ua(n.indexId,e.key,this.He(P),d))}else o=o.add(new Ua(n.indexId,e.key,Zu,d));return o}un(e,n,o,d){Zt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const _=[];return function(C,P,Q,oe,$e){const ot=C.getIterator(),Mt=P.getIterator();let Qt=Ti(ot),an=Ti(Mt);for(;Qt||an;){let Wn=!1,Zi=!1;if(Qt&&an){const Ks=Q(Qt,an);Ks<0?Zi=!0:Ks>0&&(Wn=!0)}else null!=Qt?Zi=!0:Wn=!0;Wn?(oe(an),an=Ti(Mt)):Zi?($e(Qt),Qt=Ti(ot)):(Qt=Ti(ot),an=Ti(Mt))}}(o,d,ou,C=>{_.push(this.an(e,n,C))},C=>{_.push(this.cn(e,n,C))}),Lt.waitFor(_)}sn(e){let n=1;return jd(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,d,_)=>{_.done(),n=d.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((C,P)=>ou(C,P)).filter((C,P,Q)=>!P||0!==ou(C,Q[P-1]));const d=[];d.push(e);for(const C of o){const P=ou(C,e),Q=ou(C,n);if(0===P)d[0]=e.ke();else if(P>0&&Q<0)d.push(C),d.push(C.ke());else if(Q>0)break}d.push(n);const _=[];for(let C=0;C<d.length;C+=2)_.push(IDBKeyRange.bound([d[C].indexId,this.uid,d[C].arrayValue,d[C].directionalValue,""],[d[C+1].indexId,this.uid,d[C+1].arrayValue,d[C+1].directionalValue,""]));return _}}function __(r){return Eo(r,"collectionParents")}function Yu(r){return Eo(r,"indexEntries")}function nf(r){return Eo(r,"indexConfiguration")}function jd(r){return Eo(r,"indexState")}const dm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ha{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ha(e,ha.DEFAULT_COLLECTION_PERCENTILE,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ha(r,e,n){const o=r.store("mutations"),d=r.store("documentMutations"),_=[],C=IDBKeyRange.only(n.batchId);let P=0;const Q=o.Wt({range:C},($e,ot,Mt)=>(P++,Mt.delete()));_.push(Q.next(()=>{Jn(1===P)}));const oe=[];for(const $e of n.mutations){const ot=bp(e,$e.key.path,n.batchId);_.push(d.delete(ot)),oe.push($e.key)}return Lt.waitFor(_).next(()=>oe)}function rf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Tn();e=r.noDocument}return JSON.stringify(e).length}ha.DEFAULT_COLLECTION_PERCENTILE=10,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ha.DEFAULT=new ha(41943040,ha.DEFAULT_COLLECTION_PERCENTILE,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ha.DISABLED=new ha(-1,0,0);class sf{constructor(e,n,o,d){this.userId=e,this.M=n,this.indexManager=o,this.referenceDelegate=d,this.hn={}}static Yt(e,n,o,d){Jn(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new sf(_,n,o,d)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ec(e).Wt({index:"userMutationsIndex",range:o},(d,_,C)=>{n=!1,C.done()}).next(()=>n)}addMutationBatch(e,n,o,d){const _=tc(e),C=ec(e);return C.add({}).next(P=>{Jn("number"==typeof P);const Q=new xp(P,n,o,d),oe=function(Mt,Qt,an){const Wn=an.baseMutations.map(Ks=>ju(Mt.Jt,Ks)),Zi=an.mutations.map(Ks=>ju(Mt.Jt,Ks));return{userId:Qt,batchId:an.batchId,localWriteTimeMs:an.localWriteTime.toMillis(),baseMutations:Wn,mutations:Zi}}(this.M,this.userId,Q),$e=[];let ot=new gn((Mt,Qt)=>L(Mt.canonicalString(),Qt.canonicalString()));for(const Mt of d){const Qt=bp(this.userId,Mt.key.path,P);ot=ot.add(Mt.key.path.popLast()),$e.push(C.put(oe)),$e.push(_.put(Qt,em))}return ot.forEach(Mt=>{$e.push(this.indexManager.addToCollectionParentIndex(e,Mt))}),e.addOnCommittedListener(()=>{this.hn[P]=Q.keys()}),Lt.waitFor($e).next(()=>Q)})}lookupMutationBatch(e,n){return ec(e).get(n).next(o=>o?(Jn(o.userId===this.userId),iu(this.M,o)):null)}ln(e,n){return this.hn[n]?Lt.resolve(this.hn[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const d=o.keys();return this.hn[n]=d,d}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,d=IDBKeyRange.lowerBound([this.userId,o]);let _=null;return ec(e).Wt({index:"userMutationsIndex",range:d},(C,P,Q)=>{P.userId===this.userId&&(Jn(P.batchId>=o),_=iu(this.M,P)),Q.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ec(e).Wt({index:"userMutationsIndex",range:n,reverse:!0},(d,_,C)=>{o=_.batchId,C.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ec(e).qt("userMutationsIndex",n).next(o=>o.map(d=>iu(this.M,d)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=Gu(this.userId,n.path),d=IDBKeyRange.lowerBound(o),_=[];return tc(e).Wt({range:d},(C,P,Q)=>{const[oe,$e,ot]=C,Mt=Da($e);if(oe===this.userId&&n.path.isEqual(Mt))return ec(e).get(ot).next(Qt=>{if(!Qt)throw Tn();Jn(Qt.userId===this.userId),_.push(iu(this.M,Qt))});Q.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new gn(L);const d=[];return n.forEach(_=>{const C=Gu(this.userId,_.path),P=IDBKeyRange.lowerBound(C),Q=tc(e).Wt({range:P},(oe,$e,ot)=>{const[Mt,Qt,an]=oe,Wn=Da(Qt);Mt===this.userId&&_.path.isEqual(Wn)?o=o.add(an):ot.done()});d.push(Q)}),Lt.waitFor(d).next(()=>this.fn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,d=o.length+1,_=Gu(this.userId,o),C=IDBKeyRange.lowerBound(_);let P=new gn(L);return tc(e).Wt({range:C},(Q,oe,$e)=>{const[ot,Mt,Qt]=Q,an=Da(Mt);ot===this.userId&&o.isPrefixOf(an)?an.length===d&&(P=P.add(Qt)):$e.done()}).next(()=>this.fn(e,P))}fn(e,n){const o=[],d=[];return n.forEach(_=>{d.push(ec(e).get(_).next(C=>{if(null===C)throw Tn();Jn(C.userId===this.userId),o.push(iu(this.M,C))}))}),Lt.waitFor(d).next(()=>o)}removeMutationBatch(e,n){return Ha(e.Ht,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.dn(n.batchId)}),Lt.forEach(o,d=>this.referenceDelegate.markPotentiallyOrphaned(e,d))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Lt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),d=[];return tc(e).Wt({range:o},(_,C,P)=>{if(_[0]===this.userId){const Q=Da(_[1]);d.push(Q)}else P.done()}).next(()=>{Jn(0===d.length)})})}containsKey(e,n){return hm(e,this.userId,n)}_n(e){return af(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hm(r,e,n){const o=Gu(e,n.path),d=o[1],_=IDBKeyRange.lowerBound(o);let C=!1;return tc(r).Wt({range:_,jt:!0},(P,Q,oe)=>{const[$e,ot,Mt]=P;$e===e&&ot===d&&(C=!0),oe.done()}).next(()=>C)}function ec(r){return Eo(r,"mutations")}function tc(r){return Eo(r,"documentMutations")}function af(r){return Eo(r,"mutationQueues")}class nc{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new nc(0)}static gn(){return new nc(-1)}}class y_{constructor(e,n){this.referenceDelegate=e,this.M=n}allocateTargetId(e){return this.yn(e).next(n=>{const o=new nc(n.highestTargetId);return n.highestTargetId=o.next(),this.pn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(n=>Ne.fromTimestamp(new Re(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.yn(e).next(d=>(d.highestListenSequenceNumber=n,o&&(d.lastRemoteSnapshotVersion=o.toTimestamp()),n>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=n),this.pn(e,d)))}addTargetData(e,n){return this.In(e,n).next(()=>this.yn(e).next(o=>(o.targetCount+=1,this.Tn(n,o),this.pn(e,o))))}updateTargetData(e,n){return this.In(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ic(e).delete(n.targetId)).next(()=>this.yn(e)).next(o=>(Jn(o.targetCount>0),o.targetCount-=1,this.pn(e,o)))}removeTargets(e,n,o){let d=0;const _=[];return ic(e).Wt((C,P)=>{const Q=ll(P);Q.sequenceNumber<=n&&null===o.get(Q.targetId)&&(d++,_.push(this.removeTargetData(e,Q)))}).next(()=>Lt.waitFor(_)).next(()=>d)}forEachTarget(e,n){return ic(e).Wt((o,d)=>{const _=ll(d);n(_)})}yn(e){return kp(e).get("targetGlobalKey").next(n=>(Jn(null!==n),n))}pn(e,n){return kp(e).put("targetGlobalKey",n)}In(e,n){return ic(e).put(Ip(this.M,n))}Tn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.yn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=Ws(n),d=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let _=null;return ic(e).Wt({range:d,index:"queryTargetsIndex"},(C,P,Q)=>{const oe=ll(P);Xa(n,oe.target)&&(_=oe,Q.done())}).next(()=>_)}addMatchingKeys(e,n,o){const d=[],_=Ei(e);return n.forEach(C=>{const P=fo(C.path);d.push(_.put({targetId:o,path:P})),d.push(this.referenceDelegate.addReference(e,o,C))}),Lt.waitFor(d)}removeMatchingKeys(e,n,o){const d=Ei(e);return Lt.forEach(n,_=>{const C=fo(_.path);return Lt.waitFor([d.delete([o,C]),this.referenceDelegate.removeReference(e,o,_)])})}removeMatchingKeysForTargetId(e,n){const o=Ei(e),d=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(d)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),d=Ei(e);let _=Tr();return d.Wt({range:o,jt:!0},(C,P,Q)=>{const oe=Da(C[1]),$e=new yn(oe);_=_.add($e)}).next(()=>_)}containsKey(e,n){const o=fo(n.path),d=IDBKeyRange.bound([o],[ue(o)],!1,!0);let _=0;return Ei(e).Wt({index:"documentTargetsIndex",jt:!0,range:d},([C,P],Q,oe)=>{0!==C&&(_++,oe.done())}).next(()=>_>0)}Et(e,n){return ic(e).get(n).next(o=>o?ll(o):null)}}function ic(r){return Eo(r,"targets")}function kp(r){return Eo(r,"targetGlobal")}function Ei(r){return Eo(r,"targetDocuments")}function rc(r){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,g.Z)(function*(r){if(r.code!==St.FAILED_PRECONDITION||r.message!==qu)throw r;Zt("LocalStore","Unexpectedly lost primary lease")}),Gd.apply(this,arguments)}function lf([r,e],[n,o]){const d=L(r,n);return 0===d?L(e,o):d}class $d{constructor(e){this.En=e,this.buffer=new gn(lf),this.An=0}Rn(){return++this.An}bn(e){const n=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();lf(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cl{constructor(e,n){this.garbageCollector=e,this.asyncQueue=n,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var n=this;const o=this.Pn?3e5:6e4;Zt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,g.Z)(function*(){n.Vn=null,n.Pn=!0;try{yield e.collectGarbage(n.garbageCollector)}catch(d){Jl(d)?Zt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",d):yield rc(d)}yield n.vn(e)}))}}class fm{constructor(e,n){this.Sn=e,this.params=n}calculateTargetCount(e,n){return this.Sn.Dn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return Lt.resolve(k.A);const o=new $d(n);return this.Sn.forEachTarget(e,d=>o.bn(d.sequenceNumber)).next(()=>this.Sn.Cn(e,d=>o.bn(d))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.Sn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.Sn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Zt("LruGarbageCollector","Garbage collection skipped; disabled"),Lt.resolve(dm)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dm):this.xn(e,n))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,n){let o,d,_,C,P,Q,oe;const $e=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ot=>(ot>this.params.maximumSequenceNumbersToCollect?(Zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ot}`),d=this.params.maximumSequenceNumbersToCollect):d=ot,C=Date.now(),this.nthSequenceNumber(e,d))).next(ot=>(o=ot,P=Date.now(),this.removeTargets(e,o,n))).next(ot=>(_=ot,Q=Date.now(),this.removeOrphanedDocuments(e,o))).next(ot=>(oe=Date.now(),ia()<=X.in.DEBUG&&Zt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-$e}ms\n\tDetermined least recently used ${d} in `+(P-C)+`ms\n\tRemoved ${_} targets in `+(Q-P)+`ms\n\tRemoved ${ot} documents in `+(oe-Q)+`ms\nTotal Duration: ${oe-$e}ms`),Lt.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:_,documentsRemoved:ot})))}}class v_{constructor(e,n){this.db=e,this.garbageCollector=new fm(this,n)}Dn(e){const n=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(d=>o+d))}Nn(e){let n=0;return this.Cn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Cn(e,n){return this.kn(e,(o,d)=>n(d))}addReference(e,n,o){return Qu(e,o)}removeReference(e,n,o){return Qu(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Qu(e,n)}Mn(e,n){return function(o,d){let _=!1;return af(o).zt(C=>hm(o,C,d).next(P=>(P&&(_=!0),Lt.resolve(!P)))).next(()=>_)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let _=0;return this.kn(e,(C,P)=>{if(P<=n){const Q=this.Mn(e,C).next(oe=>{if(!oe)return _++,o.getEntry(e,C).next(()=>(o.removeEntry(C,Ne.min()),Ei(e).delete([0,fo(C.path)])))});d.push(Q)}}).next(()=>Lt.waitFor(d)).next(()=>o.apply(e)).next(()=>_)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Qu(e,n)}kn(e,n){const o=Ei(e);let d,_=k.A;return o.Wt({index:"documentTargetsIndex"},([C,P],{path:Q,sequenceNumber:oe})=>{0===C?(_!==k.A&&n(new yn(Da(d)),_),_=oe,d=Q):_=k.A}).next(()=>{_!==k.A&&n(new yn(Da(d)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qu(r,e){return Ei(r).put((o=r.currentSequenceNumber,{targetId:0,path:fo(e.path),sequenceNumber:o}));var o}class kl{constructor(){this.changes=new ne(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Lt.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fp{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return Ju(e).put(o)}removeEntry(e,n,o){return Ju(e).delete(function(d,_){const C=d.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],Qh(_),C[C.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.On(e,o)))}getEntry(e,n){let o=xr.newInvalidDocument(n);return Ju(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xu(n))},(d,_)=>{o=this.Fn(n,_)}).next(()=>o)}$n(e,n){let o={size:0,document:xr.newInvalidDocument(n)};return Ju(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xu(n))},(d,_)=>{o={document:this.Fn(n,_),size:rf(_)}}).next(()=>o)}getEntries(e,n){let o=Is();return this.Bn(e,n,(d,_)=>{const C=this.Fn(d,_);o=o.insert(d,C)}).next(()=>o)}Ln(e,n){let o=Is(),d=new Ae(yn.comparator);return this.Bn(e,n,(_,C)=>{const P=this.Fn(_,C);o=o.insert(_,P),d=d.insert(_,rf(C))}).next(()=>({documents:o,Un:d}))}Bn(e,n,o){if(n.isEmpty())return Lt.resolve();let d=new gn(zd);n.forEach(Q=>d=d.add(Q));const _=IDBKeyRange.bound(Xu(d.first()),Xu(d.last())),C=d.getIterator();let P=C.getNext();return Ju(e).Wt({index:"documentKeyIndex",range:_},(Q,oe,$e)=>{const ot=yn.fromSegments([...oe.prefixPath,oe.collectionGroup,oe.documentId]);for(;P&&zd(P,ot)<0;)o(P,null),P=C.getNext();P&&P.isEqual(ot)&&(o(P,oe),P=C.hasNext()?C.getNext():null),P?$e.Ut(Xu(P)):$e.done()}).next(()=>{for(;P;)o(P,null),P=C.hasNext()?C.getNext():null})}getAllFromCollection(e,n,o){const d=[n.popLast().toArray(),n.lastSegment(),Qh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],_=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ju(e).qt(IDBKeyRange.bound(d,_,!0)).next(C=>{let P=Is();for(const Q of C){const oe=this.Fn(yn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);P=P.insert(oe.key,oe)}return P})}getAllFromCollectionGroup(e,n,o,d){let _=Is();const C=b_(n,o),P=b_(n,Lo.max());return Ju(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,P,!0)},(Q,oe,$e)=>{const ot=this.Fn(yn.fromSegments(oe.prefixPath.concat(oe.collectionGroup,oe.documentId)),oe);_=_.insert(ot.key,ot),_.size===d&&$e.done()}).next(()=>_)}newChangeBuffer(e){return new pm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return cf(e).get("remoteDocumentGlobalKey").next(n=>(Jn(!!n),n))}On(e,n){return cf(e).put("remoteDocumentGlobalKey",n)}Fn(e,n){if(n){const o=function am(r,e){let n;if(e.document)n=wo(r.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=yn.fromSegments(e.noDocument.path),d=Fc(e.noDocument.readTime);n=xr.newNoDocument(o,d),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Tn();{const o=yn.fromSegments(e.unknownDocument.path),d=Fc(e.unknownDocument.version);n=xr.newUnknownDocument(o,d)}}return e.readTime&&n.setReadTime(function(o){const d=new Re(o[0],o[1]);return Ne.fromTimestamp(d)}(e.readTime)),n}(this.M,n);if(!o.isNoDocument()||!o.version.isEqual(Ne.min()))return o}return xr.newInvalidDocument(e)}}class pm extends kl{constructor(e,n){super(),this.qn=e,this.trackRemovals=n,this.Gn=new ne(o=>o.toString(),(o,d)=>o.isEqual(d))}applyChanges(e){const n=[];let o=0,d=new gn((_,C)=>L(_.canonicalString(),C.canonicalString()));return this.changes.forEach((_,C)=>{const P=this.Gn.get(_);if(n.push(this.qn.removeEntry(e,_,P.readTime)),C.isValidDocument()){const Q=Yh(this.qn.M,C);d=d.add(_.path.popLast()),o+=rf(Q)-P.size,n.push(this.qn.addEntry(e,_,Q))}else if(o-=P.size,this.trackRemovals){const Q=Yh(this.qn.M,C.convertToNoDocument(Ne.min()));n.push(this.qn.addEntry(e,_,Q))}}),d.forEach(_=>{n.push(this.qn.indexManager.addToCollectionParentIndex(e,_))}),n.push(this.qn.updateMetadata(e,o)),Lt.waitFor(n)}getFromCache(e,n){return this.qn.$n(e,n).next(o=>(this.Gn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.qn.Ln(e,n).next(({documents:o,Un:d})=>(d.forEach((_,C)=>{this.Gn.set(_,{size:C,readTime:o.get(_).readTime})}),o))}}function cf(r){return Eo(r,"remoteDocumentGlobal")}function Ju(r){return Eo(r,"remoteDocumentsV14")}function Xu(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function b_(r,e){const n=e.documentKey.path.toArray();return[r,Qh(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function zd(r,e){const n=r.path.length-e.path.length;return 0!==n?n:yn.comparator(r,e)}class uf{constructor(e){this.M=e}kt(e,n,o,d){const _=new eu("createOrUpgrade",n);var P;o<1&&d>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vp,{unique:!0}),P.createObjectStore("documentMutations"),df(e),function(P){P.createObjectStore("remoteDocuments")}(e));let C=Lt.resolve();return o<3&&d>=3&&(0!==o&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),df(e)),C=C.next(()=>function(P){const Q=P.store("targetGlobal"),oe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return Q.put("targetGlobalKey",oe)}(_))),o<4&&d>=4&&(0!==o&&(C=C.next(()=>function(P,Q){return Q.store("mutations").qt().next(oe=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vp,{unique:!0});const $e=Q.store("mutations"),ot=oe.map(Mt=>$e.put(Mt));return Lt.waitFor(ot)})}(e,_))),C=C.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&d>=5&&(C=C.next(()=>this.Kn(_))),o<6&&d>=6&&(C=C.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(_)))),o<7&&d>=7&&(C=C.next(()=>this.jn(_))),o<8&&d>=8&&(C=C.next(()=>this.Wn(e,_))),o<9&&d>=9&&(C=C.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&d>=10&&(C=C.next(()=>this.zn(_))),o<11&&d>=11&&(C=C.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&d>=12&&(C=C.next(()=>{!function(P){const Q=P.createObjectStore("documentOverlays",{keyPath:$u});Q.createIndex("collectionPathOverlayIndex",Rl,{unique:!1}),Q.createIndex("collectionGroupOverlayIndex",Wh,{unique:!1})}(e)})),o<13&&d>=13&&(C=C.next(()=>function(P){const Q=P.createObjectStore("remoteDocumentsV14",{keyPath:tm});Q.createIndex("documentKeyIndex",nm),Q.createIndex("collectionGroupIndex",im)}(e)).next(()=>this.Hn(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&d>=14&&(C=C.next(()=>{!function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:Aa}).createIndex("sequenceNumberIndex",Ep,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:h_}).createIndex("documentKeyIndex",zh,{unique:!1})}(e)})),C}Qn(e){let n=0;return e.store("remoteDocuments").Wt((o,d)=>{n+=rf(d)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Kn(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.qt().next(d=>Lt.forEach(d,_=>{const C=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",C).next(P=>Lt.forEach(P,Q=>{Jn(Q.userId===_.userId);const oe=iu(this.M,Q);return Ha(e,_.userId,oe).next(()=>{})}))}))}jn(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(d=>{const _=[];return o.Wt((C,P)=>{const Q=new Ln(C),oe=[0,fo(Q)];_.push(n.get(oe).next($e=>$e?Lt.resolve():n.put({targetId:0,path:fo(Q),sequenceNumber:d.highestListenSequenceNumber})))}).next(()=>Lt.waitFor(_))})}Wn(e,n){e.createObjectStore("collectionParents",{keyPath:Va});const o=n.store("collectionParents"),d=new tf,_=C=>{if(d.add(C)){const P=C.lastSegment(),Q=C.popLast();return o.put({collectionId:P,parent:fo(Q)})}};return n.store("remoteDocuments").Wt({jt:!0},(C,P)=>{const Q=new Ln(C);return _(Q.popLast())}).next(()=>n.store("documentMutations").Wt({jt:!0},([C,P,Q],oe)=>{const $e=Da(P);return _($e.popLast())}))}zn(e){const n=e.store("targets");return n.Wt((o,d)=>{const _=ll(d),C=Ip(this.M,_);return n.put(C)})}Hn(e,n){const o=n.store("remoteDocuments"),d=[];return o.Wt((_,C)=>{const P=n.store("remoteDocumentsV14"),Q=(oe=C,oe.document?new yn(Ln.fromString(oe.document.name).popFirst(5)):oe.noDocument?yn.fromSegments(oe.noDocument.path):oe.unknownDocument?yn.fromSegments(oe.unknownDocument.path):Tn()).path.toArray();var oe;const $e={prefixPath:Q.slice(0,Q.length-2),collectionGroup:Q[Q.length-2],documentId:Q[Q.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};d.push(P.put($e))}).next(()=>Lt.waitFor(d))}}function df(r){r.createObjectStore("targetDocuments",{keyPath:wp}).createIndex("documentTargetsIndex",Uo,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rm,{unique:!0}),r.createObjectStore("targetGlobal")}const Wd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qd{constructor(e,n,o,d,_,C,P,Q,oe,$e,ot=13){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Jn=_,this.window=C,this.document=P,this.Yn=oe,this.Xn=$e,this.Zn=ot,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=Mt=>Promise.resolve(),!qd.vt())throw new tn(St.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new v_(this,d),this.cs=n+"main",this.M=new Vd(Q),this.hs=new Ia(this.cs,this.Zn,new uf(this.M)),this.ls=new y_(this.referenceDelegate,this.M),this.fs=new Fp(this.M),this.ds=new p_,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===$e&&zi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tn(St.FAILED_PRECONDITION,Wd);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new k(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var n=this;return this.us=function(){var o=(0,g.Z)(function*(d){if(n.started)return e(d)});return function(d){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var n=(0,g.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,g.Z)(function*(){n.started&&(yield n.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ff(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(n=>{n||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(n=>this.isPrimary&&!n?this.As(e).next(()=>!1):!!n&&this.Rs(e).next(()=>!0))).catch(e=>{if(Jl(e))return Zt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Zt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return hf(e).get("owner").next(n=>Lt.resolve(this.bs(n)))}Ps(e){return ff(e).delete(this.clientId)}Vs(){var e=this;return(0,g.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const d=Eo(o,"clientMetadata");return d.qt().next(_=>{const C=e.Ss(_,18e5),P=_.filter(Q=>-1===C.indexOf(Q));return Lt.forEach(P,Q=>d.delete(Q.clientId)).next(()=>P)})}).catch(()=>[]);if(e._s)for(const o of n)e._s.removeItem(e.Ds(o.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?Lt.resolve(!0):hf(e).get("owner").next(n=>{if(null!==n&&this.vs(n.leaseTimestampMs,5e3)&&!this.Cs(n.ownerId)){if(this.bs(n)&&this.networkEnabled)return!0;if(!this.bs(n)){if(!n.allowTabSynchronization)throw new tn(St.FAILED_PRECONDITION,Wd);return!1}}return!(!this.networkEnabled||!this.inForeground)||ff(e).qt().next(o=>void 0===this.Ss(o,5e3).find(d=>{if(this.clientId!==d.clientId){const C=!this.inForeground&&d.inForeground,P=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||C&&P)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Zt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,g.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new om(n,k.A);return e.As(o).next(()=>e.Ps(o))}),e.hs.close(),e.Ms()})()}Ss(e,n){return e.filter(o=>this.vs(o.updateTimeMs,n)&&!this.Cs(o.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>ff(e).qt().next(n=>this.Ss(n,18e5).map(o=>o.clientId)))}get started(){return this.es}getMutationQueue(e,n){return sf.Yt(e,this.M,n,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new um(e)}getDocumentOverlayCache(e){return Xh.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,n,o){Zt("IndexedDbPersistence","Starting transaction:",e);const d="readonly"===n?"readonly":"readwrite",_=14===(C=this.Zn)?Bd:13===C?Wu:12===C?qh:11===C?zu:void Tn();var C;let P;return this.hs.runTransaction(e,d,_,Q=>(P=new om(Q,this.ts?this.ts.next():k.A),"readwrite-primary"===n?this.Ts(P).next(oe=>!!oe||this.Es(P)).next(oe=>{if(!oe)throw zi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new tn(St.FAILED_PRECONDITION,qu);return o(P)}).next(oe=>this.Rs(P).next(()=>oe)):this.Fs(P).next(()=>o(P)))).then(Q=>(P.raiseOnCommittedEvent(),Q))}Fs(e){return hf(e).get("owner").next(n=>{if(null!==n&&this.vs(n.leaseTimestampMs,5e3)&&!this.Cs(n.ownerId)&&!this.bs(n)&&!(this.Xn||this.allowTabSynchronization&&n.allowTabSynchronization))throw new tn(St.FAILED_PRECONDITION,Wd)})}Rs(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hf(e).put("owner",n)}static vt(){return Ia.vt()}As(e){const n=hf(e);return n.get("owner").next(o=>this.bs(o)?(Zt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Lt.resolve())}vs(e,n){const o=Date.now();return!(e<o-n||e>o&&(zi(`Detected an update time that is in the future: ${e} > ${o}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,be.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var n;try{const o=null!==(null===(n=this._s)||void 0===n?void 0:n.getItem(this.Ds(e)));return Zt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return zi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){zi("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hf(r){return Eo(r,"owner")}function ff(r){return Eo(r,"clientMetadata")}function Pp(r,e){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+e+"/"+n+"/"}class w_{constructor(e,n,o){this.fs=e,this.$s=n,this.indexManager=o}Bs(e,n){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,n).next(o=>this.Ls(e,n,o))}Ls(e,n,o){return this.fs.getEntry(e,n).next(d=>{for(const _ of o)_.applyToLocalView(d);return d})}Us(e,n){e.forEach((o,d)=>{for(const _ of n)_.applyToLocalView(d)})}qs(e,n){return this.fs.getEntries(e,n).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,n){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>this.Us(n,o))}Ks(e,n,o){return yn.isDocumentKey((d=n).path)&&null===d.collectionGroup&&0===d.filters.length?this.Qs(e,n.path):Dc(n)?this.js(e,n,o):this.Ws(e,n,o);var d}Qs(e,n){return this.Bs(e,new yn(n)).next(o=>{let d=sl();return o.isFoundDocument()&&(d=d.insert(o.key,o)),d})}js(e,n,o){const d=n.collectionGroup;let _=sl();return this.indexManager.getCollectionParents(e,d).next(C=>Lt.forEach(C,P=>{const Q=(oe=n,$e=P.child(d),new Kr($e,null,oe.explicitOrderBy.slice(),oe.filters.slice(),oe.limit,oe.limitType,oe.startAt,oe.endAt));var oe,$e;return this.Ws(e,Q,o).next(oe=>{oe.forEach(($e,ot)=>{_=_.insert($e,ot)})})}).next(()=>_))}Ws(e,n,o){let d;return this.fs.getAllFromCollection(e,n.path,o).next(_=>(d=_,this.$s.getAllMutationBatchesAffectingQuery(e,n))).next(_=>{for(const C of _)for(const P of C.mutations){const Q=P.key;let oe=d.get(Q);null==oe&&(oe=xr.newInvalidDocument(Q),d=d.insert(Q,oe)),Ic(P,oe,C.localWriteTime),oe.isFoundDocument()||(d=d.remove(Q))}}).next(()=>(d.forEach((_,C)=>{tl(n,C)||(d=d.remove(_))}),d))}}class Np{constructor(e,n,o,d){this.targetId=e,this.fromCache=n,this.zs=o,this.Hs=d}static Js(e,n){let o=Tr(),d=Tr();for(const _ of n.docChanges)switch(_.type){case 0:o=o.add(_.doc.key);break;case 1:d=d.add(_.doc.key)}return new Np(e,n.fromCache,o,d)}}class Lp{Ys(e){this.Xs=e}Ks(e,n,o,d){return 0===(_=n).filters.length&&null===_.limit&&null==_.startAt&&null==_.endAt&&(0===_.explicitOrderBy.length||1===_.explicitOrderBy.length&&_.explicitOrderBy[0].field.isKeyField())||o.isEqual(Ne.min())?this.Zs(e,n):this.Xs.qs(e,d).next(_=>{const C=this.ti(n,_);return(da(n)||Ro(n))&&this.ei(n.limitType,C,d,o)?this.Zs(e,n):(ia()<=X.in.DEBUG&&Zt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),el(n)),this.Xs.Ks(e,n,xa(o,-1)).next(P=>(C.forEach(Q=>{P=P.insert(Q.key,Q)}),P)))});var _}ti(e,n){let o=new gn(Ad(e));return n.forEach((d,_)=>{tl(e,_)&&(o=o.add(_))}),o}ei(e,n,o,d){if(o.size!==n.size)return!0;const _="F"===e?n.last():n.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(d)>0)}Zs(e,n){return ia()<=X.in.DEBUG&&Zt("QueryEngine","Using full collection scan to execute query:",el(n)),this.Xs.Ks(e,n,Lo.min())}}class ty{constructor(e,n,o,d){this.persistence=e,this.ni=n,this.M=d,this.si=new Ae(L),this.ii=new ne(_=>Ws(_),Xa),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(o)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new w_(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.si))}}function gm(r,e,n,o){return new ty(r,e,n,o)}function E_(r,e){return pf.apply(this,arguments)}function pf(){return pf=(0,g.Z)(function*(r,e){const n=on(r);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let d;return n.$s.getAllMutationBatches(o).next(_=>(d=_,n.ui(e),n.$s.getAllMutationBatches(o))).next(_=>{const C=[],P=[];let Q=Tr();for(const oe of d){C.push(oe.batchId);for(const $e of oe.mutations)Q=Q.add($e.key)}for(const oe of _){P.push(oe.batchId);for(const $e of oe.mutations)Q=Q.add($e.key)}return n.ai.qs(o,Q).next(oe=>({ci:oe,removedBatchIds:C,addedBatchIds:P}))})})}),pf.apply(this,arguments)}function mm(r,e){const n=on(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const d=e.batch.keys(),_=n.oi.newChangeBuffer({trackRemovals:!0});return function(C,P,Q,oe){const $e=Q.batch,ot=$e.keys();let Mt=Lt.resolve();return ot.forEach(Qt=>{Mt=Mt.next(()=>oe.getEntry(P,Qt)).next(an=>{const Wn=Q.docVersions.get(Qt);Jn(null!==Wn),an.version.compareTo(Wn)<0&&($e.applyToRemoteDocument(an,Q),an.isValidDocument()&&(an.setReadTime(Q.commitVersion),oe.addEntry(an)))})}),Mt.next(()=>C.$s.removeMutationBatch(P,$e))}(n,o,e,_).next(()=>_.apply(o)).next(()=>n.$s.performConsistencyCheck(o)).next(()=>n.ai.qs(o,d))})}function _m(r){const e=on(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ls.getLastRemoteSnapshotVersion(n))}function Bp(r,e){const n=on(r),o=e.snapshotVersion;let d=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const C=n.oi.newChangeBuffer({trackRemovals:!0});d=n.si;const P=[];e.targetChanges.forEach((oe,$e)=>{const ot=d.get($e);if(!ot)return;P.push(n.ls.removeMatchingKeys(_,oe.removedDocuments,$e).next(()=>n.ls.addMatchingKeys(_,oe.addedDocuments,$e)));let Mt=ot.withSequenceNumber(_.currentSequenceNumber);var Qt,an,Wn;e.targetMismatches.has($e)?Mt=Mt.withResumeToken(Fr.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):oe.resumeToken.approximateByteSize()>0&&(Mt=Mt.withResumeToken(oe.resumeToken,o)),d=d.insert($e,Mt),an=Mt,Wn=oe,(0===(Qt=ot).resumeToken.approximateByteSize()||an.snapshotVersion.toMicroseconds()-Qt.snapshotVersion.toMicroseconds()>=3e8||Wn.addedDocuments.size+Wn.modifiedDocuments.size+Wn.removedDocuments.size>0)&&P.push(n.ls.updateTargetData(_,Mt))});let Q=Is();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&P.push(n.persistence.referenceDelegate.updateLimboDocument(_,oe))}),P.push(C_(_,C,e.documentUpdates).next(oe=>{Q=oe})),!o.isEqual(Ne.min())){const oe=n.ls.getLastRemoteSnapshotVersion(_).next($e=>n.ls.setTargetsMetadata(_,_.currentSequenceNumber,o));P.push(oe)}return Lt.waitFor(P).next(()=>C.apply(_)).next(()=>n.ai.Gs(_,Q)).next(()=>Q)}).then(_=>(n.si=d,_))}function C_(r,e,n){let o=Tr();return n.forEach(d=>o=o.add(d)),e.getEntries(r,o).next(d=>{let _=Is();return n.forEach((C,P)=>{const Q=d.get(C);P.isNoDocument()&&P.version.isEqual(Ne.min())?(e.removeEntry(C,P.readTime),_=_.insert(C,P)):!Q.isValidDocument()||P.version.compareTo(Q.version)>0||0===P.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(P),_=_.insert(C,P)):Zt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",Q.version," Watch version:",P.version)}),_})}function ny(r,e){const n=on(r);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.$s.getNextMutationBatchAfterBatchId(o,e)))}function Kd(r,e){const n=on(r);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let d;return n.ls.getTargetData(o,e).next(_=>_?(d=_,Lt.resolve(d)):n.ls.allocateTargetId(o).next(C=>(d=new Xl(e,C,0,o.currentSequenceNumber),n.ls.addTargetData(o,d).next(()=>d))))}).then(o=>{const d=n.si.get(o.targetId);return(null===d||o.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(n.si=n.si.insert(o.targetId,o),n.ii.set(e,o.targetId)),o})}function ed(r,e,n){return ym.apply(this,arguments)}function ym(){return ym=(0,g.Z)(function*(r,e,n){const o=on(r),d=o.si.get(e),_=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",_,C=>o.persistence.referenceDelegate.removeTarget(C,d)))}catch(C){if(!Jl(C))throw C;Zt("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}o.si=o.si.remove(e),o.ii.delete(d.target)}),ym.apply(this,arguments)}function Vp(r,e,n){const o=on(r);let d=Ne.min(),_=Tr();return o.persistence.runTransaction("Execute query","readonly",C=>function(P,Q,oe){const $e=on(P),ot=$e.ii.get(oe);return void 0!==ot?Lt.resolve($e.si.get(ot)):$e.ls.getTargetData(Q,oe)}(o,C,bo(e)).next(P=>{if(P)return d=P.lastLimboFreeSnapshotVersion,o.ls.getMatchingKeysForTargetId(C,P.targetId).next(Q=>{_=Q})}).next(()=>o.ni.Ks(C,e,n?d:Ne.min(),n?_:Tr())).next(P=>(A_(o,Zl(e),P),{documents:P,hi:_})))}function x_(r,e){const n=on(r),o=on(n.ls),d=n.si.get(e);return d?Promise.resolve(d.target):n.persistence.runTransaction("Get target data","readonly",_=>o.Et(_,e).next(C=>C?C.target:null))}function D_(r,e){const n=on(r),o=n.ri.get(e)||Ne.min();return n.persistence.runTransaction("Get new document changes","readonly",d=>n.oi.getAllFromCollectionGroup(d,e,xa(o,-1),Number.MAX_SAFE_INTEGER)).then(d=>(A_(n,e,d),d))}function A_(r,e,n){let o=Ne.min();n.forEach((d,_)=>{_.readTime.compareTo(o)>0&&(o=_.readTime)}),r.ri.set(e,o)}function Fl(){return Fl=(0,g.Z)(function*(r,e,n,o){const d=on(r);let _=Tr(),C=Is();for(const oe of n){const $e=e.li(oe.metadata.name);oe.document&&(_=_.add($e));const ot=e.fi(oe);ot.setReadTime(e.di(oe.metadata.readTime)),C=C.insert($e,ot)}const P=d.oi.newChangeBuffer({trackRemovals:!0}),Q=yield Kd(d,(oe=o,bo(Vo(Ln.fromString(`__bundle__/docs/${oe}`)))));var oe;return d.persistence.runTransaction("Apply bundle documents","readwrite",oe=>C_(oe,P,C).next($e=>(P.apply(oe),$e)).next($e=>d.ls.removeMatchingKeysForTargetId(oe,Q.targetId).next(()=>d.ls.addMatchingKeys(oe,_,Q.targetId)).next(()=>d.ai.Gs(oe,$e)).next(()=>$e)))}),Fl.apply(this,arguments)}function Up(r,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,g.Z)(function*(r,e,n=Tr()){const o=yield Kd(r,bo(Jh(e.bundledQuery))),d=on(r);return d.persistence.runTransaction("Save named query","readwrite",_=>{const C=ho(e.readTime);if(o.snapshotVersion.compareTo(C)>=0)return d.ds.saveNamedQuery(_,e);const P=o.withResumeToken(Fr.EMPTY_BYTE_STRING,C);return d.si=d.si.insert(P.targetId,P),d.ls.updateTargetData(_,P).next(()=>d.ls.removeMatchingKeysForTargetId(_,o.targetId)).next(()=>d.ls.addMatchingKeys(_,n,o.targetId)).next(()=>d.ds.saveNamedQuery(_,e))})}),Hp.apply(this,arguments)}class vm{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,n){return Lt.resolve(this._i.get(n))}saveBundleMetadata(e,n){var o;return this._i.set(n.id,{id:(o=n).id,version:o.version,createTime:ho(o.createTime)}),Lt.resolve()}getNamedQuery(e,n){return Lt.resolve(this.wi.get(n))}saveNamedQuery(e,n){return this.wi.set(n.name,{name:(o=n).name,query:Jh(o.bundledQuery),readTime:ho(o.readTime)}),Lt.resolve();var o}}class jp{constructor(){this.overlays=new Ae(yn.comparator),this.mi=new Map}getOverlay(e,n){return Lt.resolve(this.overlays.get(n))}saveOverlays(e,n,o){return o.forEach((d,_)=>{this.Xt(e,n,_)}),Lt.resolve()}removeOverlaysForBatchId(e,n,o){const d=this.mi.get(o);return void 0!==d&&(d.forEach(_=>this.overlays=this.overlays.remove(_)),this.mi.delete(o)),Lt.resolve()}getOverlaysForCollection(e,n,o){const d=ol(),_=n.length+1,C=new yn(n.child("")),P=this.overlays.getIteratorFrom(C);for(;P.hasNext();){const Q=P.getNext().value,oe=Q.getKey();if(!n.isPrefixOf(oe.path))break;oe.path.length===_&&Q.largestBatchId>o&&d.set(Q.getKey(),Q)}return Lt.resolve(d)}getOverlaysForCollectionGroup(e,n,o,d){let _=new Ae((oe,$e)=>oe-$e);const C=this.overlays.getIterator();for(;C.hasNext();){const oe=C.getNext().value;if(oe.getKey().getCollectionGroup()===n&&oe.largestBatchId>o){let $e=_.get(oe.largestBatchId);null===$e&&($e=ol(),_=_.insert(oe.largestBatchId,$e)),$e.set(oe.getKey(),oe)}}const P=ol(),Q=_.getIterator();for(;Q.hasNext()&&(Q.getNext().value.forEach((oe,$e)=>P.set(oe,$e)),!(P.size()>=d)););return Lt.resolve(P)}Xt(e,n,o){if(null===o)return;const d=this.overlays.get(o.key);if(null!==d){const C=this.mi.get(d.largestBatchId).delete(o.key);this.mi.set(d.largestBatchId,C)}this.overlays=this.overlays.insert(o.key,new Ap(n,o));let _=this.mi.get(n);void 0===_&&(_=Tr(),this.mi.set(n,_)),this.mi.set(n,_.add(o.key))}}class gf{constructor(){this.gi=new gn(so.yi),this.pi=new gn(so.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,n){const o=new so(e,n);this.gi=this.gi.add(o),this.pi=this.pi.add(o)}Ti(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.Ei(new so(e,n))}Ai(e,n){e.forEach(o=>this.removeReference(o,n))}Ri(e){const n=new yn(new Ln([])),o=new so(n,e),d=new so(n,e+1),_=[];return this.pi.forEachInRange([o,d],C=>{this.Ei(C),_.push(C.key)}),_}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const n=new yn(new Ln([])),o=new so(n,e),d=new so(n,e+1);let _=Tr();return this.pi.forEachInRange([o,d],C=>{_=_.add(C.key)}),_}containsKey(e){const n=new so(e,0),o=this.gi.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class so{constructor(e,n){this.key=e,this.Vi=n}static yi(e,n){return yn.comparator(e.key,n.key)||L(e.Vi,n.Vi)}static Ii(e,n){return L(e.Vi,n.Vi)||yn.comparator(e.key,n.key)}}class I_{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new gn(so.yi)}checkEmpty(e){return Lt.resolve(0===this.$s.length)}addMutationBatch(e,n,o,d){const _=this.vi;this.vi++;const C=new xp(_,n,o,d);this.$s.push(C);for(const P of d)this.Si=this.Si.add(new so(P.key,_)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return Lt.resolve(C)}lookupMutationBatch(e,n){return Lt.resolve(this.Di(n))}getNextMutationBatchAfterBatchId(e,n){const d=this.Ci(n+1),_=d<0?0:d;return Lt.resolve(this.$s.length>_?this.$s[_]:null)}getHighestUnacknowledgedBatchId(){return Lt.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return Lt.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new so(n,0),d=new so(n,Number.POSITIVE_INFINITY),_=[];return this.Si.forEachInRange([o,d],C=>{const P=this.Di(C.Vi);_.push(P)}),Lt.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new gn(L);return n.forEach(d=>{const _=new so(d,0),C=new so(d,Number.POSITIVE_INFINITY);this.Si.forEachInRange([_,C],P=>{o=o.add(P.Vi)})}),Lt.resolve(this.xi(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,d=o.length+1;let _=o;yn.isDocumentKey(_)||(_=_.child(""));const C=new so(new yn(_),0);let P=new gn(L);return this.Si.forEachWhile(Q=>{const oe=Q.key.path;return!!o.isPrefixOf(oe)&&(oe.length===d&&(P=P.add(Q.Vi)),!0)},C),Lt.resolve(this.xi(P))}xi(e){const n=[];return e.forEach(o=>{const d=this.Di(o);null!==d&&n.push(d)}),n}removeMutationBatch(e,n){Jn(0===this.Ni(n.batchId,"removed")),this.$s.shift();let o=this.Si;return Lt.forEach(n.mutations,d=>{const _=new so(d.key,n.batchId);return o=o.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.Si=o})}dn(e){}containsKey(e,n){const o=new so(n,0),d=this.Si.firstAfterOrEqual(o);return Lt.resolve(n.isEqual(d&&d.key))}performConsistencyCheck(e){return Lt.resolve()}Ni(e,n){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const n=this.Ci(e);return n<0||n>=this.$s.length?null:this.$s[n]}}class Pc{constructor(e){this.ki=e,this.docs=new Ae(yn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,d=this.docs.get(o),_=d?d.size:0,C=this.ki(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:C}),this.size+=C-_,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Lt.resolve(o?o.document.mutableCopy():xr.newInvalidDocument(n))}getEntries(e,n){let o=Is();return n.forEach(d=>{const _=this.docs.get(d);o=o.insert(d,_?_.document.mutableCopy():xr.newInvalidDocument(d))}),Lt.resolve(o)}getAllFromCollection(e,n,o){let d=Is();const _=new yn(n.child("")),C=this.docs.getIteratorFrom(_);for(;C.hasNext();){const{key:P,value:{document:Q}}=C.getNext();if(!n.isPrefixOf(P.path))break;P.path.length>n.length+1||Ou(Wl(Q),o)<=0||(d=d.insert(Q.key,Q.mutableCopy()))}return Lt.resolve(d)}getAllFromCollectionGroup(e,n,o,d){Tn()}Mi(e,n){return Lt.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new bm(this)}getSize(e){return Lt.resolve(this.size)}}class bm extends kl{constructor(e){super(),this.qn=e}applyChanges(e){const n=[];return this.changes.forEach((o,d)=>{d.isValidDocument()?n.push(this.qn.addEntry(e,d)):this.qn.removeEntry(o)}),Lt.waitFor(n)}getFromCache(e,n){return this.qn.getEntry(e,n)}getAllFromCache(e,n){return this.qn.getEntries(e,n)}}class S_{constructor(e){this.persistence=e,this.Oi=new ne(n=>Ws(n),Xa),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Fi=0,this.$i=new gf,this.targetCount=0,this.Bi=nc.mn()}forEachTarget(e,n){return this.Oi.forEach((o,d)=>n(d)),Lt.resolve()}getLastRemoteSnapshotVersion(e){return Lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Lt.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),Lt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Fi&&(this.Fi=n),Lt.resolve()}In(e){this.Oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Bi=new nc(n),this.highestTargetId=n),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,n){return this.In(n),this.targetCount+=1,Lt.resolve()}updateTargetData(e,n){return this.In(n),Lt.resolve()}removeTargetData(e,n){return this.Oi.delete(n.target),this.$i.Ri(n.targetId),this.targetCount-=1,Lt.resolve()}removeTargets(e,n,o){let d=0;const _=[];return this.Oi.forEach((C,P)=>{P.sequenceNumber<=n&&null===o.get(P.targetId)&&(this.Oi.delete(C),_.push(this.removeMatchingKeysForTargetId(e,P.targetId)),d++)}),Lt.waitFor(_).next(()=>d)}getTargetCount(e){return Lt.resolve(this.targetCount)}getTargetData(e,n){const o=this.Oi.get(n)||null;return Lt.resolve(o)}addMatchingKeys(e,n,o){return this.$i.Ti(n,o),Lt.resolve()}removeMatchingKeys(e,n,o){this.$i.Ai(n,o);const d=this.persistence.referenceDelegate,_=[];return d&&n.forEach(C=>{_.push(d.markPotentiallyOrphaned(e,C))}),Lt.waitFor(_)}removeMatchingKeysForTargetId(e,n){return this.$i.Ri(n),Lt.resolve()}getMatchingKeysForTargetId(e,n){const o=this.$i.Pi(n);return Lt.resolve(o)}containsKey(e,n){return Lt.resolve(this.$i.containsKey(n))}}class Gp{constructor(e,n){this.Li={},this.overlays={},this.ts=new k(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new S_(this),this.indexManager=new m_,this.fs=new Pc(o=>this.referenceDelegate.Ui(o)),this.M=new Vd(n),this.ds=new vm(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jp,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Li[e.toKey()];return o||(o=new I_(n,this.referenceDelegate),this.Li[e.toKey()]=o),o}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,n,o){Zt("MemoryPersistence","Starting transaction:",e);const d=new T_(this.ts.next());return this.referenceDelegate.qi(),o(d).next(_=>this.referenceDelegate.Gi(d).next(()=>_)).toPromise().then(_=>(d.raiseOnCommittedEvent(),_))}Ki(e,n){return Lt.or(Object.values(this.Li).map(o=>()=>o.containsKey(e,n)))}}class T_ extends Kh{constructor(e){super(),this.currentSequenceNumber=e}}class mf{constructor(e){this.persistence=e,this.Qi=new gf,this.ji=null}static Wi(e){return new mf(e)}get zi(){if(this.ji)return this.ji;throw Tn()}addReference(e,n,o){return this.Qi.addReference(o,n),this.zi.delete(o.toString()),Lt.resolve()}removeReference(e,n,o){return this.Qi.removeReference(o,n),this.zi.add(o.toString()),Lt.resolve()}markPotentiallyOrphaned(e,n){return this.zi.add(n.toString()),Lt.resolve()}removeTarget(e,n){this.Qi.Ri(n.targetId).forEach(d=>this.zi.add(d.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(d=>{d.forEach(_=>this.zi.add(_.toString()))}).next(()=>o.removeTargetData(e,n))}qi(){this.ji=new Set}Gi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lt.forEach(this.zi,o=>{const d=yn.fromPath(o);return this.Hi(e,d).next(_=>{_||n.removeEntry(d,Ne.min())})}).next(()=>(this.ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hi(e,n).next(o=>{o?this.zi.delete(n.toString()):this.zi.add(n.toString())})}Ui(e){return 0}Hi(e,n){return Lt.or([()=>Lt.resolve(this.Qi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ki(e,n)])}}function wm(r,e){return`firestore_clients_${r}_${e}`}function Em(r,e,n){let o=`firestore_mutations_${r}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function au(r,e){return`firestore_targets_${r}_${e}`}class sc{constructor(e,n,o,d){this.user=e,this.batchId=n,this.state=o,this.error=d}static Ji(e,n,o){const d=JSON.parse(o);let _,C="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return C&&d.error&&(C="string"==typeof d.error.message&&"string"==typeof d.error.code,C&&(_=new tn(d.error.code,d.error.message))),C?new sc(e,n,d.state,_):(zi("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class oc{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Ji(e,n){const o=JSON.parse(n);let d,_="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return _&&o.error&&(_="string"==typeof o.error.message&&"string"==typeof o.error.code,_&&(d=new tn(o.error.code,o.error.message))),_?new oc(e,o.state,d):(zi("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ul{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ji(e,n){const o=JSON.parse(n);let d="object"==typeof o&&o.activeTargetIds instanceof Array,_=Tc();for(let C=0;d&&C<o.activeTargetIds.length;++C)d=Mu(o.activeTargetIds[C]),_=_.add(o.activeTargetIds[C]);return d?new ul(e,_):(zi("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Nc{constructor(e,n){this.clientId=e,this.onlineState=n}static Ji(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Nc(n.clientId,n.onlineState):(zi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ac{constructor(){this.activeTargetIds=Tc()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ds{constructor(e,n,o,d,_){this.window=e,this.Jn=n,this.persistenceKey=o,this.tr=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ae(L),this.started=!1,this.ir=[];const C=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.rr=wm(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new ac),this.ar=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,g.Z)(function*(){const n=yield e.syncEngine.Os();for(const d of n){if(d===e.tr)continue;const _=e.getItem(wm(e.persistenceKey,d));if(_){const C=ul.Ji(d,_);C&&(e.sr=e.sr.insert(C.clientId,C))}}e._r();const o=e.storage.getItem(e.lr);if(o){const d=e.wr(o);d&&e.mr(d)}for(const d of e.ir)e.nr(d);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let n=!1;return this.sr.forEach((o,d)=>{d.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,n,o){this.yr(e,n,o),this.pr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(au(this.persistenceKey,e));if(o){const d=oc.Ji(e,o);d&&(n=d.state)}}return this.Ir.Xi(e),this._r(),n}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(au(this.persistenceKey,e))}updateQueryState(e,n,o){this.Tr(e,n,o)}handleUserChange(e,n,o){n.forEach(d=>{this.pr(d)}),this.currentUser=e,o.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Zt("SharedClientState","READ",e,n),n}setItem(e,n){Zt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Zt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Zt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void zi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,g.Z)(function*(){if(n.started){if(null!==o.key)if(n.ar.test(o.key)){if(null==o.newValue){const d=n.Rr(o.key);return n.br(d,null)}{const d=n.Pr(o.key,o.newValue);if(d)return n.br(d.clientId,d)}}else if(n.cr.test(o.key)){if(null!==o.newValue){const d=n.Vr(o.key,o.newValue);if(d)return n.vr(d)}}else if(n.hr.test(o.key)){if(null!==o.newValue){const d=n.Sr(o.key,o.newValue);if(d)return n.Dr(d)}}else if(o.key===n.lr){if(null!==o.newValue){const d=n.wr(o.newValue);if(d)return n.mr(d)}}else if(o.key===n.ur){const d=function(_){let C=k.A;if(null!=_)try{const P=JSON.parse(_);Jn("number"==typeof P),C=P}catch(P){zi("SharedClientState","Failed to read sequence number from WebStorage",P)}return C}(o.newValue);d!==k.A&&n.sequenceNumberHandler(d)}else if(o.key===n.dr){const d=n.Cr(o.newValue);yield Promise.all(d.map(_=>n.syncEngine.Nr(_)))}}else n.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,n,o){const d=new sc(this.currentUser,e,n,o),_=Em(this.persistenceKey,this.currentUser,e);this.setItem(_,d.Yi())}pr(e){const n=Em(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,n,o){const d=au(this.persistenceKey,e),_=new oc(e,n,o);this.setItem(d,_.Yi())}Ar(e){const n=JSON.stringify(Array.from(e));this.setItem(this.dr,n)}Rr(e){const n=this.ar.exec(e);return n?n[1]:null}Pr(e,n){const o=this.Rr(e);return ul.Ji(o,n)}Vr(e,n){const o=this.cr.exec(e),d=Number(o[1]);return sc.Ji(new or(void 0!==o[2]?o[2]:null),d,n)}Sr(e,n){const o=this.hr.exec(e),d=Number(o[1]);return oc.Ji(d,n)}wr(e){return Nc.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var n=this;return(0,g.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.kr(e.batchId,e.state,e.error);Zt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,n){const o=n?this.sr.insert(e,n):this.sr.remove(e),d=this.gr(this.sr),_=this.gr(o),C=[],P=[];return _.forEach(Q=>{d.has(Q)||C.push(Q)}),d.forEach(Q=>{_.has(Q)||P.push(Q)}),this.syncEngine.Or(C,P).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let n=Tc();return e.forEach((o,d)=>{n=n.unionWith(d.activeTargetIds)}),n}}class td{constructor(){this.Fr=new ac,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,o){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new ac,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zd{Br(e){}shutdown(){}}class Yd{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Zt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Zt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _f={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $p{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Qd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,o,d,_){const C=this.oo(e,n);Zt("RestConnection","Sending: ",C,o);const P={};return this.uo(P,d,_),this.ao(e,C,P,o).then(Q=>(Zt("RestConnection","Received: ",Q),Q),Q=>{throw Rr("RestConnection",`${e} failed with error: `,Q,"url: ",C,"request:",o),Q})}co(e,n,o,d,_){return this.ro(e,n,o,d,_)}uo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Or,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((d,_)=>e[_]=d),o&&o.headers.forEach((d,_)=>e[_]=d)}oo(e,n){return`${this.so}/v1/${n}:${_f[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,n,o,d){return new Promise((_,C)=>{const P=new fr;P.listenOnce(es.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case lo.NO_ERROR:const oe=P.getResponseJson();Zt("Connection","XHR received:",JSON.stringify(oe)),_(oe);break;case lo.TIMEOUT:Zt("Connection",'RPC "'+e+'" timed out'),C(new tn(St.DEADLINE_EXCEEDED,"Request time out"));break;case lo.HTTP_ERROR:const $e=P.getStatus();if(Zt("Connection",'RPC "'+e+'" failed with status:',$e,"response text:",P.getResponseText()),$e>0){const ot=P.getResponseJson().error;if(ot&&ot.status&&ot.message){const Mt=function(Qt){const an=Qt.toLowerCase().replace(/_/g,"-");return Object.values(St).indexOf(an)>=0?an:St.UNKNOWN}(ot.status);C(new tn(Mt,ot.message))}else C(new tn(St.UNKNOWN,"Server responded with status "+P.getStatus()))}else C(new tn(St.UNAVAILABLE,"Connection failed."));break;default:Tn()}}finally{Zt("Connection",'RPC "'+e+'" completed.')}});const Q=JSON.stringify(d);P.send(n,"POST",Q,o,15)})}ho(e,n,o){const d=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=Gs(),C=$s(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new ei({})),this.uo(P.initMessageHeaders,n,o),(0,be.uI)()||(0,be.b$)()||(0,be.d)()||(0,be.w1)()||(0,be.Mn)()||(0,be.ru)()||(P.httpHeadersOverwriteParam="$httpHeaders");const Q=d.join("");Zt("Connection","Creating WebChannel: "+Q,P);const oe=_.createWebChannel(Q,P);let $e=!1,ot=!1;const Mt=new $p({jr:an=>{ot?Zt("Connection","Not sending because WebChannel is closed:",an):($e||(Zt("Connection","Opening WebChannel transport."),oe.open(),$e=!0),Zt("Connection","WebChannel sending:",an),oe.send(an))},Wr:()=>oe.close()}),Qt=(an,Wn,Zi)=>{an.listen(Wn,Ks=>{try{Zi(Ks)}catch(dr){setTimeout(()=>{throw dr},0)}})};return Qt(oe,ci.EventType.OPEN,()=>{ot||Zt("Connection","WebChannel transport opened.")}),Qt(oe,ci.EventType.CLOSE,()=>{ot||(ot=!0,Zt("Connection","WebChannel transport closed"),Mt.eo())}),Qt(oe,ci.EventType.ERROR,an=>{ot||(ot=!0,Rr("Connection","WebChannel transport errored:",an),Mt.eo(new tn(St.UNAVAILABLE,"The operation could not be completed")))}),Qt(oe,ci.EventType.MESSAGE,an=>{var Wn;if(!ot){const Zi=an.data[0];Jn(!!Zi);const Ks=Zi,dr=Ks.error||(null===(Wn=Ks[0])||void 0===Wn?void 0:Wn.error);if(dr){Zt("Connection","WebChannel received error:",dr);const Fa=dr.status;let ao=function(Zr){const Iu=I[Zr];if(void 0!==Iu)return R(Iu)}(Fa),po=dr.message;void 0===ao&&(ao=St.INTERNAL,po="Unknown error status: "+Fa+" with message "+dr.message),ot=!0,Mt.eo(new tn(ao,po)),oe.close()}else Zt("Connection","WebChannel received:",Zi),Mt.no(Zi)}}),Qt(C,_n.STAT_EVENT,an=>{an.stat===jn.PROXY?Zt("Connection","Detected buffering proxy"):an.stat===jn.NOPROXY&&Zt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Mt.Zr()},0),Mt}}function zp(){return"undefined"!=typeof window?window:null}function nd(){return"undefined"!=typeof document?document:null}function id(r){return new Bh(r,!0)}class Jd{constructor(e,n,o=1e3,d=1.5,_=6e4){this.Jn=e,this.timerId=n,this.lo=o,this.fo=d,this._o=_,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),d=Math.max(0,n-o);d>0&&Zt("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,d,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class yf{constructor(e,n,o,d,_,C,P,Q){this.Jn=e,this.Ao=o,this.Ro=d,this.bo=_,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=P,this.listener=Q,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Jd(e,n)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,g.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,g.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,n){var o=this;return(0,g.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():n&&n.code===St.RESOURCE_EXHAUSTED?(zi(n.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):n&&n.code===St.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(n)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,d])=>{this.Po===n&&this.Uo(o,d)},o=>{e(()=>{const d=new tn(St.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(d)})})}Uo(e,n){const o=this.Lo(this.Po);this.stream=this.Go(e,n),this.stream.zr(()=>{o(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(d=>{o(()=>this.qo(d))}),this.stream.onMessage(d=>{o(()=>this.onMessage(d))})}xo(){var e=this;this.state=5,this.So.Io((0,g.Z)(function*(){e.state=0,e.start()}))}qo(e){return Zt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.Jn.enqueueAndForget(()=>this.Po===e?n():(Zt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cm extends yf{constructor(e,n,o,d,_,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,d,C),this.M=_}Go(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=function Hh(r,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(Q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:Tn(),d=e.targetChange.targetIds||[],_=function(Q,oe){return Q.N?(Jn(void 0===oe||"string"==typeof oe),Fr.fromBase64String(oe||"")):(Jn(void 0===oe||oe instanceof Uint8Array),Fr.fromUint8Array(oe||new Uint8Array))}(r,e.targetChange.resumeToken),C=e.targetChange.cause,P=C&&function(Q){const oe=void 0===Q.code?St.UNKNOWN:R(Q.code);return new tn(oe,Q.message||"")}(C);n=new Ml(o,d,_,P||null)}else if("documentChange"in e){const o=e.documentChange,d=Ol(r,o.document.name),_=ho(o.document.updateTime),C=new Bi({mapValue:{fields:o.document.fields}}),P=xr.newFoundDocument(d,_,C);n=new Mc(o.targetIds||[],o.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const o=e.documentDelete,d=Ol(r,o.document),_=o.readTime?ho(o.readTime):Ne.min(),C=xr.newNoDocument(d,_);n=new Mc([],o.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const o=e.documentRemove,d=Ol(r,o.document);n=new Mc([],o.removedTargetIds||[],d,null)}else{if(!("filter"in e))return Tn();{const o=e.filter,_=new Ph(o.count||0);n=new Uu(o.targetId,_)}}var Q;return n}(this.M,e),o=function(d){if(!("targetChange"in d))return Ne.min();const _=d.targetChange;return _.targetIds&&_.targetIds.length?Ne.min():_.readTime?ho(_.readTime):Ne.min()}(e);return this.listener.Ko(n,o)}Qo(e){const n={};n.database=Xc(this.M),n.addTarget=function(d,_){let C;const P=_.target;return C=Oo(P)?{documents:gp(d,P)}:{query:mp(d,P)},C.targetId=_.targetId,_.resumeToken.approximateByteSize()>0?C.resumeToken=hp(d,_.resumeToken):_.snapshotVersion.compareTo(Ne.min())>0&&(C.readTime=Jc(d,_.snapshotVersion.toTimestamp())),C}(this.M,e);const o=function _p(r,e){const n=function(o,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tn()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Oo(n)}jo(e){const n={};n.database=Xc(this.M),n.removeTarget=e,this.Oo(n)}}class vf extends yf{constructor(e,n,o,d,_,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,d,C),this.M=_,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(Jn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=function Fd(r,e){return r&&r.length>0?(Jn(void 0!==e),r.map(n=>function(o,d){let _=ho(o.updateTime?o.updateTime:d);return _.isEqual(Ne.min())&&(_=ho(d)),new xl(_,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=ho(e.commitTime);return this.listener.Jo(o,n)}return Jn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Xc(this.M),this.Oo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>ju(this.M,o))};this.Oo(n)}}class xm extends class{}{constructor(e,n,o,d){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=o,this.M=d,this.Zo=!1}tu(){if(this.Zo)throw new tn(St.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.bo.ro(e,n,o,d,_)).catch(d=>{throw"FirebaseError"===d.name?(d.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new tn(St.UNKNOWN,d.toString())})}co(e,n,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.bo.co(e,n,o,d,_)).catch(d=>{throw"FirebaseError"===d.name?(d.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new tn(St.UNKNOWN,d.toString())})}terminate(){this.Zo=!0}}class Dm{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(zi(n),this.su=!1):Zt("OnlineStateTracker",n)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Ho{constructor(e,n,o,d,_){var C=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=_,this.du.Br(P=>{o.enqueueAndForget((0,g.Z)(function*(){var Q;lc(C)&&(Zt("RemoteStore","Restarting streams for network reachability change."),yield(Q=(0,g.Z)(function*(oe){const $e=on(oe);$e.lu.add(4),yield Pl($e),$e._u.set("Unknown"),$e.lu.delete(4),yield lu($e)}),function(oe){return Q.apply(this,arguments)})(C))}))}),this._u=new Dm(o,d)}}function lu(r){return bf.apply(this,arguments)}function bf(){return bf=(0,g.Z)(function*(r){if(lc(r))for(const e of r.fu)yield e(!0)}),bf.apply(this,arguments)}function Pl(r){return cu.apply(this,arguments)}function cu(){return cu=(0,g.Z)(function*(r){for(const e of r.fu)yield e(!1)}),cu.apply(this,arguments)}function oo(r,e){const n=on(r);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),Ef(n)?th(n):ta(n).Co()&&wf(n,e))}function Xd(r,e){const n=on(r),o=ta(n);n.hu.delete(e),o.Co()&&eh(n,e),0===n.hu.size&&(o.Co()?o.ko():lc(n)&&n._u.set("Unknown"))}function wf(r,e){r.wu.Z(e.targetId),ta(r).Qo(e)}function eh(r,e){r.wu.Z(e),ta(r).jo(e)}function th(r){r.wu=new Lh({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.hu.get(e)||null}),ta(r).start(),r._u.iu()}function Ef(r){return lc(r)&&!ta(r).Do()&&r.hu.size>0}function lc(r){return 0===on(r).lu.size}function rd(r){r.wu=void 0}function Cf(r){return sd.apply(this,arguments)}function sd(){return sd=(0,g.Z)(function*(r){r.hu.forEach((e,n)=>{wf(r,e)})}),sd.apply(this,arguments)}function nh(r,e){return ja.apply(this,arguments)}function ja(){return ja=(0,g.Z)(function*(r,e){rd(r),Ef(r)?(r._u.uu(e),th(r)):r._u.set("Unknown")}),ja.apply(this,arguments)}function Wp(r,e,n){return Ga.apply(this,arguments)}function Ga(){return Ga=(0,g.Z)(function*(r,e,n){if(r._u.set("Online"),e instanceof Ml&&2===e.state&&e.cause)try{yield(o=(0,g.Z)(function*(d,_){const C=_.cause;for(const P of _.targetIds)d.hu.has(P)&&(yield d.remoteSyncer.rejectListen(P,C),d.hu.delete(P),d.wu.removeTarget(P))}),function(d,_){return o.apply(this,arguments)})(r,e)}catch(o){Zt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield od(r,o)}else if(e instanceof Mc?r.wu.ut(e):e instanceof Uu?r.wu._t(e):r.wu.ht(e),!n.isEqual(Ne.min()))try{const o=yield _m(r.localStore);n.compareTo(o)>=0&&(yield function(d,_){const C=d.wu.yt(_);return C.targetChanges.forEach((P,Q)=>{if(P.resumeToken.approximateByteSize()>0){const oe=d.hu.get(Q);oe&&d.hu.set(Q,oe.withResumeToken(P.resumeToken,_))}}),C.targetMismatches.forEach(P=>{const Q=d.hu.get(P);if(!Q)return;d.hu.set(P,Q.withResumeToken(Fr.EMPTY_BYTE_STRING,Q.snapshotVersion)),eh(d,P);const oe=new Xl(Q.target,P,1,Q.sequenceNumber);wf(d,oe)}),d.remoteSyncer.applyRemoteEvent(C)}(r,n))}catch(o){Zt("RemoteStore","Failed to raise snapshot:",o),yield od(r,o)}var o}),Ga.apply(this,arguments)}function od(r,e,n){return uu.apply(this,arguments)}function uu(){return uu=(0,g.Z)(function*(r,e,n){if(!Jl(e))throw e;r.lu.add(1),yield Pl(r),r._u.set("Offline"),n||(n=()=>_m(r.localStore)),r.asyncQueue.enqueueRetryable((0,g.Z)(function*(){Zt("RemoteStore","Retrying IndexedDB access"),yield n(),r.lu.delete(1),yield lu(r)}))}),uu.apply(this,arguments)}function $a(r,e){return e().catch(n=>od(r,n,e))}function cc(r){return xf.apply(this,arguments)}function xf(){return xf=(0,g.Z)(function*(r){const e=on(r),n=Sa(e);let o=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;Am(e);)try{const d=yield ny(e.localStore,o);if(null===d){0===e.cu.length&&n.ko();break}o=d.batchId,M_(e,d)}catch(d){yield od(e,d)}Df(e)&&qp(e)}),xf.apply(this,arguments)}function Am(r){return lc(r)&&r.cu.length<10}function M_(r,e){r.cu.push(e);const n=Sa(r);n.Co()&&n.zo&&n.Ho(e.mutations)}function Df(r){return lc(r)&&!Sa(r).Do()&&r.cu.length>0}function qp(r){Sa(r).start()}function Im(r){return Af.apply(this,arguments)}function Af(){return Af=(0,g.Z)(function*(r){Sa(r).Xo()}),Af.apply(this,arguments)}function fa(r){return ad.apply(this,arguments)}function ad(){return ad=(0,g.Z)(function*(r){const e=Sa(r);for(const n of r.cu)e.Ho(n.mutations)}),ad.apply(this,arguments)}function Kp(r,e,n){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,g.Z)(function*(r,e,n){const o=r.cu.shift(),d=Dp.from(o,e,n);yield $a(r,()=>r.remoteSyncer.applySuccessfulWrite(d)),yield cc(r)}),Lc.apply(this,arguments)}function If(r,e){return ih.apply(this,arguments)}function ih(){return ih=(0,g.Z)(function*(r,e){var n;e&&Sa(r).zo&&(yield(n=(0,g.Z)(function*(o,d){if(b(_=d.code)&&_!==St.ABORTED){const C=o.cu.shift();Sa(o).No(),yield $a(o,()=>o.remoteSyncer.rejectFailedWrite(C.batchId,d)),yield cc(o)}var _}),function(o,d){return n.apply(this,arguments)})(r,e)),Df(r)&&qp(r)}),ih.apply(this,arguments)}function ld(r,e){return cd.apply(this,arguments)}function cd(){return cd=(0,g.Z)(function*(r,e){const n=on(r);n.asyncQueue.verifyOperationInProgress(),Zt("RemoteStore","RemoteStore received new credentials");const o=lc(n);n.lu.add(3),yield Pl(n),o&&n._u.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),yield lu(n)}),cd.apply(this,arguments)}function rh(r,e){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,g.Z)(function*(r,e){const n=on(r);e?(n.lu.delete(2),yield lu(n)):e||(n.lu.add(2),yield Pl(n),n._u.set("Unknown"))}),Sf.apply(this,arguments)}function ta(r){return r.mu||(r.mu=function(e,n,o){const d=on(e);return d.tu(),new Cm(n,d.bo,d.authCredentials,d.appCheckCredentials,d.M,o)}(r.datastore,r.asyncQueue,{zr:Cf.bind(null,r),Jr:nh.bind(null,r),Ko:Wp.bind(null,r)}),r.fu.push(function(){var e=(0,g.Z)(function*(n){n?(r.mu.No(),Ef(r)?th(r):r._u.set("Unknown")):(yield r.mu.stop(),rd(r))});return function(n){return e.apply(this,arguments)}}())),r.mu}function Sa(r){return r.gu||(r.gu=function(e,n,o){const d=on(e);return d.tu(),new vf(n,d.bo,d.authCredentials,d.appCheckCredentials,d.M,o)}(r.datastore,r.asyncQueue,{zr:Im.bind(null,r),Jr:If.bind(null,r),Yo:fa.bind(null,r),Jo:Kp.bind(null,r)}),r.fu.push(function(){var e=(0,g.Z)(function*(n){n?(r.gu.No(),yield cc(r)):(yield r.gu.stop(),r.cu.length>0&&(Zt("RemoteStore",`Stopping write stream with ${r.cu.length} pending writes`),r.cu=[]))});return function(n){return e.apply(this,arguments)}}())),r.gu}class Zp{constructor(e,n,o,d,_){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=d,this.removalCallback=_,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,n,o,d,_){const C=Date.now()+o,P=new Zp(e,n,C,d,_);return P.start(o),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tn(St.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function du(r,e){if(zi("AsyncQueue",`${e}: ${r}`),Jl(r))return new tn(St.UNAVAILABLE,`${e}: ${r}`);throw r}class uc{constructor(e){this.comparator=e?(n,o)=>e(n,o)||yn.comparator(n.key,o.key):(n,o)=>yn.comparator(n.key,o.key),this.keyedMap=sl(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new uc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const d=n.getNext().key,_=o.getNext().key;if(!d.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new uc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Tf{constructor(){this.yu=new Ae(yn.comparator)}track(e){const n=e.doc.key,o=this.yu.get(n);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(n,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(n):1===e.type&&2===o.type?this.yu=this.yu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):Tn():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Fs{constructor(e,n,o,d,_,C,P,Q){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=d,this.mutatedKeys=_,this.fromCache=C,this.syncStateChanged=P,this.excludesMetadataChanges=Q}static fromInitialDocuments(e,n,o,d){const _=[];return n.forEach(C=>{_.push({type:0,doc:C})}),new Fs(e,n,uc.emptySet(n),_,o,d,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&El(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let d=0;d<n.length;d++)if(n[d].type!==o[d].type||!n[d].doc.isEqual(o[d].doc))return!1;return!0}}class ud{constructor(){this.Iu=void 0,this.listeners=[]}}class Yp{constructor(){this.queries=new ne(e=>Ru(e),El),this.onlineState="Unknown",this.Tu=new Set}}function jo(r,e){return hu.apply(this,arguments)}function hu(){return hu=(0,g.Z)(function*(r,e){const n=on(r),o=e.query;let d=!1,_=n.queries.get(o);if(_||(d=!0,_=new ud),d)try{_.Iu=yield n.onListen(o)}catch(C){const P=du(C,`Initialization of query '${el(e.query)}' failed`);return void e.onError(P)}n.queries.set(o,_),_.listeners.push(e),e.Eu(n.onlineState),_.Iu&&e.Au(_.Iu)&&hd(n)}),hu.apply(this,arguments)}function Mf(r,e){return sh.apply(this,arguments)}function sh(){return sh=(0,g.Z)(function*(r,e){const n=on(r),o=e.query;let d=!1;const _=n.queries.get(o);if(_){const C=_.listeners.indexOf(e);C>=0&&(_.listeners.splice(C,1),d=0===_.listeners.length)}if(d)return n.queries.delete(o),n.onUnlisten(o)}),sh.apply(this,arguments)}function O_(r,e){const n=on(r);let o=!1;for(const d of e){const C=n.queries.get(d.query);if(C){for(const P of C.listeners)P.Au(d)&&(o=!0);C.Iu=d}}o&&hd(n)}function dd(r,e,n){const o=on(r),d=o.queries.get(e);if(d)for(const _ of d.listeners)_.onError(n);o.queries.delete(e)}function hd(r){r.Tu.forEach(e=>{e.next()})}class fu{constructor(e,n,o){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const d of e.docChanges)3!==d.type&&o.push(d);e=new Fs(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),n=!0):this.vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}vu(e,n){return!e.fromCache||!(this.options.Du&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class fd{constructor(e,n){this.payload=e,this.byteLength=n}Cu(){return"metadata"in this.payload}}class Qp{constructor(e){this.M=e}li(e){return Ol(this.M,e)}fi(e){return e.metadata.exists?wo(this.M,e.document,!1):xr.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return ho(e)}}class Ta{constructor(e,n,o){this.xu=e,this.localStore=n,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ma(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=Ln.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ku(e){const n=new Map,o=new Qp(this.M);for(const d of e)if(d.metadata.queries){const _=o.li(d.metadata.name);for(const C of d.metadata.queries){const P=(n.get(C)||Tr()).add(_);n.set(C,P)}}return n}complete(){var e=this;return(0,g.Z)(function*(){const n=yield function iy(r,e,n,o){return Fl.apply(this,arguments)}(e.localStore,new Qp(e.M),e.documents,e.xu.id),o=e.ku(e.documents);for(const d of e.queries)yield Up(e.localStore,d,o.get(d.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:n}})()}}function Ma(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class pu{constructor(e){this.key=e}}class Of{constructor(e){this.key=e}}class Jp{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Tr(),this.mutatedKeys=Tr(),this.Lu=Ad(e),this.Uu=new uc(this.Lu)}get qu(){return this.Fu}Gu(e,n){const o=n?n.Ku:new Tf,d=n?n.Uu:this.Uu;let _=n?n.mutatedKeys:this.mutatedKeys,C=d,P=!1;const Q=da(this.query)&&d.size===this.query.limit?d.last():null,oe=Ro(this.query)&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal(($e,ot)=>{const Mt=d.get($e),Qt=tl(this.query,ot)?ot:null,an=!!Mt&&this.mutatedKeys.has(Mt.key),Wn=!!Qt&&(Qt.hasLocalMutations||this.mutatedKeys.has(Qt.key)&&Qt.hasCommittedMutations);let Zi=!1;Mt&&Qt?Mt.data.isEqual(Qt.data)?an!==Wn&&(o.track({type:3,doc:Qt}),Zi=!0):this.Qu(Mt,Qt)||(o.track({type:2,doc:Qt}),Zi=!0,(Q&&this.Lu(Qt,Q)>0||oe&&this.Lu(Qt,oe)<0)&&(P=!0)):!Mt&&Qt?(o.track({type:0,doc:Qt}),Zi=!0):Mt&&!Qt&&(o.track({type:1,doc:Mt}),Zi=!0,(Q||oe)&&(P=!0)),Zi&&(Qt?(C=C.add(Qt),_=Wn?_.add($e):_.delete($e)):(C=C.delete($e),_=_.delete($e)))}),da(this.query)||Ro(this.query))for(;C.size>this.query.limit;){const $e=da(this.query)?C.last():C.first();C=C.delete($e.key),_=_.delete($e.key),o.track({type:1,doc:$e})}return{Uu:C,Ku:o,ei:P,mutatedKeys:_}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const d=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const _=e.Ku.pu();_.sort((oe,$e)=>function(ot,Mt){const Qt=an=>{switch(an){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tn()}};return Qt(ot)-Qt(Mt)}(oe.type,$e.type)||this.Lu(oe.doc,$e.doc)),this.ju(o);const C=n?this.Wu():[],P=0===this.Bu.size&&this.current?1:0,Q=P!==this.$u;return this.$u=P,0!==_.length||Q?{snapshot:new Fs(this.query,e.Uu,d,_,e.mutatedKeys,0===P,Q,!1),zu:C}:{zu:C}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new Tf,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Tr(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const n=[];return e.forEach(o=>{this.Bu.has(o)||n.push(new Of(o))}),this.Bu.forEach(o=>{e.has(o)||n.push(new pu(o))}),n}Ju(e){this.Fu=e.hi,this.Bu=Tr();const n=this.Gu(e.documents);return this.applyChanges(n,!0)}Yu(){return Fs.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class dc{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class pd{constructor(e){this.key=e,this.Xu=!1}}class Xp{constructor(e,n,o,d,_,C){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=d,this.currentUser=_,this.maxConcurrentLimboResolutions=C,this.Zu={},this.ta=new ne(P=>Ru(P),El),this.ea=new Map,this.na=new Set,this.sa=new Ae(yn.comparator),this.ia=new Map,this.ra=new gf,this.oa={},this.ua=new Map,this.aa=nc.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function eg(r,e){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,g.Z)(function*(r,e){const n=hh(r);let o,d;const _=n.ta.get(e);if(_)o=_.targetId,n.sharedClientState.addLocalQueryTarget(o),d=_.view.Yu();else{const C=yield Kd(n.localStore,bo(e));n.isPrimaryClient&&oo(n.remoteStore,C);const P=n.sharedClientState.addLocalQueryTarget(C.targetId);o=C.targetId,d=yield oh(n,e,o,"current"===P)}return d}),Nl.apply(this,arguments)}function oh(r,e,n,o){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,g.Z)(function*(r,e,n,o){r.ha=($e,ot,Mt)=>{return(Qt=(0,g.Z)(function*(an,Wn,Zi,Ks){let dr=Wn.view.Gu(Zi);dr.ei&&(dr=yield Vp(an.localStore,Wn.query,!1).then(({documents:po})=>Wn.view.Gu(po,dr)));const Fa=Ks&&Ks.targetChanges.get(Wn.targetId),ao=Wn.view.applyChanges(dr,an.isPrimaryClient,Fa);return Nf(an,Wn.targetId,ao.zu),ao.snapshot}),function(an,Wn,Zi,Ks){return Qt.apply(this,arguments)})(r,$e,ot,Mt);var Qt};const d=yield Vp(r.localStore,e,!0),_=new Jp(e,d.hi),C=_.Gu(d.documents),P=Tl.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==r.onlineState),Q=_.applyChanges(C,r.isPrimaryClient,P);Nf(r,n,Q.zu);const oe=new dc(e,n,_);return r.ta.set(e,oe),r.ea.has(n)?r.ea.get(n).push(e):r.ea.set(n,[e]),Q.snapshot}),Rf.apply(this,arguments)}function Sm(r,e){return hc.apply(this,arguments)}function hc(){return hc=(0,g.Z)(function*(r,e){const n=on(r),o=n.ta.get(e),d=n.ea.get(o.targetId);if(d.length>1)return n.ea.set(o.targetId,d.filter(_=>!El(_,e))),void n.ta.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ed(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Xd(n.remoteStore,o.targetId),vd(n,o.targetId)}).catch(rc))):(vd(n,o.targetId),yield ed(n.localStore,o.targetId,!0))}),hc.apply(this,arguments)}function ah(){return ah=(0,g.Z)(function*(r,e,n){const o=Gf(r);try{const d=yield function(_,C){const P=on(_),Q=Re.now(),oe=C.reduce((ot,Mt)=>ot.add(Mt.key),Tr());let $e;return P.persistence.runTransaction("Locally write mutations","readwrite",ot=>P.ai.qs(ot,oe).next(Mt=>{$e=Mt;const Qt=[];for(const an of C){const Wn=Ba(an,$e.get(an.key));null!=Wn&&Qt.push(new Al(an.key,Wn,vl(Wn.value.mapValue),As.exists(!0)))}return P.$s.addMutationBatch(ot,Q,Qt,C)})).then(ot=>(ot.applyToLocalDocumentSet($e),{batchId:ot.batchId,changes:$e}))}(o.localStore,e);o.sharedClientState.addPendingMutation(d.batchId),function(_,C,P){let Q=_.oa[_.currentUser.toKey()];Q||(Q=new Ae(L)),Q=Q.insert(C,P),_.oa[_.currentUser.toKey()]=Q}(o,d.batchId,n),yield pc(o,d.changes),yield cc(o.remoteStore)}catch(d){const _=du(d,"Failed to persist write");n.reject(_)}}),ah.apply(this,arguments)}function gd(r,e){return md.apply(this,arguments)}function md(){return md=(0,g.Z)(function*(r,e){const n=on(r);try{const o=yield Bp(n.localStore,e);e.targetChanges.forEach((d,_)=>{const C=n.ia.get(_);C&&(Jn(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?C.Xu=!0:d.modifiedDocuments.size>0?Jn(C.Xu):d.removedDocuments.size>0&&(Jn(C.Xu),C.Xu=!1))}),yield pc(n,o,e)}catch(o){yield rc(o)}}),md.apply(this,arguments)}function Oa(r,e,n){const o=on(r);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const d=[];o.ta.forEach((_,C)=>{const P=C.view.Eu(e);P.snapshot&&d.push(P.snapshot)}),function(_,C){const P=on(_);P.onlineState=C;let Q=!1;P.queries.forEach((oe,$e)=>{for(const ot of $e.listeners)ot.Eu(C)&&(Q=!0)}),Q&&hd(P)}(o.eventManager,e),d.length&&o.Zu.Ko(d),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function kf(r,e,n){return _d.apply(this,arguments)}function _d(){return _d=(0,g.Z)(function*(r,e,n){const o=on(r);o.sharedClientState.updateQueryState(e,"rejected",n);const d=o.ia.get(e),_=d&&d.key;if(_){let C=new Ae(yn.comparator);C=C.insert(_,xr.newNoDocument(_,Ne.min()));const P=Tr().add(_),Q=new Sl(Ne.min(),new Map,new gn(L),C,P);yield gd(o,Q),o.sa=o.sa.remove(_),o.ia.delete(e),ig(o)}else yield ed(o.localStore,e,!1).then(()=>vd(o,e,n)).catch(rc)}),_d.apply(this,arguments)}function ng(r,e){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,g.Z)(function*(r,e){const n=on(r),o=e.batch.batchId;try{const d=yield mm(n.localStore,e);Pf(n,o,null),lh(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield pc(n,d)}catch(d){yield rc(d)}}),Ff.apply(this,arguments)}function Go(r,e,n){return yd.apply(this,arguments)}function yd(){return yd=(0,g.Z)(function*(r,e,n){const o=on(r);try{const d=yield function(_,C){const P=on(_);return P.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let oe;return P.$s.lookupMutationBatch(Q,C).next($e=>(Jn(null!==$e),oe=$e.keys(),P.$s.removeMutationBatch(Q,$e))).next(()=>P.$s.performConsistencyCheck(Q)).next(()=>P.ai.qs(Q,oe))})}(o.localStore,e);Pf(o,e,n),lh(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield pc(o,d)}catch(d){yield rc(d)}}),yd.apply(this,arguments)}function fc(){return fc=(0,g.Z)(function*(r,e){const n=on(r);lc(n.remoteStore)||Zt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(_){const C=on(_);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>C.$s.getHighestUnacknowledgedBatchId(P))}(n.localStore);if(-1===o)return void e.resolve();const d=n.ua.get(o)||[];d.push(e),n.ua.set(o,d)}catch(o){const d=du(o,"Initialization of waitForPendingWrites() operation failed");e.reject(d)}}),fc.apply(this,arguments)}function lh(r,e){(r.ua.get(e)||[]).forEach(n=>{n.resolve()}),r.ua.delete(e)}function Pf(r,e,n){const o=on(r);let d=o.oa[o.currentUser.toKey()];if(d){const _=d.get(e);_&&(n?_.reject(n):_.resolve(),d=d.remove(e)),o.oa[o.currentUser.toKey()]=d}}function vd(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.ea.get(e))r.ta.delete(o),n&&r.Zu.la(o,n);r.ea.delete(e),r.isPrimaryClient&&r.ra.Ri(e).forEach(o=>{r.ra.containsKey(o)||pa(r,o)})}function pa(r,e){r.na.delete(e.path.canonicalString());const n=r.sa.get(e);null!==n&&(Xd(r.remoteStore,n),r.sa=r.sa.remove(e),r.ia.delete(n),ig(r))}function Nf(r,e,n){for(const o of n)o instanceof pu?(r.ra.addReference(o.key,e),Mm(r,o)):o instanceof Of?(Zt("SyncEngine","Document no longer in limbo: "+o.key),r.ra.removeReference(o.key,e),r.ra.containsKey(o.key)||pa(r,o.key)):Tn()}function Mm(r,e){const n=e.key,o=n.path.canonicalString();r.sa.get(n)||r.na.has(o)||(Zt("SyncEngine","New document in limbo: "+n),r.na.add(o),ig(r))}function ig(r){for(;r.na.size>0&&r.sa.size<r.maxConcurrentLimboResolutions;){const e=r.na.values().next().value;r.na.delete(e);const n=new yn(Ln.fromString(e)),o=r.aa.next();r.ia.set(o,new pd(n)),r.sa=r.sa.insert(n,o),oo(r.remoteStore,new Xl(bo(Vo(n.path)),o,2,k.A))}}function pc(r,e,n){return bd.apply(this,arguments)}function bd(){return bd=(0,g.Z)(function*(r,e,n){const o=on(r),d=[],_=[],C=[];var P;o.ta.isEmpty()||(o.ta.forEach((P,Q)=>{C.push(o.ha(Q,e,n).then(oe=>{if(oe){o.isPrimaryClient&&o.sharedClientState.updateQueryState(Q.targetId,oe.fromCache?"not-current":"current"),d.push(oe);const $e=Np.Js(Q.targetId,oe);_.push($e)}}))}),yield Promise.all(C),o.Zu.Ko(d),yield(P=(0,g.Z)(function*(Q,oe){const $e=on(Q);try{yield $e.persistence.runTransaction("notifyLocalViewChanges","readwrite",ot=>Lt.forEach(oe,Mt=>Lt.forEach(Mt.zs,Qt=>$e.persistence.referenceDelegate.addReference(ot,Mt.targetId,Qt)).next(()=>Lt.forEach(Mt.Hs,Qt=>$e.persistence.referenceDelegate.removeReference(ot,Mt.targetId,Qt)))))}catch(ot){if(!Jl(ot))throw ot;Zt("LocalStore","Failed to update sequence numbers: "+ot)}for(const ot of oe){const Mt=ot.targetId;if(!ot.fromCache){const Qt=$e.si.get(Mt),Wn=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion);$e.si=$e.si.insert(Mt,Wn)}}}),function(Q,oe){return P.apply(this,arguments)})(o.localStore,_))}),bd.apply(this,arguments)}function Bc(r,e){return ch.apply(this,arguments)}function ch(){return ch=(0,g.Z)(function*(r,e){const n=on(r);if(!n.currentUser.isEqual(e)){Zt("SyncEngine","User change. New user:",e.toKey());const o=yield E_(n.localStore,e);n.currentUser=e,(d=n).ua.forEach(C=>{C.forEach(P=>{P.reject(new tn(St.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.ua.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield pc(n,o.ci)}var d}),ch.apply(this,arguments)}function rg(r,e){const n=on(r),o=n.ia.get(e);if(o&&o.Xu)return Tr().add(o.key);{let d=Tr();const _=n.ea.get(e);if(!_)return d;for(const C of _){const P=n.ta.get(C);d=d.unionWith(P.view.qu)}return d}}function Om(r,e){return ga.apply(this,arguments)}function ga(){return ga=(0,g.Z)(function*(r,e){const n=on(r),o=yield Vp(n.localStore,e.query,!0),d=e.view.Ju(o);return n.isPrimaryClient&&Nf(n,e.targetId,d.zu),d}),ga.apply(this,arguments)}function R_(r,e){return sg.apply(this,arguments)}function sg(){return sg=(0,g.Z)(function*(r,e){const n=on(r);return D_(n.localStore,e).then(o=>pc(n,o))}),sg.apply(this,arguments)}function Lf(r,e,n,o){return gu.apply(this,arguments)}function gu(){return gu=(0,g.Z)(function*(r,e,n,o){const d=on(r),_=yield function(C,P){const Q=on(C),oe=on(Q.$s);return Q.persistence.runTransaction("Lookup mutation documents","readonly",$e=>oe.ln($e,P).next(ot=>ot?Q.ai.qs($e,ot):Lt.resolve(null)))}(d.localStore,e);var P;null!==_?("pending"===n?yield cc(d.remoteStore):"acknowledged"===n||"rejected"===n?(Pf(d,e,o||null),lh(d,e),P=e,on(on(d.localStore).$s).dn(P)):Tn(),yield pc(d,_)):Zt("SyncEngine","Cannot apply mutation batch with id: "+e)}),gu.apply(this,arguments)}function Vf(){return Vf=(0,g.Z)(function*(r,e){const n=on(r);if(hh(n),Gf(n),!0===e&&!0!==n.ca){const o=n.sharedClientState.getAllActiveQueryTargets(),d=yield Rm(n,o.toArray());n.ca=!0,yield rh(n.remoteStore,!0);for(const _ of d)oo(n.remoteStore,_)}else if(!1===e&&!1!==n.ca){const o=[];let d=Promise.resolve();n.ea.forEach((_,C)=>{n.sharedClientState.isLocalQueryTarget(C)?o.push(C):d=d.then(()=>(vd(n,C),ed(n.localStore,C,!0))),Xd(n.remoteStore,C)}),yield d,yield Rm(n,o),function(_){const C=on(_);C.ia.forEach((P,Q)=>{Xd(C.remoteStore,Q)}),C.ra.bi(),C.ia=new Map,C.sa=new Ae(yn.comparator)}(n),n.ca=!1,yield rh(n.remoteStore,!1)}}),Vf.apply(this,arguments)}function Rm(r,e,n){return uh.apply(this,arguments)}function uh(){return uh=(0,g.Z)(function*(r,e,n){const o=on(r),d=[],_=[];for(const C of e){let P;const Q=o.ea.get(C);if(Q&&0!==Q.length){P=yield Kd(o.localStore,bo(Q[0]));for(const oe of Q){const $e=o.ta.get(oe),ot=yield Om(o,$e);ot.snapshot&&_.push(ot.snapshot)}}else{const oe=yield x_(o.localStore,C);P=yield Kd(o.localStore,oe),yield oh(o,dh(oe),C,!1)}d.push(P)}return o.Zu.Ko(_),d}),uh.apply(this,arguments)}function dh(r){return Vi(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function og(r){const e=on(r);return on(on(e.localStore).persistence).Os()}function Uf(r,e,n,o){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,g.Z)(function*(r,e,n,o){const d=on(r);if(d.ca)return void Zt("SyncEngine","Ignoring unexpected query state notification.");const _=d.ea.get(e);if(_&&_.length>0)switch(n){case"current":case"not-current":{const C=yield D_(d.localStore,Zl(_[0])),P=Sl.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield pc(d,C,P);break}case"rejected":yield ed(d.localStore,e,!0),vd(d,e,o);break;default:Tn()}}),Hf.apply(this,arguments)}function ag(r,e,n){return jf.apply(this,arguments)}function jf(){return jf=(0,g.Z)(function*(r,e,n){const o=hh(r);if(o.ca){for(const d of e){if(o.ea.has(d)){Zt("SyncEngine","Adding an already active target "+d);continue}const _=yield x_(o.localStore,d),C=yield Kd(o.localStore,_);yield oh(o,dh(_),C.targetId,!1),oo(o.remoteStore,C)}for(const d of n)o.ea.has(d)&&(yield ed(o.localStore,d,!1).then(()=>{Xd(o.remoteStore,d),vd(o,d)}).catch(rc))}}),jf.apply(this,arguments)}function hh(r){const e=on(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=gd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kf.bind(null,e),e.Zu.Ko=O_.bind(null,e.eventManager),e.Zu.la=dd.bind(null,e.eventManager),e}function Gf(r){const e=on(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ng.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Go.bind(null,e),e}class mu{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,g.Z)(function*(){n.M=id(e.databaseInfo.databaseId),n.sharedClientState=n.da(e),n.persistence=n._a(e),yield n.persistence.start(),n.gcScheduler=n.wa(e),n.localStore=n.ma(e)})()}wa(e){return null}ma(e){return gm(this.persistence,new Lp,e.initialUser,this.M)}_a(e){return new Gp(mf.Wi,this.M)}da(e){return new td}terminate(){var e=this;return(0,g.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gc extends mu{constructor(e,n,o){super(),this.ga=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,g.Z)(function*(){yield n().call(o,e),yield o.ga.initialize(o,e),yield Gf(o.ga.syncEngine),yield cc(o.ga.remoteStore),yield o.persistence.Is(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ma(e){return gm(this.persistence,new Lp,e.initialUser,this.M)}wa(e){return new cl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const n=Pp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ha.withCacheSize(this.cacheSizeBytes):ha.DEFAULT;return new qd(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,zp(),nd(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new td}}class lg extends gc{constructor(e,n){super(e,n,!1),this.ga=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,g.Z)(function*(){yield n().call(o,e);const d=o.ga.syncEngine;o.sharedClientState instanceof ds&&(o.sharedClientState.syncEngine={kr:Lf.bind(null,d),Mr:Uf.bind(null,d),Or:ag.bind(null,d),Os:og.bind(null,d),Nr:R_.bind(null,d)},yield o.sharedClientState.start()),yield o.persistence.Is(function(){var _=(0,g.Z)(function*(C){yield function Bf(r,e){return Vf.apply(this,arguments)}(o.ga.syncEngine,C),o.gcScheduler&&(C&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):C||o.gcScheduler.stop())});return function(C){return _.apply(this,arguments)}}())})()}da(e){const n=zp();if(!ds.vt(n))throw new tn(St.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Pp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ds(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class _u{initialize(e,n){var o=this;return(0,g.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=d=>Oa(o.syncEngine,d,1),o.remoteStore.remoteSyncer.handleCredentialChange=Bc.bind(null,o.syncEngine),yield rh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Yp}createDatastore(e){const n=id(e.databaseInfo.databaseId),o=new Qd(e.databaseInfo);return new xm(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,d=e.asyncQueue,_=P=>Oa(this.syncEngine,P,0),C=Yd.vt()?new Yd:new Zd,new Ho(n,o,d,_,C);var n,o,d,_,C}createSyncEngine(e,n){return function(o,d,_,C,P,Q,oe){const $e=new Xp(o,d,_,C,P,Q);return oe&&($e.ca=!0),$e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,g.Z)(function*(n){const o=on(n);Zt("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield Pl(o),o.du.shutdown(),o._u.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function km(r,e=10240){let n=0;return{read:()=>(0,g.Z)(function*(){if(n<r.byteLength){const o={value:r.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,g.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class zf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class cg{constructor(e,n){this.Ia=e,this.M=n,this.metadata=new br,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,g.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,g.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,g.Z)(function*(){const n=yield e.Aa();if(null===n)return null;const o=e.Ta.decode(n),d=Number(o);isNaN(d)&&e.Ra(`length string (${o}) is not valid number`);const _=yield e.ba(d);return new fd(JSON.parse(_),n.length+d)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,g.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const n=e.Pa();n<0&&e.Ra("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}ba(e){var n=this;return(0,g.Z)(function*(){for(;n.buffer.length<e;)(yield n.Va())&&n.Ra("Reached the end of bundle when more is expected.");const o=n.Ta.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,g.Z)(function*(){const n=yield e.Ia.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Ll{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,g.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new tn(St.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(d=(0,g.Z)(function*(_,C){const P=on(_),Q=Xc(P.M)+"/documents",oe={documents:C.map(Qt=>Rd(P.M,Qt))},$e=yield P.co("BatchGetDocuments",Q,oe),ot=new Map;$e.forEach(Qt=>{const an=function kd(r,e){return"found"in e?function(n,o){Jn(!!o.found);const d=Ol(n,o.found.name),_=ho(o.found.updateTime),C=new Bi({mapValue:{fields:o.found.fields}});return xr.newFoundDocument(d,_,C)}(r,e):"missing"in e?function(n,o){Jn(!!o.missing),Jn(!!o.readTime);const d=Ol(n,o.missing),_=ho(o.readTime);return xr.newNoDocument(d,_)}(r,e):Tn()}(P.M,Qt);ot.set(an.key.toString(),an)});const Mt=[];return C.forEach(Qt=>{const an=ot.get(Qt.toString());Jn(!!an),Mt.push(an)}),Mt}),function(_,C){return d.apply(this,arguments)})(n.datastore,e);var d;return o.forEach(d=>n.recordVersion(d)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ql(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,g.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,d)=>{const _=yn.fromPath(d);e.mutations.push(new Bu(_,e.precondition(_)))}),yield(o=(0,g.Z)(function*(d,_){const C=on(d),P=Xc(C.M)+"/documents",Q={writes:_.map(oe=>ju(C.M,oe))};yield C.ro("Commit",P,Q)}),function(d,_){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Tn();n=Ne.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new tn(St.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?As.updateTime(n):As.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ne.min()))throw new tn(St.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return As.updateTime(n)}return As.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class fh{constructor(e,n,o,d){this.asyncQueue=e,this.datastore=n,this.updateFunction=o,this.deferred=d,this.va=5,this.So=new Jd(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,g.Z)(function*(){const n=new Ll(e.datastore),o=e.Da(n);o&&o.then(d=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(d)}).catch(_=>{e.Ca(_)}))}).catch(d=>{e.Ca(d)})}))}Da(e){try{const n=this.updateFunction(e);return!Pr(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!b(n)}return!1}}class $o{constructor(e,n,o,d){var _=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=d,this.user=or.UNAUTHENTICATED,this.clientId=A.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var C=(0,g.Z)(function*(P){Zt("FirestoreClient","Received user=",P.uid),yield _.authCredentialListener(P),_.user=P});return function(P){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(o,C=>(Zt("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,g.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tn(St.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const d=du(o,"Failed to shutdown persistence");n.reject(d)}})),n.promise}}function Vc(r,e){return wd.apply(this,arguments)}function wd(){return wd=(0,g.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Zt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield e.initialize(n);let o=n.initialUser;r.setCredentialChangeListener(function(){var d=(0,g.Z)(function*(_){o.isEqual(_)||(yield E_(e.localStore,_),o=_)});return function(_){return d.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),wd.apply(this,arguments)}function Ra(r,e){return ph.apply(this,arguments)}function ph(){return ph=(0,g.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const n=yield Uc(r);Zt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(n,o),r.setCredentialChangeListener(d=>ld(e.remoteStore,d)),r.setAppCheckTokenChangeListener((d,_)=>ld(e.remoteStore,_)),r.onlineComponents=e}),ph.apply(this,arguments)}function Uc(r){return mc.apply(this,arguments)}function mc(){return mc=(0,g.Z)(function*(r){return r.offlineComponents||(Zt("FirestoreClient","Using default OfflineComponentProvider"),yield Vc(r,new mu)),r.offlineComponents}),mc.apply(this,arguments)}function _c(r){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,g.Z)(function*(r){return r.onlineComponents||(Zt("FirestoreClient","Using default OnlineComponentProvider"),yield Ra(r,new _u)),r.onlineComponents}),Hc.apply(this,arguments)}function yu(r){return Uc(r).then(e=>e.persistence)}function yc(r){return Uc(r).then(e=>e.localStore)}function jc(r){return _c(r).then(e=>e.remoteStore)}function dl(r){return _c(r).then(e=>e.syncEngine)}function ka(r){return gh.apply(this,arguments)}function gh(){return gh=(0,g.Z)(function*(r){const e=yield _c(r),n=e.eventManager;return n.onListen=eg.bind(null,e.syncEngine),n.onUnlisten=Sm.bind(null,e.syncEngine),n}),gh.apply(this,arguments)}function Wf(r,e,n={}){const o=new br;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(d,_,C,P,Q){const oe=new zf({next:ot=>{_.enqueueAndForget(()=>Mf(d,$e));const Mt=ot.docs.has(C);!Mt&&ot.fromCache?Q.reject(new tn(St.UNAVAILABLE,"Failed to get document because the client is offline.")):Mt&&ot.fromCache&&P&&"server"===P.source?Q.reject(new tn(St.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Q.resolve(ot)},error:ot=>Q.reject(ot)}),$e=new fu(Vo(C.path),oe,{includeMetadataChanges:!0,Du:!0});return jo(d,$e)}(yield ka(r),r.asyncQueue,e,n,o)})),o.promise}function qf(r,e,n={}){const o=new br;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(d,_,C,P,Q){const oe=new zf({next:ot=>{_.enqueueAndForget(()=>Mf(d,$e)),ot.fromCache&&"server"===P.source?Q.reject(new tn(St.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Q.resolve(ot)},error:ot=>Q.reject(ot)}),$e=new fu(C,oe,{includeMetadataChanges:!0,Du:!0});return jo(d,$e)}(yield ka(r),r.asyncQueue,e,n,o)})),o.promise}const Nm=new Map;function Kf(r,e,n){if(!n)throw new tn(St.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function pg(r,e,n,o){if(!0===e&&!0===o)throw new tn(St.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Lm(r){if(!yn.isDocumentKey(r))throw new tn(St.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bm(r){if(yn.isDocumentKey(r))throw new tn(St.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _h(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(n=r).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof r?"a function":Tn()}function gr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new tn(St.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_h(r);throw new tn(St.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function gg(r,e){if(e<=0)throw new tn(St.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Vm{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new tn(St.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tn(St.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,pg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vm({}),this._settingsFrozen=!1,e instanceof wa?this._databaseId=e:(this._app=e,this._databaseId=function(d){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new tn(St.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(d.options.projectId)}(e))}get app(){if(!this._app)throw new tn(St.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tn(St.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vm(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Po;switch(n.type){case"gapi":const o=n.client;return Jn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Pa(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new tn(St.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Nm.get(e);n&&(Zt("ComponentProvider","Removing Datastore"),Nm.delete(e),n.terminate())}(this),Promise.resolve()}}function ry(r,e,n,o={}){var d;const _=(r=gr(r,yh))._getSettings();if("firestore.googleapis.com"!==_.host&&_.host!==e&&Rr("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},_),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let C,P;if("string"==typeof o.mockUserToken)C=o.mockUserToken,P=or.MOCK_USER;else{C=(0,be.Sg)(o.mockUserToken,null===(d=r._app)||void 0===d?void 0:d.options.projectId);const Q=o.mockUserToken.sub||o.mockUserToken.user_id;if(!Q)throw new tn(St.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new or(Q)}r._authCredentials=new wc(new ra(C,P))}}class Ps{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ps(this.firestore,e,this._key)}}class Co{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class za extends Co{constructor(e,n,o){super(e,n,Vo(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ps(this.firestore,null,new yn(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function F_(r,e,...n){if(r=(0,be.m9)(r),Kf("collection","path",e),r instanceof yh){const o=Ln.fromString(e,...n);return Bm(o),new za(r,null,o)}{if(!(r instanceof Ps||r instanceof za))throw new tn(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Ln.fromString(e,...n));return Bm(o),new za(r.firestore,null,o)}}function Um(r,e){if(r=gr(r,yh),Kf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tn(St.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Co(r,null,(n=e,new Kr(Ln.emptyPath(),n)));var n}function Hm(r,e,...n){if(r=(0,be.m9)(r),1===arguments.length&&(e=A.R()),Kf("doc","path",e),r instanceof yh){const o=Ln.fromString(e,...n);return Lm(o),new Ps(r,null,new yn(o))}{if(!(r instanceof Ps||r instanceof za))throw new tn(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Ln.fromString(e,...n));return Lm(o),new Ps(r.firestore,r instanceof za?r.converter:null,new yn(o))}}function P_(r,e){return r=(0,be.m9)(r),e=(0,be.m9)(e),(r instanceof Ps||r instanceof za)&&(e instanceof Ps||e instanceof za)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function mg(r,e){return r=(0,be.m9)(r),e=(0,be.m9)(e),r instanceof Co&&e instanceof Co&&r.firestore===e.firestore&&El(r._query,e._query)&&r.converter===e.converter}class _g{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Jd(this,"async_queue_retry"),this.Ua=()=>{const n=nd();n&&Zt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=nd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const n=nd();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const n=new br;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,g.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(n){if(!Jl(n))throw n;Zt("AsyncQueue","Operation failed with retryable error: "+n)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const n=this.Na.then(()=>(this.$a=!0,e().catch(o=>{throw this.Fa=o,this.$a=!1,zi("INTERNAL UNHANDLED ERROR: ",function(_){let C=_.message||"";return _.stack&&(C=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),C}(o)),o}).then(o=>(this.$a=!1,o))));return this.Na=n,n}enqueueAfterDelay(e,n,o){this.qa(),this.La.indexOf(e)>-1&&(n=0);const d=Zp.createAndSchedule(this,e,n,o,_=>this.Qa(_));return this.Oa.push(d),d}qa(){this.Fa&&Tn()}verifyOperationInProgress(){}ja(){var e=this;return(0,g.Z)(function*(){let n;do{n=e.Na,yield n}while(n!==e.Na)})()}Wa(e){for(const n of this.Oa)if(n.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Oa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const n=this.Oa.indexOf(e);this.Oa.splice(n,1)}}function yg(r){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const d of["next","error","complete"])if(d in o&&"function"==typeof o[d])return!0;return!1}(r)}class N_{constructor(){this._progressObserver={},this._taskCompletionResolver=new br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const vu=-1;class hs extends yh{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new _g,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ed(this),this._firestoreClient.terminate()}}function bg(r=(0,l.getApp)()){return(0,l._getProvider)(r,"firestore").getImmediate()}function Ns(r){return r._firestoreClient||Ed(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Ed(r){var e;const n=r._freezeSettings(),o=(_=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new qc(r._databaseId,_,r._persistenceKey,(P=n).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var _,P;r._firestoreClient=new $o(r._authCredentials,r._appCheckCredentials,r._queue,o)}function jm(r,e){Zf(r=gr(r,hs));const n=Ns(r),o=r._freezeSettings(),d=new _u;return Eg(n,d,new gc(d,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function wg(r){Zf(r=gr(r,hs));const e=Ns(r),n=r._freezeSettings(),o=new _u;return Eg(e,o,new lg(o,n.cacheSizeBytes))}function Eg(r,e,n){const o=new br;return r.asyncQueue.enqueue((0,g.Z)(function*(){try{yield Vc(r,n),yield Ra(r,e),o.resolve()}catch(d){if(!("FirebaseError"===(_=d).name?_.code===St.FAILED_PRECONDITION||_.code===St.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw d;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+d),o.reject(d)}var _})).then(()=>o.promise)}function L_(r){if(r._initialized&&!r._terminated)throw new tn(St.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new br;return r._queue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{yield(n=(0,g.Z)(function*(o){if(!Ia.vt())return Promise.resolve();const d=o+"main";yield Ia.delete(d)}),function(o){return n.apply(this,arguments)})(Pp(r._databaseId,r._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Gm(r){return function(e){const n=new br;return e.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function Tm(r,e){return fc.apply(this,arguments)}(yield dl(e),n)})),n.promise}(Ns(r=gr(r,hs)))}function $m(r){return function Fm(r){return r.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield yu(r),n=yield jc(r);return e.setNetworkEnabled(!0),function(o){const d=on(o);return d.lu.delete(0),lu(d)}(n)}))}(Ns(r=gr(r,hs)))}function Cg(r){return function mh(r){return r.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield yu(r),n=yield jc(r);return e.setNetworkEnabled(!1),(o=(0,g.Z)(function*(d){const _=on(d);_.lu.add(0),yield Pl(_),_._u.set("Offline")}),function(d){return o.apply(this,arguments)})(n);var o}))}(Ns(r=gr(r,hs)))}function zm(r,e){const n=Ns(r=gr(r,hs)),o=new N_;return function k_(r,e,n,o){const d=function(_,C){let P;return P="string"==typeof _?(new TextEncoder).encode(_):_,Q=function(Q,oe){if(Q instanceof Uint8Array)return km(Q,void 0);if(Q instanceof ArrayBuffer)return km(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new cg(Q,C);var Q}(n,id(e));r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){!function $f(r,e,n){const o=on(r);var d;(d=(0,g.Z)(function*(_,C,P){try{const Q=yield C.getMetadata();if(yield function(Mt,Qt){const an=on(Mt),Wn=ho(Qt.createTime);return an.persistence.runTransaction("hasNewerBundle","readonly",Zi=>an.ds.getBundleMetadata(Zi,Qt.id)).then(Zi=>!!Zi&&Zi.createTime.compareTo(Wn)>=0)}(_.localStore,Q))return yield C.close(),P._completeWith({taskState:"Success",documentsLoaded:(Mt=Q).totalDocuments,bytesLoaded:Mt.totalBytes,totalDocuments:Mt.totalDocuments,totalBytes:Mt.totalBytes}),Promise.resolve(new Set);P._updateProgress(Ma(Q));const oe=new Ta(Q,_.localStore,C.M);let $e=yield C.fa();for(;$e;){const Mt=yield oe.Nu($e);Mt&&P._updateProgress(Mt),$e=yield C.fa()}const ot=yield oe.complete();return yield pc(_,ot.Ou,void 0),yield function(Mt,Qt){const an=on(Mt);return an.persistence.runTransaction("Save bundle","readwrite",Wn=>an.ds.saveBundleMetadata(Wn,Qt))}(_.localStore,Q),P._completeWith(ot.progress),Promise.resolve(ot.Mu)}catch(Q){return Rr("SyncEngine",`Loading bundle failed with ${Q}`),P._failWith(Q),Promise.resolve(new Set)}var Mt}),function(_,C,P){return d.apply(this,arguments)})(o,e,n).then(d=>{o.sharedClientState.notifyBundleLoaded(d)})}(yield dl(r),d,o)}))}(n,r._databaseId,e,o),o}function Dg(r,e){return function Pm(r,e){return r.asyncQueue.enqueue((0,g.Z)(function*(){return function(n,o){const d=on(n);return d.persistence.runTransaction("Get named query","readonly",_=>d.ds.getNamedQuery(_,o))}(yield yc(r),e)}))}(Ns(r=gr(r,hs)),e).then(n=>n?new Co(r,null,n.query):null)}function Zf(r){if(r._initialized||r._terminated)throw new tn(St.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new tn(St.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(Fr.fromBase64String(e))}catch(n){throw new tn(St.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bl(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gc{constructor(e){this._methodName=e}}class Yf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new tn(St.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new tn(St.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return L(this._lat,e._lat)||L(this._long,e._long)}}const Cd=/^__.*__$/;class Ag{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Al(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dl(e,this.data,n,this.fieldTransforms)}}class vh{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Al(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bh(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tn()}}class wh{constructor(e,n,o,d,_,C){this.settings=e,this.databaseId=n,this.M=o,this.ignoreUndefinedProperties=d,void 0===_&&this.Ja(),this.fieldTransforms=_||[],this.fieldMask=C||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new wh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),d=this.Xa({path:o,tc:!1});return d.ec(e),d}nc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),d=this.Xa({path:o,tc:!1});return d.Ja(),d}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return Th(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(bh(this.Ya)&&Cd.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class Qf{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=o||id(e)}uc(e,n,o,d=!1){return new wh({Ya:e,methodName:n,oc:o,path:pr.emptyPath(),tc:!1,rc:d},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function fl(r){const e=r._freezeSettings(),n=id(r._databaseId);return new Qf(r._databaseId,!!e.ignoreUndefinedProperties,n)}function bu(r,e,n,o,d,_={}){const C=r.uc(_.merge||_.mergeFields?2:0,e,n,d);Ih("Data must be an object, but it was:",C,o);const P=Ah(o,C);let Q,oe;if(_.merge)Q=new ns(C.fieldMask),oe=C.fieldTransforms;else if(_.mergeFields){const $e=[];for(const ot of _.mergeFields){const Mt=Sh(e,ot,n);if(!C.contains(Mt))throw new tn(St.INVALID_ARGUMENT,`Field '${Mt}' is specified in your field mask but missing from your input data.`);Xf($e,Mt)||$e.push(Mt)}Q=new ns($e),oe=C.fieldTransforms.filter(ot=>Q.covers(ot.field))}else Q=null,oe=C.fieldTransforms;return new Ag(new Bi(P),Q,oe)}class Eh extends Gc{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eh}}function Ig(r,e,n){return new wh({Ya:3,oc:e.settings.oc,methodName:r._methodName,tc:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class wu extends Gc{_toFieldTransform(e){return new il(e.path,new La)}isEqual(e){return e instanceof wu}}class Ch extends Gc{constructor(e,n){super(e),this.ac=n}_toFieldTransform(e){const n=Ig(this,e,!0),o=this.ac.map(_=>Vl(_,n)),d=new Xo(o);return new il(e.path,d)}isEqual(e){return this===e}}class Sg extends Gc{constructor(e,n){super(e),this.ac=n}_toFieldTransform(e){const n=Ig(this,e,!0),o=this.ac.map(_=>Vl(_,n)),d=new Cl(o);return new il(e.path,d)}isEqual(e){return this===e}}class Tg extends Gc{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=new ea(e.M,Id(e.M,this.cc));return new il(e.path,n)}isEqual(e){return this===e}}function xh(r,e,n,o){const d=r.uc(1,e,n);Ih("Data must be an object, but it was:",d,o);const _=[],C=Bi.empty();Sn(o,(Q,oe)=>{const $e=xd(e,Q,n);oe=(0,be.m9)(oe);const ot=d.nc($e);if(oe instanceof Eh)_.push($e);else{const Mt=Vl(oe,ot);null!=Mt&&(_.push($e),C.set($e,Mt))}});const P=new ns(_);return new vh(C,P,d.fieldTransforms)}function Dh(r,e,n,o,d,_){const C=r.uc(1,e,n),P=[Sh(e,o,n)],Q=[d];if(_.length%2!=0)throw new tn(St.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Mt=0;Mt<_.length;Mt+=2)P.push(Sh(e,_[Mt])),Q.push(_[Mt+1]);const oe=[],$e=Bi.empty();for(let Mt=P.length-1;Mt>=0;--Mt)if(!Xf(oe,P[Mt])){const Qt=P[Mt];let an=Q[Mt];an=(0,be.m9)(an);const Wn=C.nc(Qt);if(an instanceof Eh)oe.push(Qt);else{const Zi=Vl(an,Wn);null!=Zi&&(oe.push(Qt),$e.set(Qt,Zi))}}const ot=new ns(oe);return new vh($e,ot,C.fieldTransforms)}function Jf(r,e,n,o=!1){return Vl(n,r.uc(o?4:3,e))}function Vl(r,e){if(Mg(r=(0,be.m9)(r)))return Ih("Unsupported field value:",e,r),Ah(r,e);if(r instanceof Gc)return function(n,o){if(!bh(o.Ya))throw o.ic(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ic(`${n._methodName}() is not currently supported inside arrays`);const d=n._toFieldTransform(o);d&&o.fieldTransforms.push(d)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(n,o){const d=[];let _=0;for(const C of n){let P=Vl(C,o.sc(_));null==P&&(P={nullValue:"NULL_VALUE"}),d.push(P),_++}return{arrayValue:{values:d}}}(r,e)}return function(n,o){if(null===(n=(0,be.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Id(o.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const d=Re.fromDate(n);return{timestampValue:Jc(o.M,d)}}if(n instanceof Re){const d=new Re(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Jc(o.M,d)}}if(n instanceof Yf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Bl)return{bytesValue:hp(o.M,n._byteString)};if(n instanceof Ps){const d=o.databaseId,_=n.firestore._databaseId;if(!_.isEqual(d))throw o.ic(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:fp(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.ic(`Unsupported field value: ${_h(n)}`)}(r,e)}function Ah(r,e){const n={};return xi(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sn(r,(o,d)=>{const _=Vl(d,e.Za(o));null!=_&&(n[o]=_)}),{mapValue:{fields:n}}}function Mg(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof Yf||r instanceof Bl||r instanceof Ps||r instanceof Gc)}function Ih(r,e,n){if(!Mg(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=_h(n);throw e.ic("an object"===o?r+" a custom object":r+" "+o)}var o}function Sh(r,e,n){if((e=(0,be.m9)(e))instanceof hl)return e._internalPath;if("string"==typeof e)return xd(r,e);throw Th("Field path arguments must be of type string or ",r,!1,void 0,n)}const Og=new RegExp("[~\\*/\\[\\]]");function xd(r,e,n){if(e.search(Og)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new hl(...e.split("."))._internalPath}catch(o){throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Th(r,e,n,o,d){const _=o&&!o.isEmpty(),C=void 0!==d;let P=`Function ${e}() called with invalid data`;n&&(P+=" (via `toFirestore()`)"),P+=". ";let Q="";return(_||C)&&(Q+=" (found",_&&(Q+=` in field ${o}`),C&&(Q+=` in document ${d}`),Q+=")"),new tn(St.INVALID_ARGUMENT,P+r+Q)}function Xf(r,e){return r.some(n=>n.isEqual(e))}class Eu{constructor(e,n,o,d,_){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=d,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Ps(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ep(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ep extends Eu{data(){return super.data()}}function Cu(r,e){return"string"==typeof e?xd(r,e):e instanceof hl?e._internalPath:e._delegate._internalPath}class $c{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vc extends Eu{constructor(e,n,o,d,_,C){super(e,n,o,d,C),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Cu("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class xu extends vc{data(e={}){return super.data(e)}}class Ul{constructor(e,n,o,d){this._firestore=e,this._userDataWriter=n,this._snapshot=d,this.metadata=new $c(d.hasPendingWrites,d.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new xu(this._firestore,this._userDataWriter,o.key,o,new $c(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new tn(St.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,d){if(o._snapshot.oldDocs.isEmpty()){let _=0;return o._snapshot.docChanges.map(C=>({type:"added",doc:new xu(o._firestore,o._userDataWriter,C.doc.key,C.doc,new $c(o._snapshot.mutatedKeys.has(C.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:_++}))}{let _=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(C=>d||3!==C.type).map(C=>{const P=new xu(o._firestore,o._userDataWriter,C.doc.key,C.doc,new $c(o._snapshot.mutatedKeys.has(C.doc.key),o._snapshot.fromCache),o.query.converter);let Q=-1,oe=-1;return 0!==C.type&&(Q=_.indexOf(C.doc.key),_=_.delete(C.doc.key)),1!==C.type&&(_=_.add(C.doc),oe=_.indexOf(C.doc.key)),{type:Rg(C.type),doc:P,oldIndex:Q,newIndex:oe}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Rg(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tn()}}function kg(r,e){return r instanceof vc&&e instanceof vc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Ul&&e instanceof Ul&&r._firestore===e._firestore&&mg(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function tp(r){if(Ro(r)&&0===r.explicitOrderBy.length)throw new tn(St.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Du{}function B_(r,...e){for(const n of e)r=n._apply(r);return r}class V_ extends Du{constructor(e,n,o){super(),this.hc=e,this.lc=n,this.fc=o,this.type="where"}_apply(e){const n=fl(e.firestore),o=function(d,_,C,P,Q,oe,$e){let ot;if(Q.isKeyField()){if("array-contains"===oe||"array-contains-any"===oe)throw new tn(St.INVALID_ARGUMENT,`Invalid Query. You can't perform '${oe}' queries on documentId().`);if("in"===oe||"not-in"===oe){Ug($e,oe);const Qt=[];for(const an of $e)Qt.push(Vg(P,d,an));ot={arrayValue:{values:Qt}}}else ot=Vg(P,d,$e)}else"in"!==oe&&"not-in"!==oe&&"array-contains-any"!==oe||Ug($e,oe),ot=Jf(C,"where",$e,"in"===oe||"not-in"===oe);const Mt=os.create(Q,oe,ot);return function(Qt,an){if(an.S()){const Zi=ko(Qt);if(null!==Zi&&!Zi.isEqual(an.field))throw new tn(St.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Zi.toString()}' and '${an.field.toString()}'`);const Ks=Jo(Qt);null!==Ks&&Hg(0,an.field,Ks)}const Wn=function(Zi,Ks){for(const dr of Zi.filters)if(Ks.indexOf(dr.op)>=0)return dr.op;return null}(Qt,function(Zi){switch(Zi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(an.op));if(null!==Wn)throw new tn(St.INVALID_ARGUMENT,Wn===an.op?`Invalid query. You cannot use more than one '${an.op.toString()}' filter.`:`Invalid query. You cannot use '${an.op.toString()}' filters with '${Wn.toString()}' filters.`)}(d,Mt),Mt}(e._query,0,n,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Co(e.firestore,e.converter,function(d,_){const C=d.filters.concat([_]);return new Kr(d.path,d.collectionGroup,d.explicitOrderBy.slice(),C,d.limit,d.limitType,d.startAt,d.endAt)}(e._query,o))}}function Wm(r,e,n){const o=e,d=Cu("where",r);return new V_(d,o,n)}class Fg extends Du{constructor(e,n){super(),this.hc=e,this.dc=n,this.type="orderBy"}_apply(e){const n=function(o,d,_){if(null!==o.startAt)throw new tn(St.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new tn(St.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new ui(d,_);return function(P,Q){if(null===Jo(P)){const oe=ko(P);null!==oe&&Hg(0,oe,Q.field)}}(o,C),C}(e._query,this.hc,this.dc);return new Co(e.firestore,e.converter,function(o,d){const _=o.explicitOrderBy.concat([d]);return new Kr(o.path,o.collectionGroup,_,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function qm(r,e="asc"){const n=e,o=Cu("orderBy",r);return new Fg(o,n)}class qs extends Du{constructor(e,n,o){super(),this.type=e,this._c=n,this.wc=o}_apply(e){return new Co(e.firestore,e.converter,Kl(e._query,this._c,this.wc))}}function Pg(r){return gg("limit",r),new qs("limit",r,"F")}function Km(r){return gg("limitToLast",r),new qs("limitToLast",r,"L")}class Ng extends Du{constructor(e,n,o){super(),this.type=e,this.mc=n,this.gc=o}_apply(e){const n=Bg(e,this.type,this.mc,this.gc);return new Co(e.firestore,e.converter,(d=n,new Kr((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,d,o.endAt)));var o,d}}function Zm(...r){return new Ng("startAt",r,!0)}function Ym(...r){return new Ng("startAfter",r,!1)}class np extends Du{constructor(e,n,o){super(),this.type=e,this.mc=n,this.gc=o}_apply(e){const n=Bg(e,this.type,this.mc,this.gc);return new Co(e.firestore,e.converter,(d=n,new Kr((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,d)));var o,d}}function Lg(...r){return new np("endBefore",r,!1)}function Au(...r){return new np("endAt",r,!0)}function Bg(r,e,n,o){if(n[0]=(0,be.m9)(n[0]),n[0]instanceof Eu)return function(d,_,C,P,Q){if(!P)throw new tn(St.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const oe=[];for(const $e of wl(d))if($e.field.isKeyField())oe.push(Ea(_,P.key));else{const ot=P.data.field($e.field);if(Ec(ot))throw new tn(St.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+$e.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ot){const Mt=$e.field.canonicalString();throw new tn(St.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Mt}' (used as the orderBy) does not exist.`)}oe.push(ot)}return new fn(oe,Q)}(r._query,r.firestore._databaseId,e,n[0]._document,o);{const d=fl(r.firestore);return function(_,C,P,Q,oe,$e){const ot=_.explicitOrderBy;if(oe.length>ot.length)throw new tn(St.INVALID_ARGUMENT,`Too many arguments provided to ${Q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Mt=[];for(let Qt=0;Qt<oe.length;Qt++){const an=oe[Qt];if(ot[Qt].field.isKeyField()){if("string"!=typeof an)throw new tn(St.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Q}(), but got a ${typeof an}`);if(!Dc(_)&&-1!==an.indexOf("/"))throw new tn(St.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Q}() must be a plain document ID, but '${an}' contains a slash.`);const Wn=_.path.child(Ln.fromString(an));if(!yn.isDocumentKey(Wn))throw new tn(St.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Q}() must result in a valid document path, but '${Wn}' is not because it contains an odd number of segments.`);const Zi=new yn(Wn);Mt.push(Ea(C,Zi))}else{const Wn=Jf(P,Q,an);Mt.push(Wn)}}return new fn(Mt,$e)}(r._query,r.firestore._databaseId,d,e,n,o)}}function Vg(r,e,n){if("string"==typeof(n=(0,be.m9)(n))){if(""===n)throw new tn(St.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dc(e)&&-1!==n.indexOf("/"))throw new tn(St.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Ln.fromString(n));if(!yn.isDocumentKey(o))throw new tn(St.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ea(r,new yn(o))}if(n instanceof Ps)return Ea(r,n._key);throw new tn(St.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(n)}.`)}function Ug(r,e){if(!Array.isArray(r)||0===r.length)throw new tn(St.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new tn(St.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Hg(r,e,n){if(!n.isEqual(e))throw new tn(St.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Mh{convertValue(e,n="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Tn()}}convertObject(e,n){const o={};return Sn(e.fields,(d,_)=>{o[d]=this.convertValue(_,n)}),o}convertGeoPoint(e){return new Yf(wr(e.latitude),wr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=$l(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(vo(e));default:return null}}convertTimestamp(e){const n=Rs(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Ln.fromString(e);Jn(Ld(o));const d=new wa(o.get(1),o.get(3)),_=new yn(o.popFirst(5));return d.isEqual(n)||zi(`Document ${_} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),_}}function Oh(r,e,n){let o;return o=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,o}class ip extends Mh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ps(this.firestore,null,n)}}class Rh{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=fl(e)}set(e,n,o){this._verifyNotCommitted();const d=xo(e,this._firestore),_=Oh(d.converter,n,o),C=bu(this._dataReader,"WriteBatch.set",d._key,_,null!==d.converter,o);return this._mutations.push(C.toMutation(d._key,As.none())),this}update(e,n,o,...d){this._verifyNotCommitted();const _=xo(e,this._firestore);let C;return C="string"==typeof(n=(0,be.m9)(n))||n instanceof hl?Dh(this._dataReader,"WriteBatch.update",_._key,n,o,d):xh(this._dataReader,"WriteBatch.update",_._key,n),this._mutations.push(C.toMutation(_._key,As.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=xo(e,this._firestore);return this._mutations=this._mutations.concat(new Ql(n._key,As.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tn(St.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xo(r,e){if((r=(0,be.m9)(r)).firestore!==e)throw new tn(St.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Qm(r){r=gr(r,Ps);const e=gr(r.firestore,hs);return Wf(Ns(e),r._key).then(n=>v(e,r,n))}class bc extends Mh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ps(this.firestore,null,n)}}function Hl(r){r=gr(r,Ps);const e=gr(r.firestore,hs),n=Ns(e),o=new bc(e);return function ug(r,e){const n=new br;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(o=(0,g.Z)(function*(d,_,C){try{const P=yield function(Q,oe){const $e=on(Q);return $e.persistence.runTransaction("read document","readonly",ot=>$e.ai.Bs(ot,oe))}(d,_);P.isFoundDocument()?C.resolve(P):P.isNoDocument()?C.resolve(null):C.reject(new tn(St.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const Q=du(P,`Failed to get document '${_} from cache`);C.reject(Q)}}),function(d,_,C){return o.apply(this,arguments)})(yield yc(r),e,n);var o})),n.promise}(n,r._key).then(d=>new vc(e,o,r._key,d,new $c(null!==d&&d.hasLocalMutations,!0),r.converter))}function Wa(r){r=gr(r,Ps);const e=gr(r.firestore,hs);return Wf(Ns(e),r._key,{source:"server"}).then(n=>v(e,r,n))}function pl(r){r=gr(r,Co);const e=gr(r.firestore,hs),n=Ns(e),o=new bc(e);return tp(r._query),qf(n,r._query).then(d=>new Ul(e,o,r,d))}function rp(r){r=gr(r,Co);const e=gr(r.firestore,hs),n=Ns(e),o=new bc(e);return function dg(r,e){const n=new br;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(o=(0,g.Z)(function*(d,_,C){try{const P=yield Vp(d,_,!0),Q=new Jp(_,P.hi),oe=Q.Gu(P.documents),$e=Q.applyChanges(oe,!1);C.resolve($e.snapshot)}catch(P){const Q=du(P,`Failed to execute query '${_} against cache`);C.reject(Q)}}),function(d,_,C){return o.apply(this,arguments)})(yield yc(r),e,n);var o})),n.promise}(n,r._query).then(d=>new Ul(e,o,r,d))}function Jm(r){r=gr(r,Co);const e=gr(r.firestore,hs),n=Ns(e),o=new bc(e);return qf(n,r._query,{source:"server"}).then(d=>new Ul(e,o,r,d))}function Xm(r,e,n){r=gr(r,Ps);const o=gr(r.firestore,hs),d=Oh(r.converter,e,n);return f(o,[bu(fl(o),"setDoc",r._key,d,null!==r.converter,n).toMutation(r._key,As.none())])}function e_(r,e,n,...o){r=gr(r,Ps);const d=gr(r.firestore,hs),_=fl(d);let C;return C="string"==typeof(e=(0,be.m9)(e))||e instanceof hl?Dh(_,"updateDoc",r._key,e,n,o):xh(_,"updateDoc",r._key,e),f(d,[C.toMutation(r._key,As.exists(!0))])}function t_(r){return f(gr(r.firestore,hs),[new Ql(r._key,As.none())])}function u(r,e){const n=gr(r.firestore,hs),o=Hm(r),d=Oh(r.converter,e);return f(n,[bu(fl(r.firestore),"addDoc",o._key,d,null!==r.converter,{}).toMutation(o._key,As.exists(!1))]).then(()=>o)}function h(r,...e){var n,o,d;r=(0,be.m9)(r);let _={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||yg(e[C])||(_=e[C],C++);const P={includeMetadataChanges:_.includeMetadataChanges};if(yg(e[C])){const ot=e[C];e[C]=null===(n=ot.next)||void 0===n?void 0:n.bind(ot),e[C+1]=null===(o=ot.error)||void 0===o?void 0:o.bind(ot),e[C+2]=null===(d=ot.complete)||void 0===d?void 0:d.bind(ot)}let Q,oe,$e;if(r instanceof Ps)oe=gr(r.firestore,hs),$e=Vo(r._key.path),Q={next:ot=>{e[C]&&e[C](v(oe,r,ot))},error:e[C+1],complete:e[C+2]};else{const ot=gr(r,Co);oe=gr(ot.firestore,hs),$e=ot._query;const Mt=new bc(oe);Q={next:Qt=>{e[C]&&e[C](new Ul(oe,Mt,ot,Qt))},error:e[C+1],complete:e[C+2]},tp(r._query)}return function(ot,Mt,Qt,an){const Wn=new zf(an),Zi=new fu(Mt,Wn,Qt);return ot.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return jo(yield ka(ot),Zi)})),()=>{Wn.pa(),ot.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return Mf(yield ka(ot),Zi)}))}}(Ns(oe),$e,P,Q)}function a(r,e){return function hg(r,e){const n=new zf(e);return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return o=yield ka(r),d=n,on(o).Tu.add(d),void d.next();var o,d})),()=>{n.pa(),r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return o=yield ka(r),d=n,void on(o).Tu.delete(d);var o,d}))}}(Ns(r=gr(r,hs)),yg(e)?e:{next:e})}function f(r,e){return function(n,o){const d=new br;return n.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function tg(r,e,n){return ah.apply(this,arguments)}(yield dl(n),o,d)})),d.promise}(Ns(r),e)}function v(r,e,n){const o=n.docs.get(e._key),d=new bc(r);return new vc(r,d,e._key,o,new $c(n.hasPendingWrites,n.fromCache),e.converter)}class M extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=fl(e)}get(e){const n=xo(e,this._firestore),o=new ip(this._firestore);return this._transaction.lookup([n._key]).then(d=>{if(!d||1!==d.length)return Tn();const _=d[0];if(_.isFoundDocument())return new Eu(this._firestore,o,_.key,_,n.converter);if(_.isNoDocument())return new Eu(this._firestore,o,n._key,null,n.converter);throw Tn()})}set(e,n,o){const d=xo(e,this._firestore),_=Oh(d.converter,n,o),C=bu(this._dataReader,"Transaction.set",d._key,_,null!==d.converter,o);return this._transaction.set(d._key,C),this}update(e,n,o,...d){const _=xo(e,this._firestore);let C;return C="string"==typeof(n=(0,be.m9)(n))||n instanceof hl?Dh(this._dataReader,"Transaction.update",_._key,n,o,d):xh(this._dataReader,"Transaction.update",_._key,n),this._transaction.update(_._key,C),this}delete(e){const n=xo(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=xo(e,this._firestore),o=new bc(this._firestore);return super.get(e).then(d=>new vc(this._firestore,o,n._key,d._document,new $c(!1,!1),n.converter))}}function ee(r,e){return function fg(r,e){const n=new br;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){const o=yield(d=r,_c(d).then(_=>_.datastore));var d;new fh(r.asyncQueue,o,e,n).run()})),n.promise}(Ns(r=gr(r,hs)),n=>e(new M(r,n)))}function Me(){return new Eh("deleteField")}function ut(){return new wu("serverTimestamp")}function Yt(...r){return new Ch("arrayUnion",r)}function Wt(...r){return new Sg("arrayRemove",r)}function Bn(r){return new Tg("increment",r)}!function(r,e=!0){Or=l.SDK_VERSION,(0,l._registerComponent)(new G.wA("firestore",(n,{options:o})=>{const d=n.getProvider("app").getImmediate(),_=new hs(d,new ya(n.getProvider("auth-internal")),new No(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),_._setSettings(o),_},"PUBLIC")),(0,l.registerVersion)(ts,"3.4.7",r),(0,l.registerVersion)(ts,"3.4.7","esm2017")}()},2090:(Jt,at,O)=>{O.d(at,{BH:()=>Ze,LL:()=>mn,ZR:()=>ct,zI:()=>gt,US:()=>Be,tV:()=>te,L:()=>Fe,$s:()=>Un,r3:()=>it,Sg:()=>nt,ne:()=>ln,vZ:()=>$n,ZB:()=>Se,Lj:()=>ge,pd:()=>ni,m9:()=>sn,z$:()=>pt,jU:()=>He,ru:()=>Pe,d:()=>le,xb:()=>bn,w1:()=>Ee,hl:()=>We,uI:()=>ze,UG:()=>Le,b$:()=>ve,G6:()=>Ot,Mn:()=>lt,X3:()=>j,xO:()=>wn,zd:()=>Zn,eu:()=>mt});var g=O(5861);const be=function(Ce){const Ie=[];let je=0;for(let ft=0;ft<Ce.length;ft++){let _e=Ce.charCodeAt(ft);_e<128?Ie[je++]=_e:_e<2048?(Ie[je++]=_e>>6|192,Ie[je++]=63&_e|128):55296==(64512&_e)&&ft+1<Ce.length&&56320==(64512&Ce.charCodeAt(ft+1))?(_e=65536+((1023&_e)<<10)+(1023&Ce.charCodeAt(++ft)),Ie[je++]=_e>>18|240,Ie[je++]=_e>>12&63|128,Ie[je++]=_e>>6&63|128,Ie[je++]=63&_e|128):(Ie[je++]=_e>>12|224,Ie[je++]=_e>>6&63|128,Ie[je++]=63&_e|128)}return Ie},Be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ce,Ie){if(!Array.isArray(Ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const je=Ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,ft=[];for(let _e=0;_e<Ce.length;_e+=3){const xe=Ce[_e],Y=_e+1<Ce.length,de=Y?Ce[_e+1]:0,ye=_e+2<Ce.length,Ve=ye?Ce[_e+2]:0;let cn=(15&de)<<2|Ve>>6,oi=63&Ve;ye||(oi=64,Y||(cn=64)),ft.push(je[xe>>2],je[(3&xe)<<4|de>>4],je[cn],je[oi])}return ft.join("")},encodeString(Ce,Ie){return this.HAS_NATIVE_SUPPORT&&!Ie?btoa(Ce):this.encodeByteArray(be(Ce),Ie)},decodeString(Ce,Ie){return this.HAS_NATIVE_SUPPORT&&!Ie?atob(Ce):function(Ce){const Ie=[];let je=0,ft=0;for(;je<Ce.length;){const _e=Ce[je++];if(_e<128)Ie[ft++]=String.fromCharCode(_e);else if(_e>191&&_e<224){const xe=Ce[je++];Ie[ft++]=String.fromCharCode((31&_e)<<6|63&xe)}else if(_e>239&&_e<365){const ye=((7&_e)<<18|(63&Ce[je++])<<12|(63&Ce[je++])<<6|63&Ce[je++])-65536;Ie[ft++]=String.fromCharCode(55296+(ye>>10)),Ie[ft++]=String.fromCharCode(56320+(1023&ye))}else{const xe=Ce[je++],Y=Ce[je++];Ie[ft++]=String.fromCharCode((15&_e)<<12|(63&xe)<<6|63&Y)}}return Ie.join("")}(this.decodeStringToByteArray(Ce,Ie))},decodeStringToByteArray(Ce,Ie){this.init_();const je=Ie?this.charToByteMapWebSafe_:this.charToByteMap_,ft=[];for(let _e=0;_e<Ce.length;){const xe=je[Ce.charAt(_e++)],de=_e<Ce.length?je[Ce.charAt(_e)]:0;++_e;const Ve=_e<Ce.length?je[Ce.charAt(_e)]:64;++_e;const Nt=_e<Ce.length?je[Ce.charAt(_e)]:64;if(++_e,null==xe||null==de||null==Ve||null==Nt)throw Error();ft.push(xe<<2|de>>4),64!==Ve&&(ft.push(de<<4&240|Ve>>2),64!==Nt&&ft.push(Ve<<6&192|Nt))}return ft},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ce=0;Ce<this.ENCODED_VALS.length;Ce++)this.byteToCharMap_[Ce]=this.ENCODED_VALS.charAt(Ce),this.charToByteMap_[this.byteToCharMap_[Ce]]=Ce,this.byteToCharMapWebSafe_[Ce]=this.ENCODED_VALS_WEBSAFE.charAt(Ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ce]]=Ce,Ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ce)]=Ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ce)]=Ce)}}},Fe=function(Ce){return function(Ce){const Ie=be(Ce);return Be.encodeByteArray(Ie,!0)}(Ce).replace(/\./g,"")},te=function(Ce){try{return Be.decodeString(Ce,!0)}catch(Ie){console.error("base64Decode failed: ",Ie)}return null};function Se(Ce,Ie){if(!(Ie instanceof Object))return Ie;switch(Ie.constructor){case Date:return new Date(Ie.getTime());case Object:void 0===Ce&&(Ce={});break;case Array:Ce=[];break;default:return Ie}for(const je in Ie)!Ie.hasOwnProperty(je)||!Xe(je)||(Ce[je]=Se(Ce[je],Ie[je]));return Ce}function Xe(Ce){return"__proto__"!==Ce}class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ie,je)=>{this.resolve=Ie,this.reject=je})}wrapCallback(Ie){return(je,ft)=>{je?this.reject(je):this.resolve(ft),"function"==typeof Ie&&(this.promise.catch(()=>{}),1===Ie.length?Ie(je):Ie(je,ft))}}}function nt(Ce,Ie){if(Ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ft=Ie||"demo-project",_e=Ce.iat||0,xe=Ce.sub||Ce.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Y=Object.assign({iss:`https://securetoken.google.com/${ft}`,aud:ft,iat:_e,exp:_e+3600,auth_time:_e,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},Ce);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(Y)),""].join(".")}function pt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function Le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ce){return!1}}function He(){return"object"==typeof self&&self.self===self}function Pe(){const Ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ce&&void 0!==Ce.id}function ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function le(){return pt().indexOf("Electron/")>=0}function Ee(){const Ce=pt();return Ce.indexOf("MSIE ")>=0||Ce.indexOf("Trident/")>=0}function lt(){return pt().indexOf("MSAppHost/")>=0}function Ot(){return!Le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){return"object"==typeof indexedDB}function mt(){return new Promise((Ce,Ie)=>{try{let je=!0;const ft="validate-browser-context-for-indexeddb-analytics-module",_e=self.indexedDB.open(ft);_e.onsuccess=()=>{_e.result.close(),je||self.indexedDB.deleteDatabase(ft),Ce(!0)},_e.onupgradeneeded=()=>{je=!1},_e.onerror=()=>{var xe;Ie((null===(xe=_e.error)||void 0===xe?void 0:xe.message)||"")}}catch(je){Ie(je)}})}function gt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ct extends Error{constructor(Ie,je,ft){super(je),this.code=Ie,this.customData=ft,this.name="FirebaseError",Object.setPrototypeOf(this,ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mn.prototype.create)}}class mn{constructor(Ie,je,ft){this.service=Ie,this.serviceName=je,this.errors=ft}create(Ie,...je){const ft=je[0]||{},_e=`${this.service}/${Ie}`,xe=this.errors[Ie],Y=xe?function en(Ce,Ie){return Ce.replace(An,(je,ft)=>{const _e=Ie[ft];return null!=_e?String(_e):`<${ft}?>`})}(xe,ft):"Error";return new ct(_e,`${this.serviceName}: ${Y} (${_e}).`,ft)}}const An=/\{\$([^}]+)}/g;function it(Ce,Ie){return Object.prototype.hasOwnProperty.call(Ce,Ie)}function bn(Ce){for(const Ie in Ce)if(Object.prototype.hasOwnProperty.call(Ce,Ie))return!1;return!0}function $n(Ce,Ie){if(Ce===Ie)return!0;const je=Object.keys(Ce),ft=Object.keys(Ie);for(const _e of je){if(!ft.includes(_e))return!1;const xe=Ce[_e],Y=Ie[_e];if(Kn(xe)&&Kn(Y)){if(!$n(xe,Y))return!1}else if(xe!==Y)return!1}for(const _e of ft)if(!je.includes(_e))return!1;return!0}function Kn(Ce){return null!==Ce&&"object"==typeof Ce}function wn(Ce){const Ie=[];for(const[je,ft]of Object.entries(Ce))Array.isArray(ft)?ft.forEach(_e=>{Ie.push(encodeURIComponent(je)+"="+encodeURIComponent(_e))}):Ie.push(encodeURIComponent(je)+"="+encodeURIComponent(ft));return Ie.length?"&"+Ie.join("&"):""}function Zn(Ce){const Ie={};return Ce.replace(/^\?/,"").split("&").forEach(ft=>{if(ft){const[_e,xe]=ft.split("=");Ie[decodeURIComponent(_e)]=decodeURIComponent(xe)}}),Ie}function ni(Ce){const Ie=Ce.indexOf("?");if(!Ie)return"";const je=Ce.indexOf("#",Ie);return Ce.substring(Ie,je>0?je:void 0)}function ln(Ce,Ie){const je=new Vn(Ce,Ie);return je.subscribe.bind(je)}class Vn{constructor(Ie,je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=je,this.task.then(()=>{Ie(this)}).catch(ft=>{this.error(ft)})}next(Ie){this.forEachObserver(je=>{je.next(Ie)})}error(Ie){this.forEachObserver(je=>{je.error(Ie)}),this.close(Ie)}complete(){this.forEachObserver(Ie=>{Ie.complete()}),this.close()}subscribe(Ie,je,ft){let _e;if(void 0===Ie&&void 0===je&&void 0===ft)throw new Error("Missing Observer.");_e=function Fn(Ce,Ie){if("object"!=typeof Ce||null===Ce)return!1;for(const je of Ie)if(je in Ce&&"function"==typeof Ce[je])return!0;return!1}(Ie,["next","error","complete"])?Ie:{next:Ie,error:je,complete:ft},void 0===_e.next&&(_e.next=di),void 0===_e.error&&(_e.error=di),void 0===_e.complete&&(_e.complete=di);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_e.error(this.finalError):_e.complete()}catch(Y){}}),this.observers.push(_e),xe}unsubscribeOne(Ie){void 0===this.observers||void 0===this.observers[Ie]||(delete this.observers[Ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ie){if(!this.finalized)for(let je=0;je<this.observers.length;je++)this.sendOne(je,Ie)}sendOne(Ie,je){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ie])try{je(this.observers[Ie])}catch(ft){"undefined"!=typeof console&&console.error&&console.error(ft)}})}close(Ie){this.finalized||(this.finalized=!0,void 0!==Ie&&(this.finalError=Ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function di(){}function Un(Ce,Ie=1e3,je=2){const ft=Ie*Math.pow(je,Ce),_e=Math.round(.5*ft*(Math.random()-.5)*2);return Math.min(144e5,ft+_e)}function sn(Ce){return Ce&&Ce._delegate?Ce._delegate:Ce}function gi(Ce,Ie){return new Promise((je,ft)=>{Ce.onsuccess=_e=>{je(_e.target.result)},Ce.onerror=_e=>{var xe;ft(`${Ie}: ${null===(xe=_e.target.error)||void 0===xe?void 0:xe.message}`)}})}class xn{constructor(Ie){this._db=Ie,this.objectStoreNames=this._db.objectStoreNames}transaction(Ie,je){return new pe(this._db.transaction.call(this._db,Ie,je))}createObjectStore(Ie,je){return new U(this._db.createObjectStore(Ie,je))}close(){this._db.close()}}class pe{constructor(Ie){this._transaction=Ie,this.complete=new Promise((je,ft)=>{this._transaction.oncomplete=function(){je()},this._transaction.onerror=()=>{ft(this._transaction.error)},this._transaction.onabort=()=>{ft(this._transaction.error)}})}objectStore(Ie){return new U(this._transaction.objectStore(Ie))}}class U{constructor(Ie){this._store=Ie}index(Ie){return new x(this._store.index(Ie))}createIndex(Ie,je,ft){return new x(this._store.createIndex(Ie,je,ft))}get(Ie){return gi(this._store.get(Ie),"Error reading from IndexedDB")}put(Ie,je){return gi(this._store.put(Ie,je),"Error writing to IndexedDB")}delete(Ie){return gi(this._store.delete(Ie),"Error deleting from IndexedDB")}clear(){return gi(this._store.clear(),"Error clearing IndexedDB object store")}}class x{constructor(Ie){this._index=Ie}get(Ie){return gi(this._index.get(Ie),"Error reading from IndexedDB")}}function j(Ce,Ie,je){return new Promise((ft,_e)=>{try{const xe=indexedDB.open(Ce,Ie);xe.onsuccess=Y=>{ft(new xn(Y.target.result))},xe.onerror=Y=>{var de;_e(`Error opening indexedDB: ${null===(de=Y.target.error)||void 0===de?void 0:de.message}`)},xe.onupgradeneeded=Y=>{je(new xn(xe.result),Y.oldVersion,Y.newVersion,new pe(xe.transaction))}}catch(xe){_e(`Error opening indexedDB: ${xe.message}`)}})}function ge(Ce){return rt.apply(this,arguments)}function rt(){return(rt=(0,g.Z)(function*(Ce){return new Promise((Ie,je)=>{try{const ft=indexedDB.deleteDatabase(Ce);ft.onsuccess=()=>{Ie()},ft.onerror=_e=>{var xe;je(`Error deleting indexedDB database "${Ce}": ${null===(xe=_e.target.error)||void 0===xe?void 0:xe.message}`)}}catch(ft){je(`Error deleting indexedDB database "${Ce}": ${ft.message}`)}})})).apply(this,arguments)}},5867:(Jt,at,O)=>{O.d(at,{Mq:()=>g.getApp,C6:()=>g.getApps,KN:()=>g.registerVersion});var g=O(9681);(0,g.registerVersion)("firebase","9.6.10","app")},127:(Jt,at,O)=>{O.d(at,{Z:()=>g.Z});var g=O(3942);g.Z.registerVersion("firebase","9.6.10","app-compat")},5881:(Jt,at,O)=>{O.r(at);var g=O(5861),l=O(3942),G=O(424),X=O(2090),Be=(O(9681),O(1877),O(4859));function me(){return window}function ce(){return(ce=(0,g.Z)(function*(_e,xe,Y){var de;const{BuildInfo:ye}=me();(0,G.ap)(xe.sessionId,"AuthEvent did not contain a session ID");const Ve=yield Le(xe.sessionId),wt={};return(0,G.aq)()?wt.ibi=ye.packageName:(0,G.ar)()?wt.apn=ye.packageName:(0,G.as)(_e,"operation-not-supported-in-this-environment"),ye.displayName&&(wt.appDisplayName=ye.displayName),wt.sessionId=Ve,(0,G.at)(_e,Y,xe.type,void 0,null!==(de=xe.eventId)&&void 0!==de?de:void 0,wt)})).apply(this,arguments)}function Xe(){return(Xe=(0,g.Z)(function*(_e){const{BuildInfo:xe}=me(),Y={};(0,G.aq)()?Y.iosBundleId=xe.packageName:(0,G.ar)()?Y.androidPackageName=xe.packageName:(0,G.as)(_e,"operation-not-supported-in-this-environment"),yield(0,G.au)(_e,Y)})).apply(this,arguments)}function pt(){return(pt=(0,g.Z)(function*(_e,xe,Y){const{cordova:de}=me();let ye=()=>{};try{yield new Promise((Ve,wt)=>{let Nt=null;function cn(){var Hn;Ve();const ti=null===(Hn=de.plugins.browsertab)||void 0===Hn?void 0:Hn.close;"function"==typeof ti&&ti(),"function"==typeof(null==Y?void 0:Y.close)&&Y.close()}function oi(){Nt||(Nt=window.setTimeout(()=>{wt((0,G.av)(_e,"redirect-cancelled-by-user"))},2e3))}function ri(){"visible"===(null==document?void 0:document.visibilityState)&&oi()}xe.addPassiveListener(cn),document.addEventListener("resume",oi,!1),(0,G.ar)()&&document.addEventListener("visibilitychange",ri,!1),ye=()=>{xe.removePassiveListener(cn),document.removeEventListener("resume",oi,!1),document.removeEventListener("visibilitychange",ri,!1),Nt&&window.clearTimeout(Nt)}})}finally{ye()}})).apply(this,arguments)}function Le(_e){return He.apply(this,arguments)}function He(){return(He=(0,g.Z)(function*(_e){const xe=Pe(_e),Y=yield crypto.subtle.digest("SHA-256",xe);return Array.from(new Uint8Array(Y)).map(ye=>ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pe(_e){if((0,G.ap)(/[0-9a-zA-Z]+/.test(_e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_e);const xe=new ArrayBuffer(_e.length),Y=new Uint8Array(xe);for(let de=0;de<_e.length;de++)Y[de]=_e.charCodeAt(de);return Y}class le extends G.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(xe=>{this.resolveInialized=xe})}addPassiveListener(xe){this.passiveListeners.add(xe)}removePassiveListener(xe){this.passiveListeners.delete(xe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(xe){return this.resolveInialized(),this.passiveListeners.forEach(Y=>Y(xe)),super.onEvent(xe)}initialized(){var xe=this;return(0,g.Z)(function*(){yield xe.initPromise})()}}function Ue(_e){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,g.Z)(function*(_e){const xe=yield gt()._get(Et(_e));return xe&&(yield gt()._remove(Et(_e))),xe})).apply(this,arguments)}function mt(){const _e=[],xe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Y=0;Y<20;Y++){const de=Math.floor(Math.random()*xe.length);_e.push(xe.charAt(de))}return _e.join("")}function gt(){return(0,G.ax)(G.b)}function Et(_e){return(0,G.ay)("authEvent",_e.config.apiKey,_e.name)}function mn(_e){if(!(null==_e?void 0:_e.includes("?")))return{};const[xe,...Y]=_e.split("?");return(0,X.zd)(Y.join("?"))}function jt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,G.av)("no-auth-event")}}function Ke(){var _e;return(null===(_e=null==self?void 0:self.location)||void 0===_e?void 0:_e.protocol)||null}function Vt(_e=(0,X.z$)()){return!("file:"!==Ke()&&"ionic:"!==Ke()||!_e.toLowerCase().match(/iphone|ipad|ipod|android/))}function wn(){try{const _e=self.localStorage,xe=G.aG();if(_e)return _e.setItem(xe,"1"),_e.removeItem(xe),!function Kn(_e=(0,X.z$)()){return function Rn(){return(0,X.w1)()&&11===(null==document?void 0:document.documentMode)}()||function $n(_e=(0,X.z$)()){return/Edge\/\d+/.test(_e)}(_e)}()||(0,X.hl)()}catch(_e){return Zn()&&(0,X.hl)()}return!1}function Zn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ni(){return(function it(){return"http:"===Ke()||"https:"===Ke()}()||(0,X.ru)()||Vt())&&!function bn(){return(0,X.b$)()||(0,X.UG)()}()&&wn()&&!Zn()}function Wi(){return Vt()&&"undefined"!=typeof document}function Vn(){return(Vn=(0,g.Z)(function*(){return!!Wi()&&new Promise(_e=>{const xe=setTimeout(()=>{_e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(xe),_e(!0)})})})).apply(this,arguments)}const Fn={LOCAL:"local",NONE:"none",SESSION:"session"},di=G.aw,Ri="persistence";function Rt(_e){return ht.apply(this,arguments)}function ht(){return(ht=(0,g.Z)(function*(_e){yield _e._initializationPromise;const xe=tt(),Y=G.ay(Ri,_e.config.apiKey,_e.name);xe&&xe.setItem(Y,_e._getPersistence())})).apply(this,arguments)}function tt(){var _e;try{return(null===(_e=function zn(){return"undefined"!=typeof window?window:null}())||void 0===_e?void 0:_e.sessionStorage)||null}catch(xe){return null}}const Te=G.aw;class Qe{constructor(){this.browserResolver=G.ax(G.k),this.cordovaResolver=G.ax(class An{constructor(){this._redirectPersistence=G.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G.aA}_initialize(xe){var Y=this;return(0,g.Z)(function*(){const de=xe._key();let ye=Y.eventManagers.get(de);return ye||(ye=new le(xe),Y.eventManagers.set(de,ye),Y.attachCallbackListeners(xe,ye)),ye})()}_openPopup(xe){(0,G.as)(xe,"operation-not-supported-in-this-environment")}_openRedirect(xe,Y,de,ye){var Ve=this;return(0,g.Z)(function*(){!function ze(_e){var xe,Y,de,ye,Ve,wt,Nt,cn,oi,ri;const Hn=me();(0,G.aw)("function"==typeof(null===(xe=null==Hn?void 0:Hn.universalLinks)||void 0===xe?void 0:xe.subscribe),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,G.aw)(void 0!==(null===(Y=null==Hn?void 0:Hn.BuildInfo)||void 0===Y?void 0:Y.packageName),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,G.aw)("function"==typeof(null===(Ve=null===(ye=null===(de=null==Hn?void 0:Hn.cordova)||void 0===de?void 0:de.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===Ve?void 0:Ve.openUrl),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aw)("function"==typeof(null===(cn=null===(Nt=null===(wt=null==Hn?void 0:Hn.cordova)||void 0===wt?void 0:wt.plugins)||void 0===Nt?void 0:Nt.browsertab)||void 0===cn?void 0:cn.isAvailable),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.aw)("function"==typeof(null===(ri=null===(oi=null==Hn?void 0:Hn.cordova)||void 0===oi?void 0:oi.InAppBrowser)||void 0===ri?void 0:ri.open),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(xe);const wt=yield Ve._initialize(xe);yield wt.initialized(),wt.resetRedirect(),(0,G.aB)(),yield Ve._originValidation(xe);const Nt=function Ee(_e,xe,Y=null){return{type:xe,eventId:Y,urlResponse:null,sessionId:mt(),postBody:null,tenantId:_e.tenantId,error:(0,G.av)(_e,"no-auth-event")}}(xe,de,ye);yield function lt(_e,xe){return gt()._set(Et(_e),xe)}(xe,Nt);const cn=yield function te(_e,xe,Y){return ce.apply(this,arguments)}(xe,Nt,Y),oi=yield function Ze(_e){const{cordova:xe}=me();return new Promise(Y=>{xe.plugins.browsertab.isAvailable(de=>{let ye=null;de?xe.plugins.browsertab.openUrl(_e):ye=xe.InAppBrowser.open(_e,(0,G.ao)()?"_blank":"_system","location=yes"),Y(ye)})})}(cn);return function nt(_e,xe,Y){return pt.apply(this,arguments)}(xe,wt,oi)})()}_isIframeWebStorageSupported(xe,Y){throw new Error("Method not implemented.")}_originValidation(xe){const Y=xe._key();return this.originValidationPromises[Y]||(this.originValidationPromises[Y]=function Se(_e){return Xe.apply(this,arguments)}(xe)),this.originValidationPromises[Y]}attachCallbackListeners(xe,Y){const{universalLinks:de,handleOpenURL:ye,BuildInfo:Ve}=me(),wt=setTimeout((0,g.Z)(function*(){yield Ue(xe),Y.onEvent(jt())}),500),Nt=function(){var ri=(0,g.Z)(function*(Hn){clearTimeout(wt);const ti=yield Ue(xe);let rr=null;ti&&(null==Hn?void 0:Hn.url)&&(rr=function We(_e,xe){var Y,de;const ye=function ct(_e){const xe=mn(_e),Y=xe.link?decodeURIComponent(xe.link):void 0,de=mn(Y).link,ye=xe.deep_link_id?decodeURIComponent(xe.deep_link_id):void 0;return mn(ye).link||ye||de||Y||_e}(xe);if(ye.includes("/__/auth/callback")){const Ve=mn(ye),wt=Ve.firebaseError?function Dt(_e){try{return JSON.parse(_e)}catch(xe){return null}}(decodeURIComponent(Ve.firebaseError)):null,Nt=null===(de=null===(Y=null==wt?void 0:wt.code)||void 0===Y?void 0:Y.split("auth/"))||void 0===de?void 0:de[1],cn=Nt?(0,G.av)(Nt):null;return cn?{type:_e.type,eventId:_e.eventId,tenantId:_e.tenantId,error:cn,urlResponse:null,sessionId:null,postBody:null}:{type:_e.type,eventId:_e.eventId,tenantId:_e.tenantId,sessionId:_e.sessionId,urlResponse:ye,postBody:null}}return null}(ti,Hn.url)),Y.onEvent(rr||jt())});return function(ti){return ri.apply(this,arguments)}}();void 0!==de&&"function"==typeof de.subscribe&&de.subscribe(null,Nt);const cn=ye,oi=`${Ve.packageName.toLowerCase()}://`;me().handleOpenURL=function(){var ri=(0,g.Z)(function*(Hn){if(Hn.toLowerCase().startsWith(oi)&&Nt({url:Hn}),"function"==typeof cn)try{cn(Hn)}catch(ti){console.error(ti)}});return function(Hn){return ri.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=G.a,this._completeRedirectFn=G.aA}_initialize(xe){var Y=this;return(0,g.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._initialize(xe)})()}_openPopup(xe,Y,de,ye){var Ve=this;return(0,g.Z)(function*(){return yield Ve.selectUnderlyingResolver(),Ve.assertedUnderlyingResolver._openPopup(xe,Y,de,ye)})()}_openRedirect(xe,Y,de,ye){var Ve=this;return(0,g.Z)(function*(){return yield Ve.selectUnderlyingResolver(),Ve.assertedUnderlyingResolver._openRedirect(xe,Y,de,ye)})()}_isIframeWebStorageSupported(xe,Y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(xe,Y)}_originValidation(xe){return this.assertedUnderlyingResolver._originValidation(xe)}get _shouldInitProactively(){return Wi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Te(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var xe=this;return(0,g.Z)(function*(){if(xe.underlyingResolver)return;const Y=yield function ln(){return Vn.apply(this,arguments)}();xe.underlyingResolver=Y?xe.cordovaResolver:xe.browserResolver})()}}function Xt(_e){return _e.unwrap()}function En(_e){return Xn(_e)}function Xn(_e){const{_tokenResponse:xe}=_e instanceof X.ZR?_e.customData:_e;if(!xe)return null;if(!(_e instanceof X.ZR)&&"temporaryProof"in xe&&"phoneNumber"in xe)return G.P.credentialFromResult(_e);const Y=xe.providerId;if(!Y||Y===G.o.PASSWORD)return null;let de;switch(Y){case G.o.GOOGLE:de=G.N;break;case G.o.FACEBOOK:de=G.M;break;case G.o.GITHUB:de=G.Q;break;case G.o.TWITTER:de=G.V;break;default:const{oauthIdToken:ye,oauthAccessToken:Ve,oauthTokenSecret:wt,pendingToken:Nt,nonce:cn}=xe;return Ve||wt||ye||Nt?Nt?Y.startsWith("saml.")?G.aJ._create(Y,Nt):G.I._fromParams({providerId:Y,signInMethod:Y,pendingToken:Nt,idToken:ye,accessToken:Ve}):new G.T(Y).credential({idToken:ye,accessToken:Ve,rawNonce:cn}):null}return _e instanceof X.ZR?de.credentialFromError(_e):de.credentialFromResult(_e)}function Gn(_e,xe){return xe.catch(Y=>{throw Y instanceof X.ZR&&function Un(_e,xe){var Y;const de=null===(Y=xe.customData)||void 0===Y?void 0:Y._tokenResponse;if("auth/multi-factor-auth-required"===xe.code)xe.resolver=new xn(_e,G.am(_e,xe));else if(de){const ye=Xn(xe),Ve=xe;ye&&(Ve.credential=ye,Ve.tenantId=de.tenantId||void 0,Ve.email=de.email||void 0,Ve.phoneNumber=de.phoneNumber||void 0)}}(_e,Y),Y}).then(Y=>{const ye=Y.user;return{operationType:Y.operationType,credential:En(Y),additionalUserInfo:G.ak(Y),user:pe.getOrCreate(ye)}})}function sn(_e,xe){return gi.apply(this,arguments)}function gi(){return(gi=(0,g.Z)(function*(_e,xe){const Y=yield xe;return{verificationId:Y.verificationId,confirm:de=>Gn(_e,Y.confirm(de))}})).apply(this,arguments)}class xn{constructor(xe,Y){this.resolver=Y,this.auth=function pn(_e){return _e.wrapped()}(xe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(xe){return Gn(Xt(this.auth),this.resolver.resolveSignIn(xe))}}class pe{constructor(xe){this._delegate=xe,this.multiFactor=G.an(xe)}static getOrCreate(xe){return pe.USER_MAP.has(xe)||pe.USER_MAP.set(xe,new pe(xe)),pe.USER_MAP.get(xe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(xe){return this._delegate.getIdTokenResult(xe)}getIdToken(xe){return this._delegate.getIdToken(xe)}linkAndRetrieveDataWithCredential(xe){return this.linkWithCredential(xe)}linkWithCredential(xe){var Y=this;return(0,g.Z)(function*(){return Gn(Y.auth,G.Y(Y._delegate,xe))})()}linkWithPhoneNumber(xe,Y){var de=this;return(0,g.Z)(function*(){return sn(de.auth,G.l(de._delegate,xe,Y))})()}linkWithPopup(xe){var Y=this;return(0,g.Z)(function*(){return Gn(Y.auth,G.d(Y._delegate,xe,Qe))})()}linkWithRedirect(xe){var Y=this;return(0,g.Z)(function*(){return yield Rt(G.aC(Y.auth)),G.g(Y._delegate,xe,Qe)})()}reauthenticateAndRetrieveDataWithCredential(xe){return this.reauthenticateWithCredential(xe)}reauthenticateWithCredential(xe){var Y=this;return(0,g.Z)(function*(){return Gn(Y.auth,G.Z(Y._delegate,xe))})()}reauthenticateWithPhoneNumber(xe,Y){return sn(this.auth,G.r(this._delegate,xe,Y))}reauthenticateWithPopup(xe){return Gn(this.auth,G.e(this._delegate,xe,Qe))}reauthenticateWithRedirect(xe){var Y=this;return(0,g.Z)(function*(){return yield Rt(G.aC(Y.auth)),G.h(Y._delegate,xe,Qe)})()}sendEmailVerification(xe){return G.aa(this._delegate,xe)}unlink(xe){var Y=this;return(0,g.Z)(function*(){return yield G.aj(Y._delegate,xe),Y})()}updateEmail(xe){return G.af(this._delegate,xe)}updatePassword(xe){return G.ag(this._delegate,xe)}updatePhoneNumber(xe){return G.u(this._delegate,xe)}updateProfile(xe){return G.ae(this._delegate,xe)}verifyBeforeUpdateEmail(xe,Y){return G.ab(this._delegate,xe,Y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pe.USER_MAP=new WeakMap;const U=G.aw;let x=(()=>{class _e{constructor(Y,de){if(this.app=Y,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ye}=Y.options;U(ye,"invalid-api-key",{appName:Y.name}),U(ye,"invalid-api-key",{appName:Y.name});const Ve="undefined"!=typeof window?Qe:void 0;this._delegate=de.initialize({options:{persistence:ge(ye,Y.name),popupRedirectResolver:Ve}}),this._delegate._updateErrorMap(G.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Y){this._delegate.languageCode=Y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Y){this._delegate.tenantId=Y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Y,de){G.E(this._delegate,Y,de)}applyActionCode(Y){return G.a1(this._delegate,Y)}checkActionCode(Y){return G.a2(this._delegate,Y)}confirmPasswordReset(Y,de){return G.a0(this._delegate,Y,de)}createUserWithEmailAndPassword(Y,de){var ye=this;return(0,g.Z)(function*(){return Gn(ye._delegate,G.a4(ye._delegate,Y,de))})()}fetchProvidersForEmail(Y){return this.fetchSignInMethodsForEmail(Y)}fetchSignInMethodsForEmail(Y){return G.a9(this._delegate,Y)}isSignInWithEmailLink(Y){return G.a7(this._delegate,Y)}getRedirectResult(){var Y=this;return(0,g.Z)(function*(){U(ni(),Y._delegate,"operation-not-supported-in-this-environment");const de=yield G.j(Y._delegate,Qe);return de?Gn(Y._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging(Y){!function un(_e,xe){(0,G.aC)(_e)._logFramework(xe)}(this._delegate,Y)}onAuthStateChanged(Y,de,ye){const{next:Ve,error:wt,complete:Nt}=j(Y,de,ye);return this._delegate.onAuthStateChanged(Ve,wt,Nt)}onIdTokenChanged(Y,de,ye){const{next:Ve,error:wt,complete:Nt}=j(Y,de,ye);return this._delegate.onIdTokenChanged(Ve,wt,Nt)}sendSignInLinkToEmail(Y,de){return G.a6(this._delegate,Y,de)}sendPasswordResetEmail(Y,de){return G.$(this._delegate,Y,de||void 0)}setPersistence(Y){var de=this;return(0,g.Z)(function*(){let ye;switch(function ii(_e,xe){di(Object.values(Fn).includes(xe),_e,"invalid-persistence-type"),(0,X.b$)()?di(xe!==Fn.SESSION,_e,"unsupported-persistence-type"):(0,X.UG)()?di(xe===Fn.NONE,_e,"unsupported-persistence-type"):Zn()?di(xe===Fn.NONE||xe===Fn.LOCAL&&(0,X.hl)(),_e,"unsupported-persistence-type"):di(xe===Fn.NONE||wn(),_e,"unsupported-persistence-type")}(de._delegate,Y),Y){case Fn.SESSION:ye=G.a;break;case Fn.LOCAL:ye=(yield G.ax(G.i)._isAvailable())?G.i:G.b;break;case Fn.NONE:ye=G.K;break;default:return G.as("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(ye)})()}signInAndRetrieveDataWithCredential(Y){return this.signInWithCredential(Y)}signInAnonymously(){return Gn(this._delegate,G.W(this._delegate))}signInWithCredential(Y){return Gn(this._delegate,G.X(this._delegate,Y))}signInWithCustomToken(Y){return Gn(this._delegate,G._(this._delegate,Y))}signInWithEmailAndPassword(Y,de){return Gn(this._delegate,G.a5(this._delegate,Y,de))}signInWithEmailLink(Y,de){return Gn(this._delegate,G.a8(this._delegate,Y,de))}signInWithPhoneNumber(Y,de){return sn(this._delegate,G.s(this._delegate,Y,de))}signInWithPopup(Y){var de=this;return(0,g.Z)(function*(){return U(ni(),de._delegate,"operation-not-supported-in-this-environment"),Gn(de._delegate,G.c(de._delegate,Y,Qe))})()}signInWithRedirect(Y){var de=this;return(0,g.Z)(function*(){return U(ni(),de._delegate,"operation-not-supported-in-this-environment"),yield Rt(de._delegate),G.f(de._delegate,Y,Qe)})()}updateCurrentUser(Y){return this._delegate.updateCurrentUser(Y)}verifyPasswordResetCode(Y){return G.a3(this._delegate,Y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _e.Persistence=Fn,_e})();function j(_e,xe,Y){let de=_e;"function"!=typeof _e&&({next:de,error:xe,complete:Y}=_e);const ye=de;return{next:wt=>ye(wt&&pe.getOrCreate(wt)),error:xe,complete:Y}}function ge(_e,xe){const Y=function we(_e,xe){const Y=tt();if(!Y)return[];const de=G.ay(Ri,_e,xe);switch(Y.getItem(de)){case Fn.NONE:return[G.K];case Fn.LOCAL:return[G.i,G.a];case Fn.SESSION:return[G.a];default:return[]}}(_e,xe);if("undefined"!=typeof self&&!Y.includes(G.i)&&Y.push(G.i),"undefined"!=typeof window)for(const de of[G.b,G.a])Y.includes(de)||Y.push(de);return Y.includes(G.K)||Y.push(G.K),Y}class rt{constructor(){this.providerId="phone",this._delegate=new G.P(Xt(l.Z.auth()))}static credential(xe,Y){return G.P.credential(xe,Y)}verifyPhoneNumber(xe,Y){return this._delegate.verifyPhoneNumber(xe,Y)}unwrap(){return this._delegate}}rt.PHONE_SIGN_IN_METHOD=G.P.PHONE_SIGN_IN_METHOD,rt.PROVIDER_ID=G.P.PROVIDER_ID;const Ce=G.aw;class Ie{constructor(xe,Y,de=l.Z.app()){var ye;Ce(null===(ye=de.options)||void 0===ye?void 0:ye.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new G.R(xe,Y,de.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ft(_e){_e.INTERNAL.registerComponent(new Be.wA("auth-compat",xe=>{const Y=xe.getProvider("app-compat").getImmediate(),de=xe.getProvider("auth");return new x(Y,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G.A.EMAIL_SIGNIN,PASSWORD_RESET:G.A.PASSWORD_RESET,RECOVER_EMAIL:G.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G.A.VERIFY_EMAIL}},EmailAuthProvider:G.L,FacebookAuthProvider:G.M,GithubAuthProvider:G.Q,GoogleAuthProvider:G.N,OAuthProvider:G.T,SAMLAuthProvider:G.U,PhoneAuthProvider:rt,PhoneMultiFactorGenerator:G.m,RecaptchaVerifier:Ie,TwitterAuthProvider:G.V,Auth:x,AuthCredential:G.G,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_e.registerVersion("@firebase/auth-compat","0.2.11")}(l.Z)},1135:(Jt,at,O)=>{O.d(at,{X:()=>l});var g=O(7579);class l extends g.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const be=super._subscribe(X);return!be.closed&&X.next(this._value),be}getValue(){const{hasError:X,thrownError:be,_value:Oe}=this;if(X)throw be;return this._throwIfClosed(),Oe}next(X){super.next(this._value=X)}}},8306:(Jt,at,O)=>{O.d(at,{y:()=>te});var g=O(930),l=O(727),G=O(8822),X=O(4671);var Be=O(2416),me=O(576),Fe=O(2806);let te=(()=>{class Ze{constructor(pt){pt&&(this._subscribe=pt)}lift(pt){const ze=new Ze;return ze.source=this,ze.operator=pt,ze}subscribe(pt,ze,Le){const He=function Xe(Ze){return Ze&&Ze instanceof g.Lv||function Se(Ze){return Ze&&(0,me.m)(Ze.next)&&(0,me.m)(Ze.error)&&(0,me.m)(Ze.complete)}(Ze)&&(0,l.Nn)(Ze)}(pt)?pt:new g.Hp(pt,ze,Le);return(0,Fe.x)(()=>{const{operator:Pe,source:ve}=this;He.add(Pe?Pe.call(He,ve):ve?this._subscribe(He):this._trySubscribe(He))}),He}_trySubscribe(pt){try{return this._subscribe(pt)}catch(ze){pt.error(ze)}}forEach(pt,ze){return new(ze=ce(ze))((Le,He)=>{const Pe=new g.Hp({next:ve=>{try{pt(ve)}catch(le){He(le),Pe.unsubscribe()}},error:He,complete:Le});this.subscribe(Pe)})}_subscribe(pt){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(pt)}[G.L](){return this}pipe(...pt){return function Oe(Ze){return 0===Ze.length?X.y:1===Ze.length?Ze[0]:function(pt){return Ze.reduce((ze,Le)=>Le(ze),pt)}}(pt)(this)}toPromise(pt){return new(pt=ce(pt))((ze,Le)=>{let He;this.subscribe(Pe=>He=Pe,Pe=>Le(Pe),()=>ze(He))})}}return Ze.create=nt=>new Ze(nt),Ze})();function ce(Ze){var nt;return null!==(nt=null!=Ze?Ze:Be.v.Promise)&&void 0!==nt?nt:Promise}},7579:(Jt,at,O)=>{O.d(at,{x:()=>Be});var g=O(8306),l=O(727);const X=(0,O(3888).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=O(8737),Oe=O(2806);let Be=(()=>{class Fe extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const Se=new me(this,this);return Se.operator=ce,Se}_throwIfClosed(){if(this.closed)throw new X}next(ce){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(ce)}})}error(ce){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:Se}=this;for(;Se.length;)Se.shift().error(ce)}})}complete(){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:Se,isStopped:Xe,observers:Ze}=this;return Se||Xe?l.Lc:(this.currentObservers=null,Ze.push(ce),new l.w0(()=>{this.currentObservers=null,(0,be.P)(Ze,ce)}))}_checkFinalizedStatuses(ce){const{hasError:Se,thrownError:Xe,isStopped:Ze}=this;Se?ce.error(Xe):Ze&&ce.complete()}asObservable(){const ce=new g.y;return ce.source=this,ce}}return Fe.create=(te,ce)=>new me(te,ce),Fe})();class me extends Be{constructor(te,ce){super(),this.destination=te,this.source=ce}next(te){var ce,Se;null===(Se=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===Se||Se.call(ce,te)}error(te){var ce,Se;null===(Se=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===Se||Se.call(ce,te)}complete(){var te,ce;null===(ce=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===ce||ce.call(te)}_subscribe(te){var ce,Se;return null!==(Se=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(te))&&void 0!==Se?Se:l.Lc}}},930:(Jt,at,O)=>{O.d(at,{Hp:()=>pt,Lv:()=>Se});var g=O(576),l=O(727),G=O(2416),X=O(7849),be=O(5032);const Oe=Fe("C",void 0,void 0);function Fe(ve,le,Ee){return{kind:ve,value:le,error:Ee}}var te=O(3410),ce=O(2806);class Se extends l.w0{constructor(le){super(),this.isStopped=!1,le?(this.destination=le,(0,l.Nn)(le)&&le.add(this)):this.destination=Pe}static create(le,Ee,lt){return new pt(le,Ee,lt)}next(le){this.isStopped?He(function me(ve){return Fe("N",ve,void 0)}(le),this):this._next(le)}error(le){this.isStopped?He(function Be(ve){return Fe("E",void 0,ve)}(le),this):(this.isStopped=!0,this._error(le))}complete(){this.isStopped?He(Oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(le){this.destination.next(le)}_error(le){try{this.destination.error(le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Ze(ve,le){return Xe.call(ve,le)}class nt{constructor(le){this.partialObserver=le}next(le){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(le)}catch(lt){ze(lt)}}error(le){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(le)}catch(lt){ze(lt)}else ze(le)}complete(){const{partialObserver:le}=this;if(le.complete)try{le.complete()}catch(Ee){ze(Ee)}}}class pt extends Se{constructor(le,Ee,lt){let Ue;if(super(),(0,g.m)(le)||!le)Ue={next:null!=le?le:void 0,error:null!=Ee?Ee:void 0,complete:null!=lt?lt:void 0};else{let Ot;this&&G.v.useDeprecatedNextContext?(Ot=Object.create(le),Ot.unsubscribe=()=>this.unsubscribe(),Ue={next:le.next&&Ze(le.next,Ot),error:le.error&&Ze(le.error,Ot),complete:le.complete&&Ze(le.complete,Ot)}):Ue=le}this.destination=new nt(Ue)}}function ze(ve){G.v.useDeprecatedSynchronousErrorHandling?(0,ce.O)(ve):(0,X.h)(ve)}function He(ve,le){const{onStoppedNotification:Ee}=G.v;Ee&&te.z.setTimeout(()=>Ee(ve,le))}const Pe={closed:!0,next:be.Z,error:function Le(ve){throw ve},complete:be.Z}},727:(Jt,at,O)=>{O.d(at,{Lc:()=>Oe,w0:()=>be,Nn:()=>Be});var g=O(576);const G=(0,O(3888).d)(Fe=>function(ce){Fe(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((Se,Xe)=>`${Xe+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var X=O(8737);class be{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Ze of ce)Ze.remove(this);else ce.remove(this);const{initialTeardown:Se}=this;if((0,g.m)(Se))try{Se()}catch(Ze){te=Ze instanceof G?Ze.errors:[Ze]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Ze of Xe)try{me(Ze)}catch(nt){te=null!=te?te:[],nt instanceof G?te=[...te,...nt.errors]:te.push(nt)}}if(te)throw new G(te)}}add(te){var ce;if(te&&te!==this)if(this.closed)me(te);else{if(te instanceof be){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(te)}}_hasParent(te){const{_parentage:ce}=this;return ce===te||Array.isArray(ce)&&ce.includes(te)}_addParent(te){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(te),ce):ce?[ce,te]:te}_removeParent(te){const{_parentage:ce}=this;ce===te?this._parentage=null:Array.isArray(ce)&&(0,X.P)(ce,te)}remove(te){const{_finalizers:ce}=this;ce&&(0,X.P)(ce,te),te instanceof be&&te._removeParent(this)}}be.EMPTY=(()=>{const Fe=new be;return Fe.closed=!0,Fe})();const Oe=be.EMPTY;function Be(Fe){return Fe instanceof be||Fe&&"closed"in Fe&&(0,g.m)(Fe.remove)&&(0,g.m)(Fe.add)&&(0,g.m)(Fe.unsubscribe)}function me(Fe){(0,g.m)(Fe)?Fe():Fe.unsubscribe()}},2416:(Jt,at,O)=>{O.d(at,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Jt,at,O)=>{O.d(at,{z:()=>be});var g=O(8189),G=O(3269),X=O(8996);function be(...Oe){return function l(){return(0,g.J)(1)}()((0,X.D)(Oe,(0,G.yG)(Oe)))}},9770:(Jt,at,O)=>{O.d(at,{P:()=>G});var g=O(8306),l=O(8421);function G(X){return new g.y(be=>{(0,l.Xf)(X()).subscribe(be)})}},515:(Jt,at,O)=>{O.d(at,{E:()=>l});const l=new(O(8306).y)(be=>be.complete())},4128:(Jt,at,O)=>{O.d(at,{D:()=>me});var g=O(8306),l=O(4742),G=O(8421),X=O(3269),be=O(5403),Oe=O(3268),Be=O(1810);function me(...Fe){const te=(0,X.jO)(Fe),{args:ce,keys:Se}=(0,l.D)(Fe),Xe=new g.y(Ze=>{const{length:nt}=ce;if(!nt)return void Ze.complete();const pt=new Array(nt);let ze=nt,Le=nt;for(let He=0;He<nt;He++){let Pe=!1;(0,G.Xf)(ce[He]).subscribe((0,be.x)(Ze,ve=>{Pe||(Pe=!0,Le--),pt[He]=ve},()=>ze--,void 0,()=>{(!ze||!Pe)&&(Le||Ze.next(Se?(0,Be.n)(Se,pt):pt),Ze.complete())}))}});return te?Xe.pipe((0,Oe.Z)(te)):Xe}},8996:(Jt,at,O)=>{O.d(at,{D:()=>le});var g=O(8421),l=O(5363),G=O(9468),Oe=O(8306),me=O(2202),Fe=O(576),te=O(9672);function Se(Ee,lt){if(!Ee)throw new Error("Iterable cannot be null");return new Oe.y(Ue=>{(0,te.f)(Ue,lt,()=>{const Ot=Ee[Symbol.asyncIterator]();(0,te.f)(Ue,lt,()=>{Ot.next().then(We=>{We.done?Ue.complete():Ue.next(We.value)})},0,!0)})})}var Xe=O(3670),Ze=O(8239),nt=O(1144),pt=O(6495),ze=O(2206),Le=O(4532),He=O(3260);function le(Ee,lt){return lt?function ve(Ee,lt){if(null!=Ee){if((0,Xe.c)(Ee))return function X(Ee,lt){return(0,g.Xf)(Ee).pipe((0,G.R)(lt),(0,l.Q)(lt))}(Ee,lt);if((0,nt.z)(Ee))return function Be(Ee,lt){return new Oe.y(Ue=>{let Ot=0;return lt.schedule(function(){Ot===Ee.length?Ue.complete():(Ue.next(Ee[Ot++]),Ue.closed||this.schedule())})})}(Ee,lt);if((0,Ze.t)(Ee))return function be(Ee,lt){return(0,g.Xf)(Ee).pipe((0,G.R)(lt),(0,l.Q)(lt))}(Ee,lt);if((0,ze.D)(Ee))return Se(Ee,lt);if((0,pt.T)(Ee))return function ce(Ee,lt){return new Oe.y(Ue=>{let Ot;return(0,te.f)(Ue,lt,()=>{Ot=Ee[me.h](),(0,te.f)(Ue,lt,()=>{let We,mt;try{({value:We,done:mt}=Ot.next())}catch(gt){return void Ue.error(gt)}mt?Ue.complete():Ue.next(We)},0,!0)}),()=>(0,Fe.m)(null==Ot?void 0:Ot.return)&&Ot.return()})}(Ee,lt);if((0,He.L)(Ee))return function Pe(Ee,lt){return Se((0,He.Q)(Ee),lt)}(Ee,lt)}throw(0,Le.z)(Ee)}(Ee,lt):(0,g.Xf)(Ee)}},4968:(Jt,at,O)=>{O.d(at,{R:()=>te});var g=O(8421),l=O(8306),G=O(5577),X=O(1144),be=O(576),Oe=O(3268);const Be=["addListener","removeListener"],me=["addEventListener","removeEventListener"],Fe=["on","off"];function te(nt,pt,ze,Le){if((0,be.m)(ze)&&(Le=ze,ze=void 0),Le)return te(nt,pt,ze).pipe((0,Oe.Z)(Le));const[He,Pe]=function Ze(nt){return(0,be.m)(nt.addEventListener)&&(0,be.m)(nt.removeEventListener)}(nt)?me.map(ve=>le=>nt[ve](pt,le,ze)):function Se(nt){return(0,be.m)(nt.addListener)&&(0,be.m)(nt.removeListener)}(nt)?Be.map(ce(nt,pt)):function Xe(nt){return(0,be.m)(nt.on)&&(0,be.m)(nt.off)}(nt)?Fe.map(ce(nt,pt)):[];if(!He&&(0,X.z)(nt))return(0,G.z)(ve=>te(ve,pt,ze))((0,g.Xf)(nt));if(!He)throw new TypeError("Invalid event target");return new l.y(ve=>{const le=(...Ee)=>ve.next(1<Ee.length?Ee:Ee[0]);return He(le),()=>Pe(le)})}function ce(nt,pt){return ze=>Le=>nt[ze](pt,Le)}},8421:(Jt,at,O)=>{O.d(at,{Xf:()=>Xe});var g=O(655),l=O(1144),G=O(8239),X=O(8306),be=O(3670),Oe=O(2206),Be=O(4532),me=O(6495),Fe=O(3260),te=O(576),ce=O(7849),Se=O(8822);function Xe(ve){if(ve instanceof X.y)return ve;if(null!=ve){if((0,be.c)(ve))return function Ze(ve){return new X.y(le=>{const Ee=ve[Se.L]();if((0,te.m)(Ee.subscribe))return Ee.subscribe(le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,l.z)(ve))return function nt(ve){return new X.y(le=>{for(let Ee=0;Ee<ve.length&&!le.closed;Ee++)le.next(ve[Ee]);le.complete()})}(ve);if((0,G.t)(ve))return function pt(ve){return new X.y(le=>{ve.then(Ee=>{le.closed||(le.next(Ee),le.complete())},Ee=>le.error(Ee)).then(null,ce.h)})}(ve);if((0,Oe.D)(ve))return Le(ve);if((0,me.T)(ve))return function ze(ve){return new X.y(le=>{for(const Ee of ve)if(le.next(Ee),le.closed)return;le.complete()})}(ve);if((0,Fe.L)(ve))return function He(ve){return Le((0,Fe.Q)(ve))}(ve)}throw(0,Be.z)(ve)}function Le(ve){return new X.y(le=>{(function Pe(ve,le){var Ee,lt,Ue,Ot;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,g.KL)(ve);!(lt=yield Ee.next()).done;)if(le.next(lt.value),le.closed)return}catch(We){Ue={error:We}}finally{try{lt&&!lt.done&&(Ot=Ee.return)&&(yield Ot.call(Ee))}finally{if(Ue)throw Ue.error}}le.complete()})})(ve,le).catch(Ee=>le.error(Ee))})}},6451:(Jt,at,O)=>{O.d(at,{T:()=>Oe});var g=O(8189),l=O(8421),G=O(515),X=O(3269),be=O(8996);function Oe(...Be){const me=(0,X.yG)(Be),Fe=(0,X._6)(Be,1/0),te=Be;return te.length?1===te.length?(0,l.Xf)(te[0]):(0,g.J)(Fe)((0,be.D)(te,me)):G.E}},9646:(Jt,at,O)=>{O.d(at,{of:()=>G});var g=O(3269),l=O(8996);function G(...X){const be=(0,g.yG)(X);return(0,l.D)(X,be)}},2843:(Jt,at,O)=>{O.d(at,{_:()=>G});var g=O(8306),l=O(576);function G(X,be){const Oe=(0,l.m)(X)?X:()=>X,Be=me=>me.error(Oe());return new g.y(be?me=>be.schedule(Be,0,me):Be)}},5403:(Jt,at,O)=>{O.d(at,{x:()=>l});var g=O(930);function l(X,be,Oe,Be,me){return new G(X,be,Oe,Be,me)}class G extends g.Lv{constructor(be,Oe,Be,me,Fe,te){super(be),this.onFinalize=Fe,this.shouldUnsubscribe=te,this._next=Oe?function(ce){try{Oe(ce)}catch(Se){be.error(Se)}}:super._next,this._error=me?function(ce){try{me(ce)}catch(Se){be.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=Be?function(){try{Be()}catch(ce){be.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Oe}=this;super.unsubscribe(),!Oe&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},262:(Jt,at,O)=>{O.d(at,{K:()=>X});var g=O(8421),l=O(5403),G=O(4482);function X(be){return(0,G.e)((Oe,Be)=>{let te,me=null,Fe=!1;me=Oe.subscribe((0,l.x)(Be,void 0,void 0,ce=>{te=(0,g.Xf)(be(ce,X(be)(Oe))),me?(me.unsubscribe(),me=null,te.subscribe(Be)):Fe=!0})),Fe&&(me.unsubscribe(),me=null,te.subscribe(Be))})}},4351:(Jt,at,O)=>{O.d(at,{b:()=>G});var g=O(5577),l=O(576);function G(X,be){return(0,l.m)(be)?(0,g.z)(X,be,1):(0,g.z)(X,1)}},8372:(Jt,at,O)=>{O.d(at,{b:()=>X});var g=O(4986),l=O(4482),G=O(5403);function X(be,Oe=g.z){return(0,l.e)((Be,me)=>{let Fe=null,te=null,ce=null;const Se=()=>{if(Fe){Fe.unsubscribe(),Fe=null;const Ze=te;te=null,me.next(Ze)}};function Xe(){const Ze=ce+be,nt=Oe.now();if(nt<Ze)return Fe=this.schedule(void 0,Ze-nt),void me.add(Fe);Se()}Be.subscribe((0,G.x)(me,Ze=>{te=Ze,ce=Oe.now(),Fe||(Fe=Oe.schedule(Xe,be),me.add(Fe))},()=>{Se(),me.complete()},void 0,()=>{te=Fe=null}))})}},6590:(Jt,at,O)=>{O.d(at,{d:()=>G});var g=O(4482),l=O(5403);function G(X){return(0,g.e)((be,Oe)=>{let Be=!1;be.subscribe((0,l.x)(Oe,me=>{Be=!0,Oe.next(me)},()=>{Be||Oe.next(X),Oe.complete()}))})}},1884:(Jt,at,O)=>{O.d(at,{x:()=>X});var g=O(4671),l=O(4482),G=O(5403);function X(Oe,Be=g.y){return Oe=null!=Oe?Oe:be,(0,l.e)((me,Fe)=>{let te,ce=!0;me.subscribe((0,G.x)(Fe,Se=>{const Xe=Be(Se);(ce||!Oe(te,Xe))&&(ce=!1,te=Xe,Fe.next(Se))}))})}function be(Oe,Be){return Oe===Be}},9300:(Jt,at,O)=>{O.d(at,{h:()=>G});var g=O(4482),l=O(5403);function G(X,be){return(0,g.e)((Oe,Be)=>{let me=0;Oe.subscribe((0,l.x)(Be,Fe=>X.call(be,Fe,me++)&&Be.next(Fe)))})}},8746:(Jt,at,O)=>{O.d(at,{x:()=>l});var g=O(4482);function l(G){return(0,g.e)((X,be)=>{try{X.subscribe(be)}finally{be.add(G)}})}},590:(Jt,at,O)=>{O.d(at,{P:()=>Be});var g=O(6805),l=O(9300),G=O(5698),X=O(6590),be=O(8068),Oe=O(4671);function Be(me,Fe){const te=arguments.length>=2;return ce=>ce.pipe(me?(0,l.h)((Se,Xe)=>me(Se,Xe,ce)):Oe.y,(0,G.q)(1),te?(0,X.d)(Fe):(0,be.T)(()=>new g.K))}},4004:(Jt,at,O)=>{O.d(at,{U:()=>G});var g=O(4482),l=O(5403);function G(X,be){return(0,g.e)((Oe,Be)=>{let me=0;Oe.subscribe((0,l.x)(Be,Fe=>{Be.next(X.call(be,Fe,me++))}))})}},8189:(Jt,at,O)=>{O.d(at,{J:()=>G});var g=O(5577),l=O(4671);function G(X=1/0){return(0,g.z)(l.y,X)}},5577:(Jt,at,O)=>{O.d(at,{z:()=>me});var g=O(4004),l=O(8421),G=O(4482),X=O(9672),be=O(5403),Be=O(576);function me(Fe,te,ce=1/0){return(0,Be.m)(te)?me((Se,Xe)=>(0,g.U)((Ze,nt)=>te(Se,Ze,Xe,nt))((0,l.Xf)(Fe(Se,Xe))),ce):("number"==typeof te&&(ce=te),(0,G.e)((Se,Xe)=>function Oe(Fe,te,ce,Se,Xe,Ze,nt,pt){const ze=[];let Le=0,He=0,Pe=!1;const ve=()=>{Pe&&!ze.length&&!Le&&te.complete()},le=lt=>Le<Se?Ee(lt):ze.push(lt),Ee=lt=>{Ze&&te.next(lt),Le++;let Ue=!1;(0,l.Xf)(ce(lt,He++)).subscribe((0,be.x)(te,Ot=>{null==Xe||Xe(Ot),Ze?le(Ot):te.next(Ot)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(Le--;ze.length&&Le<Se;){const Ot=ze.shift();nt?(0,X.f)(te,nt,()=>Ee(Ot)):Ee(Ot)}ve()}catch(Ot){te.error(Ot)}}))};return Fe.subscribe((0,be.x)(te,le,()=>{Pe=!0,ve()})),()=>{null==pt||pt()}}(Se,Xe,Fe,ce)))}},5363:(Jt,at,O)=>{O.d(at,{Q:()=>X});var g=O(9672),l=O(4482),G=O(5403);function X(be,Oe=0){return(0,l.e)((Be,me)=>{Be.subscribe((0,G.x)(me,Fe=>(0,g.f)(me,be,()=>me.next(Fe),Oe),()=>(0,g.f)(me,be,()=>me.complete(),Oe),Fe=>(0,g.f)(me,be,()=>me.error(Fe),Oe)))})}},5026:(Jt,at,O)=>{O.d(at,{R:()=>X});var g=O(4482),l=O(5403);function G(be,Oe,Be,me,Fe){return(te,ce)=>{let Se=Be,Xe=Oe,Ze=0;te.subscribe((0,l.x)(ce,nt=>{const pt=Ze++;Xe=Se?be(Xe,nt,pt):(Se=!0,nt),me&&ce.next(Xe)},Fe&&(()=>{Se&&ce.next(Xe),ce.complete()})))}}function X(be,Oe){return(0,g.e)(G(be,Oe,arguments.length>=2,!0))}},3099:(Jt,at,O)=>{O.d(at,{B:()=>Oe});var g=O(8996),l=O(5698),G=O(7579),X=O(930),be=O(4482);function Oe(me={}){const{connector:Fe=(()=>new G.x),resetOnError:te=!0,resetOnComplete:ce=!0,resetOnRefCountZero:Se=!0}=me;return Xe=>{let Ze=null,nt=null,pt=null,ze=0,Le=!1,He=!1;const Pe=()=>{null==nt||nt.unsubscribe(),nt=null},ve=()=>{Pe(),Ze=pt=null,Le=He=!1},le=()=>{const Ee=Ze;ve(),null==Ee||Ee.unsubscribe()};return(0,be.e)((Ee,lt)=>{ze++,!He&&!Le&&Pe();const Ue=pt=null!=pt?pt:Fe();lt.add(()=>{ze--,0===ze&&!He&&!Le&&(nt=Be(le,Se))}),Ue.subscribe(lt),Ze||(Ze=new X.Hp({next:Ot=>Ue.next(Ot),error:Ot=>{He=!0,Pe(),nt=Be(ve,te,Ot),Ue.error(Ot)},complete:()=>{Le=!0,Pe(),nt=Be(ve,ce),Ue.complete()}}),(0,g.D)(Ee).subscribe(Ze))})(Xe)}}function Be(me,Fe,...te){return!0===Fe?(me(),null):!1===Fe?null:Fe(...te).pipe((0,l.q)(1)).subscribe(()=>me())}},8675:(Jt,at,O)=>{O.d(at,{O:()=>X});var g=O(7272),l=O(3269),G=O(4482);function X(...be){const Oe=(0,l.yG)(be);return(0,G.e)((Be,me)=>{(Oe?(0,g.z)(be,Be,Oe):(0,g.z)(be,Be)).subscribe(me)})}},9468:(Jt,at,O)=>{O.d(at,{R:()=>l});var g=O(4482);function l(G,X=0){return(0,g.e)((be,Oe)=>{Oe.add(G.schedule(()=>be.subscribe(Oe),X))})}},3900:(Jt,at,O)=>{O.d(at,{w:()=>X});var g=O(8421),l=O(4482),G=O(5403);function X(be,Oe){return(0,l.e)((Be,me)=>{let Fe=null,te=0,ce=!1;const Se=()=>ce&&!Fe&&me.complete();Be.subscribe((0,G.x)(me,Xe=>{null==Fe||Fe.unsubscribe();let Ze=0;const nt=te++;(0,g.Xf)(be(Xe,nt)).subscribe(Fe=(0,G.x)(me,pt=>me.next(Oe?Oe(Xe,pt,nt,Ze++):pt),()=>{Fe=null,Se()}))},()=>{ce=!0,Se()}))})}},5698:(Jt,at,O)=>{O.d(at,{q:()=>X});var g=O(515),l=O(4482),G=O(5403);function X(be){return be<=0?()=>g.E:(0,l.e)((Oe,Be)=>{let me=0;Oe.subscribe((0,G.x)(Be,Fe=>{++me<=be&&(Be.next(Fe),be<=me&&Be.complete())}))})}},2722:(Jt,at,O)=>{O.d(at,{R:()=>be});var g=O(4482),l=O(5403),G=O(8421),X=O(5032);function be(Oe){return(0,g.e)((Be,me)=>{(0,G.Xf)(Oe).subscribe((0,l.x)(me,()=>me.complete(),X.Z)),!me.closed&&Be.subscribe(me)})}},8505:(Jt,at,O)=>{O.d(at,{b:()=>be});var g=O(576),l=O(4482),G=O(5403),X=O(4671);function be(Oe,Be,me){const Fe=(0,g.m)(Oe)||Be||me?{next:Oe,error:Be,complete:me}:Oe;return Fe?(0,l.e)((te,ce)=>{var Se;null===(Se=Fe.subscribe)||void 0===Se||Se.call(Fe);let Xe=!0;te.subscribe((0,G.x)(ce,Ze=>{var nt;null===(nt=Fe.next)||void 0===nt||nt.call(Fe,Ze),ce.next(Ze)},()=>{var Ze;Xe=!1,null===(Ze=Fe.complete)||void 0===Ze||Ze.call(Fe),ce.complete()},Ze=>{var nt;Xe=!1,null===(nt=Fe.error)||void 0===nt||nt.call(Fe,Ze),ce.error(Ze)},()=>{var Ze,nt;Xe&&(null===(Ze=Fe.unsubscribe)||void 0===Ze||Ze.call(Fe)),null===(nt=Fe.finalize)||void 0===nt||nt.call(Fe)}))}):X.y}},8068:(Jt,at,O)=>{O.d(at,{T:()=>X});var g=O(6805),l=O(4482),G=O(5403);function X(Oe=be){return(0,l.e)((Be,me)=>{let Fe=!1;Be.subscribe((0,G.x)(me,te=>{Fe=!0,me.next(te)},()=>Fe?me.complete():me.error(Oe())))})}function be(){return new g.K}},4408:(Jt,at,O)=>{O.d(at,{o:()=>be});var g=O(727);class l extends g.w0{constructor(Be,me){super()}schedule(Be,me=0){return this}}const G={setInterval(Oe,Be,...me){const{delegate:Fe}=G;return(null==Fe?void 0:Fe.setInterval)?Fe.setInterval(Oe,Be,...me):setInterval(Oe,Be,...me)},clearInterval(Oe){const{delegate:Be}=G;return((null==Be?void 0:Be.clearInterval)||clearInterval)(Oe)},delegate:void 0};var X=O(8737);class be extends l{constructor(Be,me){super(Be,me),this.scheduler=Be,this.work=me,this.pending=!1}schedule(Be,me=0){if(this.closed)return this;this.state=Be;const Fe=this.id,te=this.scheduler;return null!=Fe&&(this.id=this.recycleAsyncId(te,Fe,me)),this.pending=!0,this.delay=me,this.id=this.id||this.requestAsyncId(te,this.id,me),this}requestAsyncId(Be,me,Fe=0){return G.setInterval(Be.flush.bind(Be,this),Fe)}recycleAsyncId(Be,me,Fe=0){if(null!=Fe&&this.delay===Fe&&!1===this.pending)return me;G.clearInterval(me)}execute(Be,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(Be,me);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Be,me){let te,Fe=!1;try{this.work(Be)}catch(ce){Fe=!0,te=ce||new Error("Scheduled action threw falsy error")}if(Fe)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:Be,scheduler:me}=this,{actions:Fe}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(Fe,this),null!=Be&&(this.id=this.recycleAsyncId(me,Be,null)),this.delay=null,super.unsubscribe()}}}},7565:(Jt,at,O)=>{O.d(at,{v:()=>G});var g=O(6063);class l{constructor(be,Oe=l.now){this.schedulerActionCtor=be,this.now=Oe}schedule(be,Oe=0,Be){return new this.schedulerActionCtor(this,be).schedule(Be,Oe)}}l.now=g.l.now;class G extends l{constructor(be,Oe=l.now){super(be,Oe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(be){const{actions:Oe}=this;if(this._active)return void Oe.push(be);let Be;this._active=!0;do{if(Be=be.execute(be.state,be.delay))break}while(be=Oe.shift());if(this._active=!1,Be){for(;be=Oe.shift();)be.unsubscribe();throw Be}}}},4986:(Jt,at,O)=>{O.d(at,{z:()=>G,P:()=>X});var g=O(4408);const G=new(O(7565).v)(g.o),X=G},6063:(Jt,at,O)=>{O.d(at,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(Jt,at,O)=>{O.d(at,{z:()=>g});const g={setTimeout(l,G,...X){const{delegate:be}=g;return(null==be?void 0:be.setTimeout)?be.setTimeout(l,G,...X):setTimeout(l,G,...X)},clearTimeout(l){const{delegate:G}=g;return((null==G?void 0:G.clearTimeout)||clearTimeout)(l)},delegate:void 0}},2202:(Jt,at,O)=>{O.d(at,{h:()=>l});const l=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Jt,at,O)=>{O.d(at,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Jt,at,O)=>{O.d(at,{K:()=>l});const l=(0,O(3888).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Jt,at,O)=>{O.d(at,{jO:()=>X,yG:()=>be,_6:()=>Oe});var g=O(576),l=O(3532);function G(Be){return Be[Be.length-1]}function X(Be){return(0,g.m)(G(Be))?Be.pop():void 0}function be(Be){return(0,l.K)(G(Be))?Be.pop():void 0}function Oe(Be,me){return"number"==typeof G(Be)?Be.pop():me}},4742:(Jt,at,O)=>{O.d(at,{D:()=>be});const{isArray:g}=Array,{getPrototypeOf:l,prototype:G,keys:X}=Object;function be(Be){if(1===Be.length){const me=Be[0];if(g(me))return{args:me,keys:null};if(function Oe(Be){return Be&&"object"==typeof Be&&l(Be)===G}(me)){const Fe=X(me);return{args:Fe.map(te=>me[te]),keys:Fe}}}return{args:Be,keys:null}}},8737:(Jt,at,O)=>{function g(l,G){if(l){const X=l.indexOf(G);0<=X&&l.splice(X,1)}}O.d(at,{P:()=>g})},3888:(Jt,at,O)=>{function g(l){const X=l(be=>{Error.call(be),be.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}O.d(at,{d:()=>g})},1810:(Jt,at,O)=>{function g(l,G){return l.reduce((X,be,Oe)=>(X[be]=G[Oe],X),{})}O.d(at,{n:()=>g})},2806:(Jt,at,O)=>{O.d(at,{x:()=>G,O:()=>X});var g=O(2416);let l=null;function G(be){if(g.v.useDeprecatedSynchronousErrorHandling){const Oe=!l;if(Oe&&(l={errorThrown:!1,error:null}),be(),Oe){const{errorThrown:Be,error:me}=l;if(l=null,Be)throw me}}else be()}function X(be){g.v.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=be)}},9672:(Jt,at,O)=>{function g(l,G,X,be=0,Oe=!1){const Be=G.schedule(function(){X(),Oe?l.add(this.schedule(null,be)):this.unsubscribe()},be);if(l.add(Be),!Oe)return Be}O.d(at,{f:()=>g})},4671:(Jt,at,O)=>{function g(l){return l}O.d(at,{y:()=>g})},1144:(Jt,at,O)=>{O.d(at,{z:()=>g});const g=l=>l&&"number"==typeof l.length&&"function"!=typeof l},2206:(Jt,at,O)=>{O.d(at,{D:()=>l});var g=O(576);function l(G){return Symbol.asyncIterator&&(0,g.m)(null==G?void 0:G[Symbol.asyncIterator])}},576:(Jt,at,O)=>{function g(l){return"function"==typeof l}O.d(at,{m:()=>g})},3670:(Jt,at,O)=>{O.d(at,{c:()=>G});var g=O(8822),l=O(576);function G(X){return(0,l.m)(X[g.L])}},6495:(Jt,at,O)=>{O.d(at,{T:()=>G});var g=O(2202),l=O(576);function G(X){return(0,l.m)(null==X?void 0:X[g.h])}},8239:(Jt,at,O)=>{O.d(at,{t:()=>l});var g=O(576);function l(G){return(0,g.m)(null==G?void 0:G.then)}},3260:(Jt,at,O)=>{O.d(at,{Q:()=>G,L:()=>X});var g=O(655),l=O(576);function G(be){return(0,g.FC)(this,arguments,function*(){const Be=be.getReader();try{for(;;){const{value:me,done:Fe}=yield(0,g.qq)(Be.read());if(Fe)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(me)}}finally{Be.releaseLock()}})}function X(be){return(0,l.m)(null==be?void 0:be.getReader)}},3532:(Jt,at,O)=>{O.d(at,{K:()=>l});var g=O(576);function l(G){return G&&(0,g.m)(G.schedule)}},4482:(Jt,at,O)=>{O.d(at,{A:()=>l,e:()=>G});var g=O(576);function l(X){return(0,g.m)(null==X?void 0:X.lift)}function G(X){return be=>{if(l(be))return be.lift(function(Oe){try{return X(Oe,this)}catch(Be){this.error(Be)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Jt,at,O)=>{O.d(at,{Z:()=>X});var g=O(4004);const{isArray:l}=Array;function X(be){return(0,g.U)(Oe=>function G(be,Oe){return l(Oe)?be(...Oe):be(Oe)}(be,Oe))}},5032:(Jt,at,O)=>{function g(){}O.d(at,{Z:()=>g})},7849:(Jt,at,O)=>{O.d(at,{h:()=>G});var g=O(2416),l=O(3410);function G(X){l.z.setTimeout(()=>{const{onUnhandledError:be}=g.v;if(!be)throw X;be(X)})}},4532:(Jt,at,O)=>{function g(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(at,{z:()=>g})},655:(Jt,at,O)=>{function X(We,mt){var gt={};for(var Et in We)Object.prototype.hasOwnProperty.call(We,Et)&&mt.indexOf(Et)<0&&(gt[Et]=We[Et]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Dt=0;for(Et=Object.getOwnPropertySymbols(We);Dt<Et.length;Dt++)mt.indexOf(Et[Dt])<0&&Object.prototype.propertyIsEnumerable.call(We,Et[Dt])&&(gt[Et[Dt]]=We[Et[Dt]])}return gt}function me(We,mt,gt,Et){return new(gt||(gt=Promise))(function(ct,mn){function en(jt){try{Ut(Et.next(jt))}catch(un){mn(un)}}function An(jt){try{Ut(Et.throw(jt))}catch(un){mn(un)}}function Ut(jt){jt.done?ct(jt.value):function Dt(ct){return ct instanceof gt?ct:new gt(function(mn){mn(ct)})}(jt.value).then(en,An)}Ut((Et=Et.apply(We,mt||[])).next())})}function ze(We){return this instanceof ze?(this.v=We,this):new ze(We)}function Le(We,mt,gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Dt,Et=gt.apply(We,mt||[]),ct=[];return Dt={},mn("next"),mn("throw"),mn("return"),Dt[Symbol.asyncIterator]=function(){return this},Dt;function mn(dn){Et[dn]&&(Dt[dn]=function(xt){return new Promise(function(It,Ke){ct.push([dn,xt,It,Ke])>1||en(dn,xt)})})}function en(dn,xt){try{!function An(dn){dn.value instanceof ze?Promise.resolve(dn.value.v).then(Ut,jt):un(ct[0][2],dn)}(Et[dn](xt))}catch(It){un(ct[0][3],It)}}function Ut(dn){en("next",dn)}function jt(dn){en("throw",dn)}function un(dn,xt){dn(xt),ct.shift(),ct.length&&en(ct[0][0],ct[0][1])}}function Pe(We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt,mt=We[Symbol.asyncIterator];return mt?mt.call(We):(We=function Se(We){var mt="function"==typeof Symbol&&Symbol.iterator,gt=mt&&We[mt],Et=0;if(gt)return gt.call(We);if(We&&"number"==typeof We.length)return{next:function(){return We&&Et>=We.length&&(We=void 0),{value:We&&We[Et++],done:!We}}};throw new TypeError(mt?"Object is not iterable.":"Symbol.iterator is not defined.")}(We),gt={},Et("next"),Et("throw"),Et("return"),gt[Symbol.asyncIterator]=function(){return this},gt);function Et(ct){gt[ct]=We[ct]&&function(mn){return new Promise(function(en,An){!function Dt(ct,mn,en,An){Promise.resolve(An).then(function(Ut){ct({value:Ut,done:en})},mn)}(en,An,(mn=We[ct](mn)).done,mn.value)})}}}O.d(at,{_T:()=>X,mG:()=>me,qq:()=>ze,FC:()=>Le,KL:()=>Pe})},1777:(Jt,at,O)=>{O.d(at,{l3:()=>G,_j:()=>g,LC:()=>l,ZN:()=>Le,jt:()=>be,pV:()=>Xe,IO:()=>nt,vP:()=>Be,SB:()=>Fe,oB:()=>me,eR:()=>ce,X$:()=>X,ZE:()=>He,k1:()=>Pe});class g{}class l{}const G="*";function X(ve,le){return{type:7,name:ve,definitions:le,options:{}}}function be(ve,le=null){return{type:4,styles:le,timings:ve}}function Be(ve,le=null){return{type:2,steps:ve,options:le}}function me(ve){return{type:6,styles:ve,offset:null}}function Fe(ve,le,Ee){return{type:0,name:ve,styles:le,options:Ee}}function ce(ve,le,Ee=null){return{type:1,expr:ve,animation:le,options:Ee}}function Xe(ve=null){return{type:9,options:ve}}function nt(ve,le,Ee=null){return{type:11,selector:ve,animation:le,options:Ee}}function ze(ve){Promise.resolve(null).then(ve)}class Le{constructor(le=0,Ee=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=le+Ee}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(le=>le()),this._onDoneFns=[])}onStart(le){this._onStartFns.push(le)}onDone(le){this._onDoneFns.push(le)}onDestroy(le){this._onDestroyFns.push(le)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ze(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(le=>le()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(le=>le()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(le){this._position=this.totalTime?le*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(le){const Ee="start"==le?this._onStartFns:this._onDoneFns;Ee.forEach(lt=>lt()),Ee.length=0}}class He{constructor(le){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=le;let Ee=0,lt=0,Ue=0;const Ot=this.players.length;0==Ot?ze(()=>this._onFinish()):this.players.forEach(We=>{We.onDone(()=>{++Ee==Ot&&this._onFinish()}),We.onDestroy(()=>{++lt==Ot&&this._onDestroy()}),We.onStart(()=>{++Ue==Ot&&this._onStart()})}),this.totalTime=this.players.reduce((We,mt)=>Math.max(We,mt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(le=>le()),this._onDoneFns=[])}init(){this.players.forEach(le=>le.init())}onStart(le){this._onStartFns.push(le)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(le=>le()),this._onStartFns=[])}onDone(le){this._onDoneFns.push(le)}onDestroy(le){this._onDestroyFns.push(le)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(le=>le.play())}pause(){this.players.forEach(le=>le.pause())}restart(){this.players.forEach(le=>le.restart())}finish(){this._onFinish(),this.players.forEach(le=>le.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(le=>le.destroy()),this._onDestroyFns.forEach(le=>le()),this._onDestroyFns=[])}reset(){this.players.forEach(le=>le.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(le){const Ee=le*this.totalTime;this.players.forEach(lt=>{const Ue=lt.totalTime?Math.min(1,Ee/lt.totalTime):1;lt.setPosition(Ue)})}getPosition(){const le=this.players.reduce((Ee,lt)=>null===Ee||lt.totalTime>Ee.totalTime?lt:Ee,null);return null!=le?le.getPosition():0}beforeDestroy(){this.players.forEach(le=>{le.beforeDestroy&&le.beforeDestroy()})}triggerCallback(le){const Ee="start"==le?this._onStartFns:this._onDoneFns;Ee.forEach(lt=>lt()),Ee.length=0}}const Pe="!"},8255:(Jt,at,O)=>{O.d(at,{s1:()=>Et,Em:()=>Dt,tE:()=>En,qV:()=>$n,qm:()=>gi,ic:()=>mn,Kd:()=>Te,X6:()=>Vn,yG:()=>zn});var g=O(9808),l=O(5e3),G=O(925),X=O(7579),be=O(727),Oe=O(1135),Be=O(9646),me=O(1159),Fe=O(9300),ce=O(8505),Se=O(8372),Xe=O(4004),Ze=O(5698),nt=O(1884),pt=O(2722),ze=O(3191);class gt{constructor(U){this._items=U,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new X.x,this._typeaheadSubscription=be.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=x=>x.disabled,this._pressedLetters=[],this.tabOut=new X.x,this.change=new X.x,U instanceof l.n_E&&U.changes.subscribe(x=>{if(this._activeItem){const ge=x.toArray().indexOf(this._activeItem);ge>-1&&ge!==this._activeItemIndex&&(this._activeItemIndex=ge)}})}skipPredicate(U){return this._skipPredicateFn=U,this}withWrap(U=!0){return this._wrap=U,this}withVerticalOrientation(U=!0){return this._vertical=U,this}withHorizontalOrientation(U){return this._horizontal=U,this}withAllowedModifierKeys(U){return this._allowedModifierKeys=U,this}withTypeAhead(U=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ce.b)(x=>this._pressedLetters.push(x)),(0,Se.b)(U),(0,Fe.h)(()=>this._pressedLetters.length>0),(0,Xe.U)(()=>this._pressedLetters.join(""))).subscribe(x=>{const j=this._getItemsArray();for(let ge=1;ge<j.length+1;ge++){const rt=(this._activeItemIndex+ge)%j.length,Ce=j[rt];if(!this._skipPredicateFn(Ce)&&0===Ce.getLabel().toUpperCase().trim().indexOf(x)){this.setActiveItem(rt);break}}this._pressedLetters=[]}),this}withHomeAndEnd(U=!0){return this._homeAndEnd=U,this}setActiveItem(U){const x=this._activeItem;this.updateActiveItem(U),this._activeItem!==x&&this.change.next(this._activeItemIndex)}onKeydown(U){const x=U.keyCode,ge=["altKey","ctrlKey","metaKey","shiftKey"].every(rt=>!U[rt]||this._allowedModifierKeys.indexOf(rt)>-1);switch(x){case me.Mf:return void this.tabOut.next();case me.JH:if(this._vertical&&ge){this.setNextItemActive();break}return;case me.LH:if(this._vertical&&ge){this.setPreviousItemActive();break}return;case me.SV:if(this._horizontal&&ge){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case me.oh:if(this._horizontal&&ge){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case me.Sd:if(this._homeAndEnd&&ge){this.setFirstItemActive();break}return;case me.uR:if(this._homeAndEnd&&ge){this.setLastItemActive();break}return;default:return void((ge||(0,me.Vb)(U,"shiftKey"))&&(U.key&&1===U.key.length?this._letterKeyStream.next(U.key.toLocaleUpperCase()):(x>=me.A&&x<=me.Z||x>=me.xE&&x<=me.aO)&&this._letterKeyStream.next(String.fromCharCode(x))))}this._pressedLetters=[],U.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(U){const x=this._getItemsArray(),j="number"==typeof U?U:x.indexOf(U),ge=x[j];this._activeItem=null==ge?null:ge,this._activeItemIndex=j}_setActiveItemByDelta(U){this._wrap?this._setActiveInWrapMode(U):this._setActiveInDefaultMode(U)}_setActiveInWrapMode(U){const x=this._getItemsArray();for(let j=1;j<=x.length;j++){const ge=(this._activeItemIndex+U*j+x.length)%x.length;if(!this._skipPredicateFn(x[ge]))return void this.setActiveItem(ge)}}_setActiveInDefaultMode(U){this._setActiveItemByIndex(this._activeItemIndex+U,U)}_setActiveItemByIndex(U,x){const j=this._getItemsArray();if(j[U]){for(;this._skipPredicateFn(j[U]);)if(!j[U+=x])return;this.setActiveItem(U)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class Et extends gt{setActiveItem(U){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(U),this.activeItem&&this.activeItem.setActiveStyles()}}class Dt extends gt{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(U){return this._origin=U,this}setActiveItem(U){super.setActiveItem(U),this.activeItem&&this.activeItem.focus(this._origin)}}let mn=(()=>{class pe{constructor(x){this._platform=x}isDisabled(x){return x.hasAttribute("disabled")}isVisible(x){return function An(pe){return!!(pe.offsetWidth||pe.offsetHeight||"function"==typeof pe.getClientRects&&pe.getClientRects().length)}(x)&&"visible"===getComputedStyle(x).visibility}isTabbable(x){if(!this._platform.isBrowser)return!1;const j=function en(pe){try{return pe.frameElement}catch(U){return null}}(function bn(pe){return pe.ownerDocument&&pe.ownerDocument.defaultView||window}(x));if(j&&(-1===Ke(j)||!this.isVisible(j)))return!1;let ge=x.nodeName.toLowerCase(),rt=Ke(x);return x.hasAttribute("contenteditable")?-1!==rt:!("iframe"===ge||"object"===ge||this._platform.WEBKIT&&this._platform.IOS&&!function it(pe){let U=pe.nodeName.toLowerCase(),x="input"===U&&pe.type;return"text"===x||"password"===x||"select"===U||"textarea"===U}(x))&&("audio"===ge?!!x.hasAttribute("controls")&&-1!==rt:"video"===ge?-1!==rt&&(null!==rt||this._platform.FIREFOX||x.hasAttribute("controls")):x.tabIndex>=0)}isFocusable(x,j){return function Vt(pe){return!function jt(pe){return function dn(pe){return"input"==pe.nodeName.toLowerCase()}(pe)&&"hidden"==pe.type}(pe)&&(function Ut(pe){let U=pe.nodeName.toLowerCase();return"input"===U||"select"===U||"button"===U||"textarea"===U}(pe)||function un(pe){return function xt(pe){return"a"==pe.nodeName.toLowerCase()}(pe)&&pe.hasAttribute("href")}(pe)||pe.hasAttribute("contenteditable")||It(pe))}(x)&&!this.isDisabled(x)&&((null==j?void 0:j.ignoreVisibility)||this.isVisible(x))}}return pe.\u0275fac=function(x){return new(x||pe)(l.LFG(G.t4))},pe.\u0275prov=l.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function It(pe){if(!pe.hasAttribute("tabindex")||void 0===pe.tabIndex)return!1;let U=pe.getAttribute("tabindex");return!(!U||isNaN(parseInt(U,10)))}function Ke(pe){if(!It(pe))return null;const U=parseInt(pe.getAttribute("tabindex")||"",10);return isNaN(U)?-1:U}class Rn{constructor(U,x,j,ge,rt=!1){this._element=U,this._checker=x,this._ngZone=j,this._document=ge,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,rt||this.attachAnchors()}get enabled(){return this._enabled}set enabled(U){this._enabled=U,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(U,this._startAnchor),this._toggleAnchorTabIndex(U,this._endAnchor))}destroy(){const U=this._startAnchor,x=this._endAnchor;U&&(U.removeEventListener("focus",this.startAnchorListener),U.remove()),x&&(x.removeEventListener("focus",this.endAnchorListener),x.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(U){return new Promise(x=>{this._executeOnStable(()=>x(this.focusInitialElement(U)))})}focusFirstTabbableElementWhenReady(U){return new Promise(x=>{this._executeOnStable(()=>x(this.focusFirstTabbableElement(U)))})}focusLastTabbableElementWhenReady(U){return new Promise(x=>{this._executeOnStable(()=>x(this.focusLastTabbableElement(U)))})}_getRegionBoundary(U){const x=this._element.querySelectorAll(`[cdk-focus-region-${U}], [cdkFocusRegion${U}], [cdk-focus-${U}]`);return"start"==U?x.length?x[0]:this._getFirstTabbableElement(this._element):x.length?x[x.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(U){const x=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(x){if(!this._checker.isFocusable(x)){const j=this._getFirstTabbableElement(x);return null==j||j.focus(U),!!j}return x.focus(U),!0}return this.focusFirstTabbableElement(U)}focusFirstTabbableElement(U){const x=this._getRegionBoundary("start");return x&&x.focus(U),!!x}focusLastTabbableElement(U){const x=this._getRegionBoundary("end");return x&&x.focus(U),!!x}hasAttached(){return this._hasAttached}_getFirstTabbableElement(U){if(this._checker.isFocusable(U)&&this._checker.isTabbable(U))return U;const x=U.children;for(let j=0;j<x.length;j++){const ge=x[j].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(x[j]):null;if(ge)return ge}return null}_getLastTabbableElement(U){if(this._checker.isFocusable(U)&&this._checker.isTabbable(U))return U;const x=U.children;for(let j=x.length-1;j>=0;j--){const ge=x[j].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(x[j]):null;if(ge)return ge}return null}_createAnchor(){const U=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,U),U.classList.add("cdk-visually-hidden"),U.classList.add("cdk-focus-trap-anchor"),U.setAttribute("aria-hidden","true"),U}_toggleAnchorTabIndex(U,x){U?x.setAttribute("tabindex","0"):x.removeAttribute("tabindex")}toggleAnchors(U){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(U,this._startAnchor),this._toggleAnchorTabIndex(U,this._endAnchor))}_executeOnStable(U){this._ngZone.isStable?U():this._ngZone.onStable.pipe((0,Ze.q)(1)).subscribe(U)}}let $n=(()=>{class pe{constructor(x,j,ge){this._checker=x,this._ngZone=j,this._document=ge}create(x,j=!1){return new Rn(x,this._checker,this._ngZone,this._document,j)}}return pe.\u0275fac=function(x){return new(x||pe)(l.LFG(mn),l.LFG(l.R0b),l.LFG(g.K0))},pe.\u0275prov=l.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function Vn(pe){return 0===pe.buttons||0===pe.offsetX&&0===pe.offsetY}function zn(pe){const U=pe.touches&&pe.touches[0]||pe.changedTouches&&pe.changedTouches[0];return!(!U||-1!==U.identifier||null!=U.radiusX&&1!==U.radiusX||null!=U.radiusY&&1!==U.radiusY)}const Fn=new l.OlP("cdk-input-modality-detector-options"),di={ignoreKeys:[me.zL,me.jx,me.b2,me.MW,me.JU]},ii=(0,G.i$)({passive:!0,capture:!0});let Rt=(()=>{class pe{constructor(x,j,ge,rt){this._platform=x,this._mostRecentTarget=null,this._modality=new Oe.X(null),this._lastTouchMs=0,this._onKeydown=Ce=>{var Ie,je;(null===(je=null===(Ie=this._options)||void 0===Ie?void 0:Ie.ignoreKeys)||void 0===je?void 0:je.some(ft=>ft===Ce.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,G.sA)(Ce))},this._onMousedown=Ce=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Vn(Ce)?"keyboard":"mouse"),this._mostRecentTarget=(0,G.sA)(Ce))},this._onTouchstart=Ce=>{zn(Ce)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,G.sA)(Ce))},this._options=Object.assign(Object.assign({},di),rt),this.modalityDetected=this._modality.pipe(function te(pe){return(0,Fe.h)((U,x)=>pe<=x)}(1)),this.modalityChanged=this.modalityDetected.pipe((0,nt.x)()),x.isBrowser&&j.runOutsideAngular(()=>{ge.addEventListener("keydown",this._onKeydown,ii),ge.addEventListener("mousedown",this._onMousedown,ii),ge.addEventListener("touchstart",this._onTouchstart,ii)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ii),document.removeEventListener("mousedown",this._onMousedown,ii),document.removeEventListener("touchstart",this._onTouchstart,ii))}}return pe.\u0275fac=function(x){return new(x||pe)(l.LFG(G.t4),l.LFG(l.R0b),l.LFG(g.K0),l.LFG(Fn,8))},pe.\u0275prov=l.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const ht=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function we(){return null}}),tt=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Te=(()=>{class pe{constructor(x,j,ge,rt){this._ngZone=j,this._defaultOptions=rt,this._document=ge,this._liveElement=x||this._createLiveElement()}announce(x,...j){const ge=this._defaultOptions;let rt,Ce;return 1===j.length&&"number"==typeof j[0]?Ce=j[0]:[rt,Ce]=j,this.clear(),clearTimeout(this._previousTimeout),rt||(rt=ge&&ge.politeness?ge.politeness:"polite"),null==Ce&&ge&&(Ce=ge.duration),this._liveElement.setAttribute("aria-live",rt),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Ie=>this._currentResolve=Ie)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=x,"number"==typeof Ce&&(this._previousTimeout=setTimeout(()=>this.clear(),Ce)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var x,j;clearTimeout(this._previousTimeout),null===(x=this._liveElement)||void 0===x||x.remove(),this._liveElement=null,null===(j=this._currentResolve)||void 0===j||j.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const x="cdk-live-announcer-element",j=this._document.getElementsByClassName(x),ge=this._document.createElement("div");for(let rt=0;rt<j.length;rt++)j[rt].remove();return ge.classList.add(x),ge.classList.add("cdk-visually-hidden"),ge.setAttribute("aria-atomic","true"),ge.setAttribute("aria-live","polite"),this._document.body.appendChild(ge),ge}}return pe.\u0275fac=function(x){return new(x||pe)(l.LFG(ht,8),l.LFG(l.R0b),l.LFG(g.K0),l.LFG(tt,8))},pe.\u0275prov=l.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const Xt=new l.OlP("cdk-focus-monitor-default-options"),pn=(0,G.i$)({passive:!0,capture:!0});let En=(()=>{class pe{constructor(x,j,ge,rt,Ce){this._ngZone=x,this._platform=j,this._inputModalityDetector=ge,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new X.x,this._rootNodeFocusAndBlurListener=Ie=>{const je=(0,G.sA)(Ie),ft="focus"===Ie.type?this._onFocus:this._onBlur;for(let _e=je;_e;_e=_e.parentElement)ft.call(this,Ie,_e)},this._document=rt,this._detectionMode=(null==Ce?void 0:Ce.detectionMode)||0}monitor(x,j=!1){const ge=(0,ze.fI)(x);if(!this._platform.isBrowser||1!==ge.nodeType)return(0,Be.of)(null);const rt=(0,G.kV)(ge)||this._getDocument(),Ce=this._elementInfo.get(ge);if(Ce)return j&&(Ce.checkChildren=!0),Ce.subject;const Ie={checkChildren:j,subject:new X.x,rootNode:rt};return this._elementInfo.set(ge,Ie),this._registerGlobalListeners(Ie),Ie.subject}stopMonitoring(x){const j=(0,ze.fI)(x),ge=this._elementInfo.get(j);ge&&(ge.subject.complete(),this._setClasses(j),this._elementInfo.delete(j),this._removeGlobalListeners(ge))}focusVia(x,j,ge){const rt=(0,ze.fI)(x);rt===this._getDocument().activeElement?this._getClosestElementsInfo(rt).forEach(([Ie,je])=>this._originChanged(Ie,j,je)):(this._setOrigin(j),"function"==typeof rt.focus&&rt.focus(ge))}ngOnDestroy(){this._elementInfo.forEach((x,j)=>this.stopMonitoring(j))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(x){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(x)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(x){return 1===this._detectionMode||!!(null==x?void 0:x.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(x,j){x.classList.toggle("cdk-focused",!!j),x.classList.toggle("cdk-touch-focused","touch"===j),x.classList.toggle("cdk-keyboard-focused","keyboard"===j),x.classList.toggle("cdk-mouse-focused","mouse"===j),x.classList.toggle("cdk-program-focused","program"===j)}_setOrigin(x,j=!1){this._ngZone.runOutsideAngular(()=>{this._origin=x,this._originFromTouchInteraction="touch"===x&&j,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(x,j){const ge=this._elementInfo.get(j),rt=(0,G.sA)(x);!ge||!ge.checkChildren&&j!==rt||this._originChanged(j,this._getFocusOrigin(rt),ge)}_onBlur(x,j){const ge=this._elementInfo.get(j);!ge||ge.checkChildren&&x.relatedTarget instanceof Node&&j.contains(x.relatedTarget)||(this._setClasses(j),this._emitOrigin(ge.subject,null))}_emitOrigin(x,j){this._ngZone.run(()=>x.next(j))}_registerGlobalListeners(x){if(!this._platform.isBrowser)return;const j=x.rootNode,ge=this._rootNodeFocusListenerCount.get(j)||0;ge||this._ngZone.runOutsideAngular(()=>{j.addEventListener("focus",this._rootNodeFocusAndBlurListener,pn),j.addEventListener("blur",this._rootNodeFocusAndBlurListener,pn)}),this._rootNodeFocusListenerCount.set(j,ge+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,pt.R)(this._stopInputModalityDetector)).subscribe(rt=>{this._setOrigin(rt,!0)}))}_removeGlobalListeners(x){const j=x.rootNode;if(this._rootNodeFocusListenerCount.has(j)){const ge=this._rootNodeFocusListenerCount.get(j);ge>1?this._rootNodeFocusListenerCount.set(j,ge-1):(j.removeEventListener("focus",this._rootNodeFocusAndBlurListener,pn),j.removeEventListener("blur",this._rootNodeFocusAndBlurListener,pn),this._rootNodeFocusListenerCount.delete(j))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(x,j,ge){this._setClasses(x,j),this._emitOrigin(ge.subject,j),this._lastFocusOrigin=j}_getClosestElementsInfo(x){const j=[];return this._elementInfo.forEach((ge,rt)=>{(rt===x||ge.checkChildren&&rt.contains(x))&&j.push([rt,ge])}),j}}return pe.\u0275fac=function(x){return new(x||pe)(l.LFG(l.R0b),l.LFG(G.t4),l.LFG(Rt),l.LFG(g.K0,8),l.LFG(Xt,8))},pe.\u0275prov=l.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const Xn="cdk-high-contrast-black-on-white",Gn="cdk-high-contrast-white-on-black",sn="cdk-high-contrast-active";let gi=(()=>{class pe{constructor(x,j){this._platform=x,this._document=j}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const x=this._document.createElement("div");x.style.backgroundColor="rgb(1,2,3)",x.style.position="absolute",this._document.body.appendChild(x);const j=this._document.defaultView||window,ge=j&&j.getComputedStyle?j.getComputedStyle(x):null,rt=(ge&&ge.backgroundColor||"").replace(/ /g,"");switch(x.remove(),rt){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const x=this._document.body.classList;x.remove(sn),x.remove(Xn),x.remove(Gn),this._hasCheckedHighContrastMode=!0;const j=this.getHighContrastMode();1===j?(x.add(sn),x.add(Xn)):2===j&&(x.add(sn),x.add(Gn))}}}return pe.\u0275fac=function(x){return new(x||pe)(l.LFG(G.t4),l.LFG(g.K0))},pe.\u0275prov=l.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},226:(Jt,at,O)=>{O.d(at,{vT:()=>Fe,Is:()=>Be});var g=O(5e3),l=O(9808);const G=new g.OlP("cdk-dir-doc",{providedIn:"root",factory:function X(){return(0,g.f3M)(l.K0)}}),be=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Be=(()=>{class te{constructor(Se){if(this.value="ltr",this.change=new g.vpe,Se){const Ze=Se.documentElement?Se.documentElement.dir:null;this.value=function Oe(te){const ce=(null==te?void 0:te.toLowerCase())||"";return"auto"===ce&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?be.test(navigator.language)?"rtl":"ltr":"rtl"===ce?"rtl":"ltr"}((Se.body?Se.body.dir:null)||Ze||"ltr")}}ngOnDestroy(){this.change.complete()}}return te.\u0275fac=function(Se){return new(Se||te)(g.LFG(G,8))},te.\u0275prov=g.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})(),Fe=(()=>{class te{}return te.\u0275fac=function(Se){return new(Se||te)},te.\u0275mod=g.oAB({type:te}),te.\u0275inj=g.cJS({}),te})()},3191:(Jt,at,O)=>{O.d(at,{Eq:()=>be,Ig:()=>l,HM:()=>Oe,fI:()=>Be,su:()=>G});var g=O(5e3);function l(Fe){return null!=Fe&&"false"!=`${Fe}`}function G(Fe,te=0){return function X(Fe){return!isNaN(parseFloat(Fe))&&!isNaN(Number(Fe))}(Fe)?Number(Fe):te}function be(Fe){return Array.isArray(Fe)?Fe:[Fe]}function Oe(Fe){return null==Fe?"":"string"==typeof Fe?Fe:`${Fe}px`}function Be(Fe){return Fe instanceof g.SBq?Fe.nativeElement:Fe}},449:(Jt,at,O)=>{O.d(at,{Ov:()=>me});var g=O(7579);O(5e3);class me{constructor(Xe=!1,Ze,nt=!0){this._multiple=Xe,this._emitChanges=nt,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new g.x,Ze&&Ze.length&&(Xe?Ze.forEach(pt=>this._markSelected(pt)):this._markSelected(Ze[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...Xe){this._verifyValueAssignment(Xe),Xe.forEach(Ze=>this._markSelected(Ze)),this._emitChangeEvent()}deselect(...Xe){this._verifyValueAssignment(Xe),Xe.forEach(Ze=>this._unmarkSelected(Ze)),this._emitChangeEvent()}toggle(Xe){this.isSelected(Xe)?this.deselect(Xe):this.select(Xe)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(Xe){return this._selection.has(Xe)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Xe){this._multiple&&this.selected&&this._selected.sort(Xe)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Xe){this.isSelected(Xe)||(this._multiple||this._unmarkAll(),this._selection.add(Xe),this._emitChanges&&this._selectedToEmit.push(Xe))}_unmarkSelected(Xe){this.isSelected(Xe)&&(this._selection.delete(Xe),this._emitChanges&&this._deselectedToEmit.push(Xe))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Xe=>this._unmarkSelected(Xe))}_verifyValueAssignment(Xe){}}},1159:(Jt,at,O)=>{O.d(at,{A:()=>dn,zL:()=>me,jx:()=>Be,JH:()=>Pe,uR:()=>nt,K5:()=>be,hY:()=>ce,Sd:()=>pt,oh:()=>ze,b2:()=>cr,MW:()=>Qe,aO:()=>en,SV:()=>He,JU:()=>Oe,L_:()=>Se,Mf:()=>G,LH:()=>Le,Z:()=>Te,xE:()=>Ue,Vb:()=>dt});const G=9,be=13,Oe=16,Be=17,me=18,ce=27,Se=32,nt=35,pt=36,ze=37,Le=38,He=39,Pe=40,Ue=48,en=57,dn=65,Te=90,Qe=91,cr=224;function dt(Ye,...vt){return vt.length?vt.some(Gt=>Ye[Gt]):Ye.altKey||Ye.shiftKey||Ye.ctrlKey||Ye.metaKey}},925:(Jt,at,O)=>{O.d(at,{t4:()=>X,sA:()=>Pe,kV:()=>Le,Oy:()=>ve,_i:()=>nt,qK:()=>me,i$:()=>ce,Mq:()=>Ze});var g=O(5e3),l=O(9808);let G;try{G="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(le){G=!1}let Oe,X=(()=>{class le{constructor(lt){this._platformId=lt,this.isBrowser=this._platformId?(0,l.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!G)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return le.\u0275fac=function(lt){return new(lt||le)(g.LFG(g.Lbi))},le.\u0275prov=g.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();const Be=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function me(){if(Oe)return Oe;if("object"!=typeof document||!document)return Oe=new Set(Be),Oe;let le=document.createElement("input");return Oe=new Set(Be.filter(Ee=>(le.setAttribute("type",Ee),le.type===Ee))),Oe}let Fe,Se,Xe,pt;function ce(le){return function te(){if(null==Fe&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fe=!0}))}finally{Fe=Fe||!1}return Fe}()?le:!!le.capture}function Ze(){if(null==Xe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xe=!1,Xe;if("scrollBehavior"in document.documentElement.style)Xe=!0;else{const le=Element.prototype.scrollTo;Xe=!!le&&!/\{\s*\[native code\]\s*\}/.test(le.toString())}}return Xe}function nt(){if("object"!=typeof document||!document)return 0;if(null==Se){const le=document.createElement("div"),Ee=le.style;le.dir="rtl",Ee.width="1px",Ee.overflow="auto",Ee.visibility="hidden",Ee.pointerEvents="none",Ee.position="absolute";const lt=document.createElement("div"),Ue=lt.style;Ue.width="2px",Ue.height="1px",le.appendChild(lt),document.body.appendChild(le),Se=0,0===le.scrollLeft&&(le.scrollLeft=1,Se=0===le.scrollLeft?1:2),le.remove()}return Se}function Le(le){if(function ze(){if(null==pt){const le="undefined"!=typeof document?document.head:null;pt=!(!le||!le.createShadowRoot&&!le.attachShadow)}return pt}()){const Ee=le.getRootNode?le.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&Ee instanceof ShadowRoot)return Ee}return null}function Pe(le){return le.composedPath?le.composedPath()[0]:le.target}function ve(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},5494:(Jt,at,O)=>{O.d(at,{PQ:()=>Zn,ZD:()=>Ri,mF:()=>wn,Cl:()=>ii,rL:()=>Wi});var g=O(3191),l=O(5e3),G=O(4408),X=O(727);const be={schedule(Rt){let ht=requestAnimationFrame,we=cancelAnimationFrame;const{delegate:tt}=be;tt&&(ht=tt.requestAnimationFrame,we=tt.cancelAnimationFrame);const Te=ht(Qe=>{we=void 0,Rt(Qe)});return new X.w0(()=>null==we?void 0:we(Te))},requestAnimationFrame(...Rt){const{delegate:ht}=be;return((null==ht?void 0:ht.requestAnimationFrame)||requestAnimationFrame)(...Rt)},cancelAnimationFrame(...Rt){const{delegate:ht}=be;return((null==ht?void 0:ht.cancelAnimationFrame)||cancelAnimationFrame)(...Rt)},delegate:void 0};var Be=O(7565);new class me extends Be.v{flush(ht){this._active=!0;const we=this._scheduled;this._scheduled=void 0;const{actions:tt}=this;let Te;ht=ht||tt.shift();do{if(Te=ht.execute(ht.state,ht.delay))break}while((ht=tt[0])&&ht.id===we&&tt.shift());if(this._active=!1,Te){for(;(ht=tt[0])&&ht.id===we&&tt.shift();)ht.unsubscribe();throw Te}}}(class Oe extends G.o{constructor(ht,we){super(ht,we),this.scheduler=ht,this.work=we}requestAsyncId(ht,we,tt=0){return null!==tt&&tt>0?super.requestAsyncId(ht,we,tt):(ht.actions.push(this),ht._scheduled||(ht._scheduled=be.requestAnimationFrame(()=>ht.flush(void 0))))}recycleAsyncId(ht,we,tt=0){if(null!=tt&&tt>0||null==tt&&this.delay>0)return super.recycleAsyncId(ht,we,tt);ht.actions.some(Te=>Te.id===we)||(be.cancelAnimationFrame(we),ht._scheduled=void 0)}});let Se,ce=1;const Xe={};function Ze(Rt){return Rt in Xe&&(delete Xe[Rt],!0)}const nt={setImmediate(Rt){const ht=ce++;return Xe[ht]=!0,Se||(Se=Promise.resolve()),Se.then(()=>Ze(ht)&&Rt()),ht},clearImmediate(Rt){Ze(Rt)}},{setImmediate:ze,clearImmediate:Le}=nt,He={setImmediate(...Rt){const{delegate:ht}=He;return((null==ht?void 0:ht.setImmediate)||ze)(...Rt)},clearImmediate(Rt){const{delegate:ht}=He;return((null==ht?void 0:ht.clearImmediate)||Le)(Rt)},delegate:void 0};new class ve extends Be.v{flush(ht){this._active=!0;const we=this._scheduled;this._scheduled=void 0;const{actions:tt}=this;let Te;ht=ht||tt.shift();do{if(Te=ht.execute(ht.state,ht.delay))break}while((ht=tt[0])&&ht.id===we&&tt.shift());if(this._active=!1,Te){for(;(ht=tt[0])&&ht.id===we&&tt.shift();)ht.unsubscribe();throw Te}}}(class Pe extends G.o{constructor(ht,we){super(ht,we),this.scheduler=ht,this.work=we}requestAsyncId(ht,we,tt=0){return null!==tt&&tt>0?super.requestAsyncId(ht,we,tt):(ht.actions.push(this),ht._scheduled||(ht._scheduled=He.setImmediate(ht.flush.bind(ht,void 0))))}recycleAsyncId(ht,we,tt=0){if(null!=tt&&tt>0||null==tt&&this.delay>0)return super.recycleAsyncId(ht,we,tt);ht.actions.some(Te=>Te.id===we)||(He.clearImmediate(we),ht._scheduled=void 0)}});var lt=O(7579),Ue=O(9646),Ot=O(8306),We=O(4968),mt=O(4986),gt=O(4482),Et=O(8421),Dt=O(5403),mn=O(3532);function Ut(Rt,ht=mt.z){return function ct(Rt){return(0,gt.e)((ht,we)=>{let tt=!1,Te=null,Qe=null,Xt=!1;const pn=()=>{if(null==Qe||Qe.unsubscribe(),Qe=null,tt){tt=!1;const Un=Te;Te=null,we.next(Un)}Xt&&we.complete()},En=()=>{Qe=null,Xt&&we.complete()};ht.subscribe((0,Dt.x)(we,Un=>{tt=!0,Te=Un,Qe||(0,Et.Xf)(Rt(Un)).subscribe(Qe=(0,Dt.x)(we,pn,En))},()=>{Xt=!0,(!tt||!Qe||Qe.closed)&&we.complete()}))})}(()=>function An(Rt=0,ht,we=mt.P){let tt=-1;return null!=ht&&((0,mn.K)(ht)?we=ht:tt=ht),new Ot.y(Te=>{let Qe=function en(Rt){return Rt instanceof Date&&!isNaN(Rt)}(Rt)?+Rt-we.now():Rt;Qe<0&&(Qe=0);let Xt=0;return we.schedule(function(){Te.closed||(Te.next(Xt++),0<=tt?this.schedule(void 0,tt):Te.complete())},Qe)})}(Rt,ht))}var jt=O(9300),un=O(2722),dn=O(9808),xt=O(925),It=O(226);let wn=(()=>{class Rt{constructor(we,tt,Te){this._ngZone=we,this._platform=tt,this._scrolled=new lt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Te}register(we){this.scrollContainers.has(we)||this.scrollContainers.set(we,we.elementScrolled().subscribe(()=>this._scrolled.next(we)))}deregister(we){const tt=this.scrollContainers.get(we);tt&&(tt.unsubscribe(),this.scrollContainers.delete(we))}scrolled(we=20){return this._platform.isBrowser?new Ot.y(tt=>{this._globalSubscription||this._addGlobalListener();const Te=we>0?this._scrolled.pipe(Ut(we)).subscribe(tt):this._scrolled.subscribe(tt);return this._scrolledCount++,()=>{Te.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ue.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((we,tt)=>this.deregister(tt)),this._scrolled.complete()}ancestorScrolled(we,tt){const Te=this.getAncestorScrollContainers(we);return this.scrolled(tt).pipe((0,jt.h)(Qe=>!Qe||Te.indexOf(Qe)>-1))}getAncestorScrollContainers(we){const tt=[];return this.scrollContainers.forEach((Te,Qe)=>{this._scrollableContainsElement(Qe,we)&&tt.push(Qe)}),tt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(we,tt){let Te=(0,g.fI)(tt),Qe=we.getElementRef().nativeElement;do{if(Te==Qe)return!0}while(Te=Te.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const we=this._getWindow();return(0,We.R)(we.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Rt.\u0275fac=function(we){return new(we||Rt)(l.LFG(l.R0b),l.LFG(xt.t4),l.LFG(dn.K0,8))},Rt.\u0275prov=l.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),Rt})(),Zn=(()=>{class Rt{constructor(we,tt,Te,Qe){this.elementRef=we,this.scrollDispatcher=tt,this.ngZone=Te,this.dir=Qe,this._destroyed=new lt.x,this._elementScrolled=new Ot.y(Xt=>this.ngZone.runOutsideAngular(()=>(0,We.R)(this.elementRef.nativeElement,"scroll").pipe((0,un.R)(this._destroyed)).subscribe(Xt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(we){const tt=this.elementRef.nativeElement,Te=this.dir&&"rtl"==this.dir.value;null==we.left&&(we.left=Te?we.end:we.start),null==we.right&&(we.right=Te?we.start:we.end),null!=we.bottom&&(we.top=tt.scrollHeight-tt.clientHeight-we.bottom),Te&&0!=(0,xt._i)()?(null!=we.left&&(we.right=tt.scrollWidth-tt.clientWidth-we.left),2==(0,xt._i)()?we.left=we.right:1==(0,xt._i)()&&(we.left=we.right?-we.right:we.right)):null!=we.right&&(we.left=tt.scrollWidth-tt.clientWidth-we.right),this._applyScrollToOptions(we)}_applyScrollToOptions(we){const tt=this.elementRef.nativeElement;(0,xt.Mq)()?tt.scrollTo(we):(null!=we.top&&(tt.scrollTop=we.top),null!=we.left&&(tt.scrollLeft=we.left))}measureScrollOffset(we){const tt="left",Qe=this.elementRef.nativeElement;if("top"==we)return Qe.scrollTop;if("bottom"==we)return Qe.scrollHeight-Qe.clientHeight-Qe.scrollTop;const Xt=this.dir&&"rtl"==this.dir.value;return"start"==we?we=Xt?"right":tt:"end"==we&&(we=Xt?tt:"right"),Xt&&2==(0,xt._i)()?we==tt?Qe.scrollWidth-Qe.clientWidth-Qe.scrollLeft:Qe.scrollLeft:Xt&&1==(0,xt._i)()?we==tt?Qe.scrollLeft+Qe.scrollWidth-Qe.clientWidth:-Qe.scrollLeft:we==tt?Qe.scrollLeft:Qe.scrollWidth-Qe.clientWidth-Qe.scrollLeft}}return Rt.\u0275fac=function(we){return new(we||Rt)(l.Y36(l.SBq),l.Y36(wn),l.Y36(l.R0b),l.Y36(It.Is,8))},Rt.\u0275dir=l.lG2({type:Rt,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),Rt})(),Wi=(()=>{class Rt{constructor(we,tt,Te){this._platform=we,this._change=new lt.x,this._changeListener=Qe=>{this._change.next(Qe)},this._document=Te,tt.runOutsideAngular(()=>{if(we.isBrowser){const Qe=this._getWindow();Qe.addEventListener("resize",this._changeListener),Qe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const we=this._getWindow();we.removeEventListener("resize",this._changeListener),we.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const we={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),we}getViewportRect(){const we=this.getViewportScrollPosition(),{width:tt,height:Te}=this.getViewportSize();return{top:we.top,left:we.left,bottom:we.top+Te,right:we.left+tt,height:Te,width:tt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const we=this._document,tt=this._getWindow(),Te=we.documentElement,Qe=Te.getBoundingClientRect();return{top:-Qe.top||we.body.scrollTop||tt.scrollY||Te.scrollTop||0,left:-Qe.left||we.body.scrollLeft||tt.scrollX||Te.scrollLeft||0}}change(we=20){return we>0?this._change.pipe(Ut(we)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const we=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:we.innerWidth,height:we.innerHeight}:{width:0,height:0}}}return Rt.\u0275fac=function(we){return new(we||Rt)(l.LFG(xt.t4),l.LFG(l.R0b),l.LFG(dn.K0,8))},Rt.\u0275prov=l.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),Rt})(),Ri=(()=>{class Rt{}return Rt.\u0275fac=function(we){return new(we||Rt)},Rt.\u0275mod=l.oAB({type:Rt}),Rt.\u0275inj=l.cJS({}),Rt})(),ii=(()=>{class Rt{}return Rt.\u0275fac=function(we){return new(we||Rt)},Rt.\u0275mod=l.oAB({type:Rt}),Rt.\u0275inj=l.cJS({imports:[[It.vT,Ri],It.vT,Ri]}),Rt})()},9808:(Jt,at,O)=>{O.d(at,{mr:()=>He,ez:()=>Js,K0:()=>Be,Do:()=>ve,V_:()=>te,Ye:()=>le,S$:()=>ze,mk:()=>Gr,sg:()=>Gi,O5:()=>dt,PC:()=>$i,RF:()=>zt,n9:()=>Cn,ED:()=>Ii,b0:()=>Pe,lw:()=>me,EM:()=>Bs,JF:()=>li,NF:()=>Li,PM:()=>Cs,w_:()=>Oe,bD:()=>Wr,q:()=>G,Mx:()=>Ur,HT:()=>be});var g=O(5e3);let l=null;function G(){return l}function be(z){l||(l=z)}class Oe{}const Be=new g.OlP("DocumentToken");let me=(()=>{class z{historyGo($){throw new Error("Not implemented")}}return z.\u0275fac=function($){return new($||z)},z.\u0275prov=g.Yz7({token:z,factory:function(){return function Fe(){return(0,g.LFG)(ce)}()},providedIn:"platform"}),z})();const te=new g.OlP("Location Initialized");let ce=(()=>{class z extends me{constructor($){super(),this._doc=$,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState($){const fe=G().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("popstate",$,!1),()=>fe.removeEventListener("popstate",$)}onHashChange($){const fe=G().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("hashchange",$,!1),()=>fe.removeEventListener("hashchange",$)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname($){this.location.pathname=$}pushState($,fe,et){Se()?this._history.pushState($,fe,et):this.location.hash=et}replaceState($,fe,et){Se()?this._history.replaceState($,fe,et):this.location.hash=et}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return z.\u0275fac=function($){return new($||z)(g.LFG(Be))},z.\u0275prov=g.Yz7({token:z,factory:function(){return function Xe(){return new ce((0,g.LFG)(Be))}()},providedIn:"platform"}),z})();function Se(){return!!window.history.pushState}function Ze(z,re){if(0==z.length)return re;if(0==re.length)return z;let $=0;return z.endsWith("/")&&$++,re.startsWith("/")&&$++,2==$?z+re.substring(1):1==$?z+re:z+"/"+re}function nt(z){const re=z.match(/#|\?|$/),$=re&&re.index||z.length;return z.slice(0,$-("/"===z[$-1]?1:0))+z.slice($)}function pt(z){return z&&"?"!==z[0]?"?"+z:z}let ze=(()=>{class z{historyGo($){throw new Error("Not implemented")}}return z.\u0275fac=function($){return new($||z)},z.\u0275prov=g.Yz7({token:z,factory:function(){return function Le(z){const re=(0,g.LFG)(Be).location;return new Pe((0,g.LFG)(me),re&&re.origin||"")}()},providedIn:"root"}),z})();const He=new g.OlP("appBaseHref");let Pe=(()=>{class z extends ze{constructor($,fe){if(super(),this._platformLocation=$,this._removeListenerFns=[],null==fe&&(fe=this._platformLocation.getBaseHrefFromDOM()),null==fe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=fe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return Ze(this._baseHref,$)}path($=!1){const fe=this._platformLocation.pathname+pt(this._platformLocation.search),et=this._platformLocation.hash;return et&&$?`${fe}${et}`:fe}pushState($,fe,et,Tt){const Bt=this.prepareExternalUrl(et+pt(Tt));this._platformLocation.pushState($,fe,Bt)}replaceState($,fe,et,Tt){const Bt=this.prepareExternalUrl(et+pt(Tt));this._platformLocation.replaceState($,fe,Bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var fe,et;null===(et=(fe=this._platformLocation).historyGo)||void 0===et||et.call(fe,$)}}return z.\u0275fac=function($){return new($||z)(g.LFG(me),g.LFG(He,8))},z.\u0275prov=g.Yz7({token:z,factory:z.\u0275fac}),z})(),ve=(()=>{class z extends ze{constructor($,fe){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=fe&&(this._baseHref=fe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let fe=this._platformLocation.hash;return null==fe&&(fe="#"),fe.length>0?fe.substring(1):fe}prepareExternalUrl($){const fe=Ze(this._baseHref,$);return fe.length>0?"#"+fe:fe}pushState($,fe,et,Tt){let Bt=this.prepareExternalUrl(et+pt(Tt));0==Bt.length&&(Bt=this._platformLocation.pathname),this._platformLocation.pushState($,fe,Bt)}replaceState($,fe,et,Tt){let Bt=this.prepareExternalUrl(et+pt(Tt));0==Bt.length&&(Bt=this._platformLocation.pathname),this._platformLocation.replaceState($,fe,Bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var fe,et;null===(et=(fe=this._platformLocation).historyGo)||void 0===et||et.call(fe,$)}}return z.\u0275fac=function($){return new($||z)(g.LFG(me),g.LFG(He,8))},z.\u0275prov=g.Yz7({token:z,factory:z.\u0275fac}),z})(),le=(()=>{class z{constructor($,fe){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=$;const et=this._platformStrategy.getBaseHref();this._platformLocation=fe,this._baseHref=nt(Ue(et)),this._platformStrategy.onPopState(Tt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Tt.state,type:Tt.type})})}path($=!1){return this.normalize(this._platformStrategy.path($))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo($,fe=""){return this.path()==this.normalize($+pt(fe))}normalize($){return z.stripTrailingSlash(function lt(z,re){return z&&re.startsWith(z)?re.substring(z.length):re}(this._baseHref,Ue($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._platformStrategy.prepareExternalUrl($)}go($,fe="",et=null){this._platformStrategy.pushState(et,"",$,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl($+pt(fe)),et)}replaceState($,fe="",et=null){this._platformStrategy.replaceState(et,"",$,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl($+pt(fe)),et)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo($=0){var fe,et;null===(et=(fe=this._platformStrategy).historyGo)||void 0===et||et.call(fe,$)}onUrlChange($){this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(fe=>{this._notifyUrlChangeListeners(fe.url,fe.state)}))}_notifyUrlChangeListeners($="",fe){this._urlChangeListeners.forEach(et=>et($,fe))}subscribe($,fe,et){return this._subject.subscribe({next:$,error:fe,complete:et})}}return z.normalizeQueryParams=pt,z.joinWithSlash=Ze,z.stripTrailingSlash=nt,z.\u0275fac=function($){return new($||z)(g.LFG(ze),g.LFG(me))},z.\u0275prov=g.Yz7({token:z,factory:function(){return function Ee(){return new le((0,g.LFG)(ze),(0,g.LFG)(me))}()},providedIn:"root"}),z})();function Ue(z){return z.replace(/\/index.html$/,"")}function Ur(z,re){re=encodeURIComponent(re);for(const $ of z.split(";")){const fe=$.indexOf("="),[et,Tt]=-1==fe?[$,""]:[$.slice(0,fe),$.slice(fe+1)];if(et.trim()===re)return decodeURIComponent(Tt)}return null}let Gr=(()=>{class z{constructor($,fe,et,Tt){this._iterableDiffers=$,this._keyValueDiffers=fe,this._ngEl=et,this._renderer=Tt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass($){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof $?$.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass($){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof $?$.split(/\s+/):$,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const $=this._iterableDiffer.diff(this._rawClass);$&&this._applyIterableChanges($)}else if(this._keyValueDiffer){const $=this._keyValueDiffer.diff(this._rawClass);$&&this._applyKeyValueChanges($)}}_applyKeyValueChanges($){$.forEachAddedItem(fe=>this._toggleClass(fe.key,fe.currentValue)),$.forEachChangedItem(fe=>this._toggleClass(fe.key,fe.currentValue)),$.forEachRemovedItem(fe=>{fe.previousValue&&this._toggleClass(fe.key,!1)})}_applyIterableChanges($){$.forEachAddedItem(fe=>{if("string"!=typeof fe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(fe.item)}`);this._toggleClass(fe.item,!0)}),$.forEachRemovedItem(fe=>this._toggleClass(fe.item,!1))}_applyClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(fe=>this._toggleClass(fe,!0)):Object.keys($).forEach(fe=>this._toggleClass(fe,!!$[fe])))}_removeClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(fe=>this._toggleClass(fe,!1)):Object.keys($).forEach(fe=>this._toggleClass(fe,!1)))}_toggleClass($,fe){($=$.trim())&&$.split(/\s+/g).forEach(et=>{fe?this._renderer.addClass(this._ngEl.nativeElement,et):this._renderer.removeClass(this._ngEl.nativeElement,et)})}}return z.\u0275fac=function($){return new($||z)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},z.\u0275dir=g.lG2({type:z,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),z})();class Ji{constructor(re,$,fe,et){this.$implicit=re,this.ngForOf=$,this.index=fe,this.count=et}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gi=(()=>{class z{constructor($,fe,et){this._viewContainer=$,this._template=fe,this._differs=et,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const fe=this._viewContainer;$.forEachOperation((et,Tt,Bt)=>{if(null==et.previousIndex)fe.createEmbeddedView(this._template,new Ji(et.item,this._ngForOf,-1,-1),null===Bt?void 0:Bt);else if(null==Bt)fe.remove(null===Tt?void 0:Tt);else if(null!==Tt){const qt=fe.get(Tt);fe.move(qt,Bt),Qr(qt,et)}});for(let et=0,Tt=fe.length;et<Tt;et++){const qt=fe.get(et).context;qt.index=et,qt.count=Tt,qt.ngForOf=this._ngForOf}$.forEachIdentityChange(et=>{Qr(fe.get(et.currentIndex),et)})}static ngTemplateContextGuard($,fe){return!0}}return z.\u0275fac=function($){return new($||z)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},z.\u0275dir=g.lG2({type:z,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),z})();function Qr(z,re){z.context.$implicit=re.item}let dt=(()=>{class z{constructor($,fe){this._viewContainer=$,this._context=new Ye,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=fe}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){vt("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){vt("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,fe){return!0}}return z.\u0275fac=function($){return new($||z)(g.Y36(g.s_b),g.Y36(g.Rgc))},z.\u0275dir=g.lG2({type:z,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),z})();class Ye{constructor(){this.$implicit=null,this.ngIf=null}}function vt(z,re){if(re&&!re.createEmbeddedView)throw new Error(`${z} must be a TemplateRef, but received '${(0,g.AaK)(re)}'.`)}class Gt{constructor(re,$){this._viewContainerRef=re,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(re){re&&!this._created?this.create():!re&&this._created&&this.destroy()}}let zt=(()=>{class z{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push($)}_matchCase($){const fe=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||fe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),fe}_updateDefaultCases($){if(this._defaultViews&&$!==this._defaultUsed){this._defaultUsed=$;for(let fe=0;fe<this._defaultViews.length;fe++)this._defaultViews[fe].enforceState($)}}}return z.\u0275fac=function($){return new($||z)},z.\u0275dir=g.lG2({type:z,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),z})(),Cn=(()=>{class z{constructor($,fe,et){this.ngSwitch=et,et._addCase(),this._view=new Gt($,fe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return z.\u0275fac=function($){return new($||z)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(zt,9))},z.\u0275dir=g.lG2({type:z,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),z})(),Ii=(()=>{class z{constructor($,fe,et){et._addDefault(new Gt($,fe))}}return z.\u0275fac=function($){return new($||z)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(zt,9))},z.\u0275dir=g.lG2({type:z,selectors:[["","ngSwitchDefault",""]]}),z})(),$i=(()=>{class z{constructor($,fe,et){this._ngEl=$,this._differs=fe,this._renderer=et,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,fe){const[et,Tt]=$.split(".");null!=(fe=null!=fe&&Tt?`${fe}${Tt}`:fe)?this._renderer.setStyle(this._ngEl.nativeElement,et,fe):this._renderer.removeStyle(this._ngEl.nativeElement,et)}_applyChanges($){$.forEachRemovedItem(fe=>this._setStyle(fe.key,null)),$.forEachAddedItem(fe=>this._setStyle(fe.key,fe.currentValue)),$.forEachChangedItem(fe=>this._setStyle(fe.key,fe.currentValue))}}return z.\u0275fac=function($){return new($||z)(g.Y36(g.SBq),g.Y36(g.aQg),g.Y36(g.Qsj))},z.\u0275dir=g.lG2({type:z,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),z})(),Js=(()=>{class z{}return z.\u0275fac=function($){return new($||z)},z.\u0275mod=g.oAB({type:z}),z.\u0275inj=g.cJS({}),z})();const Wr="browser";function Li(z){return z===Wr}function Cs(z){return"server"===z}let Bs=(()=>{class z{}return z.\u0275prov=(0,g.Yz7)({token:z,providedIn:"root",factory:()=>new Vs((0,g.LFG)(Be),window)}),z})();class Vs{constructor(re,$){this.document=re,this.window=$,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const $=function Us(z,re){const $=z.getElementById(re)||z.getElementsByName(re)[0];if($)return $;if("function"==typeof z.createTreeWalker&&z.body&&(z.body.createShadowRoot||z.body.attachShadow)){const fe=z.createTreeWalker(z.body,NodeFilter.SHOW_ELEMENT);let et=fe.currentNode;for(;et;){const Tt=et.shadowRoot;if(Tt){const Bt=Tt.getElementById(re)||Tt.querySelector(`[name="${re}"]`);if(Bt)return Bt}et=fe.nextNode()}}return null}(this.document,re);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(re){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=re)}}scrollToElement(re){const $=re.getBoundingClientRect(),fe=$.left+this.window.pageXOffset,et=$.top+this.window.pageYOffset,Tt=this.offset();this.window.scrollTo(fe-Tt[0],et-Tt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const re=us(this.window.history)||us(Object.getPrototypeOf(this.window.history));return!(!re||!re.writable&&!re.set)}catch(re){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(re){return!1}}}function us(z){return Object.getOwnPropertyDescriptor(z,"scrollRestoration")}class li{}},5e3:(Jt,at,O)=>{O.d(at,{deG:()=>zl,tb:()=>Sb,AFp:()=>xb,ip1:()=>Cb,CZH:()=>My,hGG:()=>ZE,z2F:()=>Ly,sBO:()=>kE,Sil:()=>fE,_Vd:()=>z_,EJc:()=>dE,SBq:()=>o_,qLn:()=>Ld,vpe:()=>Tu,tBr:()=>da,XFs:()=>ln,OlP:()=>Pr,zs3:()=>Oa,ZZ4:()=>Gy,aQg:()=>$y,soG:()=>Ry,YKP:()=>Uv,h0i:()=>zg,PXZ:()=>DE,R0b:()=>zc,FiY:()=>Ro,Lbi:()=>Ib,g9A:()=>Ab,n_E:()=>q_,Qsj:()=>rw,FYo:()=>Pv,JOm:()=>Rl,q3G:()=>Ss,tp0:()=>ko,Rgc:()=>u_,dDg:()=>Rb,q4F:()=>Lv,GfV:()=>Nv,s_b:()=>Z_,ifc:()=>tt,eFA:()=>Pb,G48:()=>RE,Gpc:()=>ce,f3M:()=>Di,X6Q:()=>OE,_c5:()=>KE,VLi:()=>EE,c2e:()=>Tb,zSh:()=>fu,wAp:()=>Mi,vHH:()=>nt,EiD:()=>Hu,mCW:()=>ne,qzn:()=>rl,JVY:()=>Dl,pB0:()=>Od,eBb:()=>Md,L6k:()=>Al,LAX:()=>Lu,cg1:()=>ly,kL8:()=>sv,yhl:()=>Nu,dqk:()=>En,sIi:()=>_u,CqO:()=>Jf,QGY:()=>xh,F4k:()=>Dh,RDi:()=>us,AaK:()=>me,z3N:()=>Ba,qOj:()=>dh,TTD:()=>$r,_Bn:()=>Rv,xp6:()=>rc,uIk:()=>ph,Tol:()=>bc,Gre:()=>P,ekj:()=>Rh,Suo:()=>nb,Xpm:()=>rt,lG2:()=>de,Yz7:()=>It,cJS:()=>it,oAB:()=>_e,Yjl:()=>ye,Y36:()=>Cd,_UZ:()=>bu,BQk:()=>Ch,ynx:()=>wu,qZA:()=>fl,TgZ:()=>Qf,EpF:()=>Tg,n5z:()=>ba,Ikx:()=>oy,LFG:()=>fn,$8M:()=>oa,$Z:()=>Ag,NdJ:()=>Vl,CRH:()=>ib,O4$:()=>Br,oxw:()=>xd,Hsn:()=>Eu,F$t:()=>Xf,Q6J:()=>vh,s9C:()=>ep,iGM:()=>eb,MAs:()=>Kf,CHM:()=>qo,oJD:()=>Kg,LSH:()=>Bh,Udp:()=>ip,WFA:()=>Ah,d8E:()=>ay,YNc:()=>Pm,_uU:()=>Bn,Oqu:()=>ji,hij:()=>Ki,AsE:()=>ar,Gf:()=>tb});var g=O(7579),l=O(727),G=O(8306),X=O(6451),be=O(3099);function Oe(t){for(let i in t)if(t[i]===Oe)return i;throw Error("Could not find renamed property on target object.")}function Be(t,i){for(const s in i)i.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=i[s])}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Fe(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const te=Oe({__forward_ref__:Oe});function ce(t){return t.__forward_ref__=ce,t.toString=function(){return me(this())},t}function Se(t){return Xe(t)?t():t}function Xe(t){return"function"==typeof t&&t.hasOwnProperty(te)&&t.__forward_ref__===ce}class nt extends Error{constructor(i,s){super(function pt(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,s)),this.code=i}}function ze(t){return"string"==typeof t?t:null==t?"":String(t)}function Le(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ze(t)}function le(t,i){const s=i?` in ${i}`:"";throw new nt(-201,`No provider for ${Le(t)} found${s}`)}function Ut(t,i){null==t&&function jt(t,i,s,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${s} ${c} ${i} <=Actual]`))}(i,t,null,"!=")}function It(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function it(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vt(t){return bn(t,wn)||bn(t,ni)}function bn(t,i){return t.hasOwnProperty(i)?t[i]:null}function Kn(t){return t&&(t.hasOwnProperty(Zn)||t.hasOwnProperty(Wi))?t[Zn]:null}const wn=Oe({\u0275prov:Oe}),Zn=Oe({\u0275inj:Oe}),ni=Oe({ngInjectableDef:Oe}),Wi=Oe({ngInjectorDef:Oe});var ln=(()=>((ln=ln||{})[ln.Default=0]="Default",ln[ln.Host=1]="Host",ln[ln.Self=2]="Self",ln[ln.SkipSelf=4]="SkipSelf",ln[ln.Optional=8]="Optional",ln))();let Vn;function Fn(t){const i=Vn;return Vn=t,i}function di(t,i,s){const c=Vt(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&ln.Optional?null:void 0!==i?i:void le(me(t),"Injector")}function ii(t){return{toString:t}.toString()}var Rt=(()=>((Rt=Rt||{})[Rt.OnPush=0]="OnPush",Rt[Rt.Default=1]="Default",Rt))(),tt=(()=>{return(t=tt||(tt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",tt;var t})();const Te="undefined"!=typeof globalThis&&globalThis,Qe="undefined"!=typeof window&&window,Xt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,En=Te||"undefined"!=typeof global&&global||Qe||Xt,Gn={},sn=[],gi=Oe({\u0275cmp:Oe}),xn=Oe({\u0275dir:Oe}),pe=Oe({\u0275pipe:Oe}),U=Oe({\u0275mod:Oe}),x=Oe({\u0275fac:Oe}),j=Oe({__NG_ELEMENT_ID__:Oe});let ge=0;function rt(t){return ii(()=>{const s={},c={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Rt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||sn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||tt.Emulated,id:"c",styles:t.styles||sn,_:null,setInput:null,schemas:t.schemas||null,tView:null},p=t.directives,m=t.features,E=t.pipes;return c.id+=ge++,c.inputs=Y(t.inputs,s),c.outputs=Y(t.outputs),m&&m.forEach(T=>T(c)),c.directiveDefs=p?()=>("function"==typeof p?p():p).map(Ie):null,c.pipeDefs=E?()=>("function"==typeof E?E():E).map(je):null,c})}function Ie(t){return Ve(t)||function wt(t){return t[xn]||null}(t)}function je(t){return function Nt(t){return t[pe]||null}(t)}const ft={};function _e(t){return ii(()=>{const i={type:t.type,bootstrap:t.bootstrap||sn,declarations:t.declarations||sn,imports:t.imports||sn,exports:t.exports||sn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(ft[t.id]=t.type),i})}function Y(t,i){if(null==t)return Gn;const s={};for(const c in t)if(t.hasOwnProperty(c)){let p=t[c],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),s[p]=c,i&&(i[p]=m)}return s}const de=rt;function ye(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ve(t){return t[gi]||null}function cn(t,i){const s=t[U]||null;if(!s&&!0===i)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return s}function zt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Cn(t){return Array.isArray(t)&&!0===t[1]}function Ii(t){return 0!=(8&t.flags)}function Pi(t){return 2==(2&t.flags)}function _i(t){return 1==(1&t.flags)}function mr(t){return null!==t.template}function $i(t){return 0!=(512&t[2])}function Hr(t,i){return t.hasOwnProperty(x)?t[x]:null}class Wo{constructor(i,s,c){this.previousValue=i,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function $r(){return Ir}function Ir(t){return t.type.prototype.ngOnChanges&&(t.setInput=zr),Es}function Es(){const t=Wr(this),i=null==t?void 0:t.current;if(i){const s=t.previous;if(s===Gn)t.previous=i;else for(let c in i)s[c]=i[c];t.current=null,this.ngOnChanges(i)}}function zr(t,i,s,c){const p=Wr(t)||function Ni(t,i){return t[Js]=i}(t,{previous:Gn,current:null}),m=p.current||(p.current={}),E=p.previous,T=this.declaredInputs[s],N=E[T];m[T]=new Wo(N&&N.currentValue,i,E===Gn),t[c]=i}$r.ngInherit=!0;const Js="__ngSimpleChanges__";function Wr(t){return t[Js]||null}let Vs;function us(t){Vs=t}function Us(){return void 0!==Vs?Vs:"undefined"!=typeof document?document:void 0}function li(t){return!!t.listen}const z={createRenderer:(t,i)=>Us()};function $(t){for(;Array.isArray(t);)t=t[0];return t}function Tt(t,i){return $(i[t])}function Bt(t,i){return $(i[t.index])}function qi(t,i){return t.data[i]}function yi(t,i){const s=i[t];return zt(s)?s:s[0]}function fi(t){return 4==(4&t[2])}function Cr(t){return 128==(128&t[2])}function sr(t,i){return null==i?null:t[i]}function q(t){t[18]=0}function H(t,i){t[5]+=i;let s=t,c=t[3];for(;null!==c&&(1===i&&1===s[5]||-1===i&&0===s[5]);)c[5]+=i,s=c,c=c[3]}const F={lFrame:Qn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Lr(){return F.bindingsEnabled}function Kt(){return F.lFrame.lView}function Nn(){return F.lFrame.tView}function qo(t){return F.lFrame.contextLView=t,t[8]}function lr(){let t=Za();for(;null!==t&&64===t.type;)t=t.parent;return t}function Za(){return F.lFrame.currentTNode}function Ds(t,i){const s=F.lFrame;s.currentTNode=t,s.isParent=i}function _a(){return F.lFrame.isParent}function Ko(){F.lFrame.isParent=!1}function So(){return F.isInCheckNoChangesMode}function ws(t){F.isInCheckNoChangesMode=t}function J(){return F.lFrame.bindingIndex++}function w(t){const i=F.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,s}function ie(t,i){const s=F.lFrame;s.bindingIndex=s.bindingRootIndex=t,qe(i)}function qe(t){F.lFrame.currentDirectiveIndex=t}function Je(t){const i=F.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}function yt(){return F.lFrame.currentQueryIndex}function Pt(t){F.lFrame.currentQueryIndex=t}function Dn(t){const i=t[1];return 2===i.type?i.declTNode:1===i.type?t[6]:null}function Pn(t,i,s){if(s&ln.SkipSelf){let p=i,m=t;for(;!(p=p.parent,null!==p||s&ln.Host||(p=Dn(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;i=p,t=m}const c=F.lFrame=vi();return c.currentTNode=i,c.lView=t,!0}function ai(t){const i=vi(),s=t[1];F.lFrame=i,i.currentTNode=s.firstChild,i.lView=t,i.tView=s,i.contextLView=t,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function vi(){const t=F.lFrame,i=null===t?null:t.child;return null===i?Qn(t):i}function Qn(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function bi(){const t=F.lFrame;return F.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const tr=bi;function vr(){const t=bi();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nr(){return F.lFrame.selectedIndex}function Hs(t){F.lFrame.selectedIndex=t}function Xi(){const t=F.lFrame;return qi(t.tView,t.selectedIndex)}function Br(){F.lFrame.currentNamespace="svg"}function $s(t,i){for(let s=i.directiveStart,c=i.directiveEnd;s<c;s++){const m=t.data[s].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:T,ngAfterViewInit:N,ngAfterViewChecked:Z,ngOnDestroy:se}=m;E&&(t.contentHooks||(t.contentHooks=[])).push(-s,E),T&&((t.contentHooks||(t.contentHooks=[])).push(s,T),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,T)),N&&(t.viewHooks||(t.viewHooks=[])).push(-s,N),Z&&((t.viewHooks||(t.viewHooks=[])).push(s,Z),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,Z)),null!=se&&(t.destroyHooks||(t.destroyHooks=[])).push(s,se)}}function lo(t,i,s){jn(t,i,3,s)}function es(t,i,s,c){(3&t[2])===s&&jn(t,i,s,c)}function _n(t,i){let s=t[2];(3&s)===i&&(s&=2047,s+=1,t[2]=s)}function jn(t,i,s,c){const m=null!=c?c:-1,E=i.length-1;let T=0;for(let N=void 0!==c?65535&t[18]:0;N<E;N++)if("number"==typeof i[N+1]){if(T=i[N],null!=c&&T>=c)break}else i[N]<0&&(t[18]+=65536),(T<m||-1==m)&&(ei(t,s,i,N),t[18]=(4294901760&t[18])+N+2),N++}function ei(t,i,s,c){const p=s[c]<0,m=s[c+1],T=t[p?-s[c]:s[c]];if(p){if(t[2]>>11<t[18]>>16&&(3&t[2])===i){t[2]+=2048;try{m.call(T)}finally{}}}else try{m.call(T)}finally{}}class fr{constructor(i,s,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Rr(t,i,s){const c=li(t);let p=0;for(;p<s.length;){const m=s[p];if("number"==typeof m){if(0!==m)break;p++;const E=s[p++],T=s[p++],N=s[p++];c?t.setAttribute(i,T,N,E):i.setAttributeNS(E,T,N)}else{const E=m,T=s[++p];Tn(E)?c&&t.setProperty(i,E,T):c?t.setAttribute(i,E,T):i.setAttribute(E,T),p++}}return p}function no(t){return 3===t||4===t||6===t}function Tn(t){return 64===t.charCodeAt(0)}function Jn(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let s=-1;for(let c=0;c<i.length;c++){const p=i[c];"number"==typeof p?s=p:0===s||Gl(t,s,p,null,-1===s||2===s?i[++c]:null)}}return t}function Gl(t,i,s,c,p){let m=0,E=t.length;if(-1===i)E=-1;else for(;m<t.length;){const T=t[m++];if("number"==typeof T){if(T===i){E=-1;break}if(T>i){E=m-1;break}}}for(;m<t.length;){const T=t[m];if("number"==typeof T)break;if(T===s){if(null===c)return void(null!==p&&(t[m+1]=p));if(c===t[m+1])return void(t[m+2]=p)}m++,null!==c&&m++,null!==p&&m++}-1!==E&&(t.splice(E,0,i),m=E+1),t.splice(m++,0,s),null!==c&&t.splice(m++,0,c),null!==p&&t.splice(m++,0,p)}function on(t){return-1!==t}function St(t){return 32767&t}function br(t,i){let s=function tn(t){return t>>16}(t),c=i;for(;s>0;)c=c[15],s--;return c}let ra=!0;function Po(t){const i=ra;return ra=t,i}let Pa=0;function No(t,i){const s=k(t,i);if(-1!==s)return s;const c=i[1];c.firstCreatePass&&(t.injectorIndex=i.length,va(c.data,t),va(i,null),va(c.blueprint,null));const p=S(t,i),m=t.injectorIndex;if(on(p)){const E=St(p),T=br(p,i),N=T[1].data;for(let Z=0;Z<8;Z++)i[m+Z]=T[E+Z]|N[E+Z]}return i[m+8]=p,m}function va(t,i){t.push(0,0,0,0,0,0,0,0,i)}function k(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function S(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,c=null,p=i;for(;null!==p;){const m=p[1],E=m.type;if(c=2===E?m.declTNode:1===E?p[6]:null,null===c)return-1;if(s++,p=p[15],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return-1}function A(t,i,s){!function sa(t,i,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(j)&&(c=s[j]),null==c&&(c=s[j]=Pa++);const p=255&c;i.data[t+(p>>5)]|=1<<p}(t,i,s)}function K(t,i,s){if(s&ln.Optional)return t;le(i,"NodeInjector")}function ue(t,i,s,c){if(s&ln.Optional&&void 0===c&&(c=null),0==(s&(ln.Self|ln.Host))){const p=t[9],m=Fn(void 0);try{return p?p.get(i,c,s&ln.Optional):di(i,c,s&ln.Optional)}finally{Fn(m)}}return K(c,i,s)}function Re(t,i,s,c=ln.Default,p){if(null!==t){const m=function Ln(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(j)?t[j]:void 0;return"number"==typeof i?i>=0?255&i:kt:i}(s);if("function"==typeof m){if(!Pn(i,t,c))return c&ln.Host?K(p,s,c):ue(i,s,c,p);try{const E=m(c);if(null!=E||c&ln.Optional)return E;le(s)}finally{tr()}}else if("number"==typeof m){let E=null,T=k(t,i),N=-1,Z=c&ln.Host?i[16][6]:null;for((-1===T||c&ln.SkipSelf)&&(N=-1===T?S(t,i):i[T+8],-1!==N&&pr(c,!1)?(E=i[1],T=St(N),i=br(N,i)):T=-1);-1!==T;){const se=i[1];if(ir(m,T,se.data)){const ke=Sn(T,i,s,E,c,Z);if(ke!==Ne)return ke}N=i[T+8],-1!==N&&pr(c,i[1].data[T+8]===Z)&&ir(m,T,i)?(E=se,T=St(N),i=br(N,i)):T=-1}}}return ue(i,s,c,p)}const Ne={};function kt(){return new ns(lr(),Kt())}function Sn(t,i,s,c,p,m){const E=i[1],T=E.data[t+8],se=xi(T,E,s,null==c?Pi(T)&&ra:c!=E&&0!=(3&T.type),p&ln.Host&&m===T);return null!==se?kn(i,E,se,T):Ne}function xi(t,i,s,c,p){const m=t.providerIndexes,E=i.data,T=1048575&m,N=t.directiveStart,se=m>>20,st=p?T+se:t.directiveEnd;for(let Ct=c?T:T+se;Ct<st;Ct++){const $t=E[Ct];if(Ct<N&&s===$t||Ct>=N&&$t.type===s)return Ct}if(p){const Ct=E[N];if(Ct&&mr(Ct)&&Ct.type===s)return N}return null}function kn(t,i,s,c){let p=t[s];const m=i.data;if(function ts(t){return t instanceof fr}(p)){const E=p;E.resolving&&function He(t,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new nt(-200,`Circular dependency in DI detected for ${t}${s}`)}(Le(m[s]));const T=Po(E.canSeeViewProviders);E.resolving=!0;const N=E.injectImpl?Fn(E.injectImpl):null;Pn(t,c,ln.Default);try{p=t[s]=E.factory(void 0,m,t,c),i.firstCreatePass&&s>=c.directiveStart&&function Gs(t,i,s){const{ngOnChanges:c,ngOnInit:p,ngDoCheck:m}=i.type.prototype;if(c){const E=Ir(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,E),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,E)}p&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,p),m&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,m))}(s,m[s],i)}finally{null!==N&&Fn(N),Po(T),E.resolving=!1,tr()}}return p}function ir(t,i,s){return!!(s[i+(t>>5)]&1<<t)}function pr(t,i){return!(t&ln.Self||t&ln.Host&&i)}class ns{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,c){return Re(this._tNode,this._lView,i,c,s)}}function ba(t){return ii(()=>{const i=t.prototype.constructor,s=i[x]||Fr(i),c=Object.prototype;let p=Object.getPrototypeOf(t.prototype).constructor;for(;p&&p!==c;){const m=p[x]||Fr(p);if(m&&m!==s)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function Fr(t){return Xe(t)?()=>{const i=Fr(Se(t));return i&&i()}:Hr(t)}function oa(t){return function L(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const s=t.attrs;if(s){const c=s.length;let p=0;for(;p<c;){const m=s[p];if(no(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<c&&"string"==typeof s[p];)p++;else{if(m===i)return s[p+1];p+=2}}}return null}(lr(),t)}const wr="__parameters__";function vo(t,i,s){return ii(()=>{const c=function $l(t){return function(...s){if(t){const c=t(...s);for(const p in c)this[p]=c[p]}}}(i);function p(...m){if(this instanceof p)return c.apply(this,m),this;const E=new p(...m);return T.annotation=E,T;function T(N,Z,se){const ke=N.hasOwnProperty(wr)?N[wr]:Object.defineProperty(N,wr,{value:[]})[wr];for(;ke.length<=se;)ke.push(null);return(ke[se]=ke[se]||[]).push(E),N}}return s&&(p.prototype=Object.create(s.prototype)),p.prototype.ngMetadataName=t,p.annotationCls=p,p})}class Pr{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=It({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zl=new Pr("AnalyzeForEntryComponents");function jr(t,i){void 0===i&&(i=t);for(let s=0;s<t.length;s++){let c=t[s];Array.isArray(c)?(i===t&&(i=t.slice(0,s)),jr(c,i)):i!==t&&i.push(c)}return i}function Mo(t,i){t.forEach(s=>Array.isArray(s)?Mo(s,i):i(s))}function Ca(t,i,s){i>=t.length?t.push(s):t.splice(i,0,s)}function ks(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function is(t,i){const s=[];for(let c=0;c<t;c++)s.push(i);return s}function ro(t,i,s){let c=zs(t,i);return c>=0?t[1|c]=s:(c=~c,function Vr(t,i,s,c){let p=t.length;if(p==i)t.push(s,c);else if(1===p)t.push(c,t[0]),t[0]=s;else{for(p--,t.push(t[p-1],t[p]);p>i;)t[p]=t[p-2],p--;t[i]=s,t[i+1]=c}}(t,c,i,s)),c}function bl(t,i){const s=zs(t,i);if(s>=0)return t[1|s]}function zs(t,i){return function Qo(t,i,s){let c=0,p=t.length>>s;for(;p!==c;){const m=c+(p-c>>1),E=t[m<<s];if(i===E)return m<<s;E>i?p=m:c=m+1}return~(p<<s)}(t,i,1)}const Oo={},uo="__NG_DI_FLAG__",os="ngTempTokenPath",B=/\n/gm,ae="__source",Ge=Oe({provide:String,useValue:Oe});let _t;function At(t){const i=_t;return _t=t,i}function rn(t,i=ln.Default){if(void 0===_t)throw new nt(203,"");return null===_t?di(t,void 0,i):_t.get(t,i&ln.Optional?null:void 0,i)}function fn(t,i=ln.Default){return(function zn(){return Vn}()||rn)(Se(t),i)}const Di=fn;function Yi(t){const i=[];for(let s=0;s<t.length;s++){const c=Se(t[s]);if(Array.isArray(c)){if(0===c.length)throw new nt(900,"");let p,m=ln.Default;for(let E=0;E<c.length;E++){const T=c[E],N=Kr(T);"number"==typeof N?-1===N?p=T.token:m|=N:p=T}i.push(fn(p,m))}else i.push(fn(c))}return i}function Mn(t,i){return t[uo]=i,t.prototype[uo]=i,t}function Kr(t){return t[uo]}const da=Mn(vo("Inject",t=>({token:t})),-1),Ro=Mn(vo("Optional"),8),ko=Mn(vo("SkipSelf"),4);let Ac,ea;function Xo(t){var i;return(null===(i=function La(){if(void 0===Ac&&(Ac=null,En.trustedTypes))try{Ac=En.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Ac}())||void 0===i?void 0:i.createHTML(t))||t}function Fu(t){var i;return(null===(i=function Qc(){if(void 0===ea&&(ea=null,En.trustedTypes))try{ea=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return ea}())||void 0===i?void 0:i.createHTML(t))||t}class xl{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class As extends xl{getTypeName(){return"HTML"}}class Pu extends xl{getTypeName(){return"Style"}}class Yl extends xl{getTypeName(){return"Script"}}class Td extends xl{getTypeName(){return"URL"}}class Ic extends xl{getTypeName(){return"ResourceURL"}}function Ba(t){return t instanceof xl?t.changingThisBreaksApplicationSecurity:t}function rl(t,i){const s=Nu(t);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function Nu(t){return t instanceof xl&&t.getTypeName()||null}function Dl(t){return new As(t)}function Al(t){return new Pu(t)}function Md(t){return new Yl(t)}function Lu(t){return new Td(t)}function Od(t){return new Ic(t)}class Bu{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Xo(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Ph{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const c=this.inertDocument.createElement("body");s.appendChild(c)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Xo(i),s;const c=this.inertDocument.createElement("body");return c.innerHTML=Xo(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(i){const s=i.attributes;for(let p=s.length-1;0<p;p--){const E=s.item(p).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&i.removeAttribute(E)}let c=i.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const y=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,R=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ne(t){return(t=String(t)).match(y)||t.match(R)?t:"unsafe:"+t}function bt(t){const i={};for(const s of t.split(","))i[s]=!0;return i}function Ht(...t){const i={};for(const s of t)for(const c in s)s.hasOwnProperty(c)&&(i[c]=!0);return i}const gn=bt("area,br,col,hr,img,wbr"),pi=bt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ti=bt("rp,rt"),sl=Ht(gn,Ht(pi,bt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ht(Ti,bt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ht(Ti,pi)),ol=bt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sc=bt("srcset"),Vu=Ht(ol,Sc,bt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Tc=bt("script,style,template");class Sl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let p=this.checkClobberedElement(s,s.nextSibling);if(p){s=p;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!sl.hasOwnProperty(s))return this.sanitizedSomething=!0,!Tc.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=i.attributes;for(let p=0;p<c.length;p++){const m=c.item(p),E=m.name,T=E.toLowerCase();if(!Vu.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let N=m.value;ol[T]&&(N=ne(N)),Sc[T]&&(t=N,N=(t=String(t)).split(",").map(i=>ne(i.trim())).join(", ")),this.buf.push(" ",E,'="',Uu(N),'"')}var t;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();sl.hasOwnProperty(s)&&!gn.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Uu(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const Tl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mc=/([^\#-~ |!])/g;function Uu(t){return t.replace(/&/g,"&amp;").replace(Tl,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Mc,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ml;function Hu(t,i){let s=null;try{Ml=Ml||function Ql(t){const i=new Ph(t);return function I(){try{return!!(new window.DOMParser).parseFromString(Xo(""),"text/html")}catch(t){return!1}}()?new Bu(i):i}(t);let c=i?String(i):"";s=Ml.getInertBodyElement(c);let p=5,m=c;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,c=m,m=s.innerHTML,s=Ml.getInertBodyElement(c)}while(c!==m);return Xo((new Sl).sanitizeChildren(Lh(s)||s))}finally{if(s){const c=Lh(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Lh(t){return"content"in t&&function up(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ss=(()=>((Ss=Ss||{})[Ss.NONE=0]="NONE",Ss[Ss.HTML=1]="HTML",Ss[Ss.STYLE=2]="STYLE",Ss[Ss.SCRIPT=3]="SCRIPT",Ss[Ss.URL=4]="URL",Ss[Ss.RESOURCE_URL=5]="RESOURCE_URL",Ss))();function Kg(t){const i=Oc();return i?Fu(i.sanitize(Ss.HTML,t)||""):rl(t,"HTML")?Fu(Ba(t)):Hu(Us(),ze(t))}function Bh(t){const i=Oc();return i?i.sanitize(Ss.URL,t)||"":rl(t,"URL")?Ba(t):ne(ze(t))}function Oc(){const t=Kt();return t&&t[12]}const Uh="__ngContext__";function wo(t,i){t[Uh]=i}function Hh(t){const i=function kd(t){return t[Uh]||null}(t);return i?Array.isArray(i)?i:i.lView:null}function Nd(t){return t.ngOriginalError}function Jg(t,...i){t.error(...i)}class Ld{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),c=function Qg(t){return t&&t.ngErrorLogger||Jg}(i);c(this._console,"ERROR",i),s&&c(this._console,"ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Nd(i);for(;s&&Nd(s);)s=Nd(s);return s||null}}const im=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(En))();function Aa(t){return t instanceof Function?t():t}var Rl=(()=>((Rl=Rl||{})[Rl.Important=1]="Important",Rl[Rl.DashCase=2]="DashCase",Rl))();function zu(t,i){return undefined(t,i)}function Bd(t){const i=t[3];return Cn(i)?i[3]:i}function Lt(t){return Ia(t[13])}function eu(t){return Ia(t[4])}function Ia(t){for(;null!==t&&!Cn(t);)t=t[4];return t}function al(t,i,s,c,p){if(null!=c){let m,E=!1;Cn(c)?m=c:zt(c)&&(E=!0,c=c[0]);const T=$(c);0===t&&null!==s?null==p?Ip(i,s,T):ll(i,s,T,p||null,!0):1===t&&null!==s?ll(i,s,T,p||null,!0):2===t?function cm(t,i,s){const c=Ud(t,i);c&&function Sp(t,i,s,c){li(t)?t.removeChild(i,s,c):i.removeChild(s)}(t,c,i,s)}(i,T,E):3===t&&i.destroyNode(T),null!=m&&function g_(t,i,s,c,p){const m=s[7];m!==$(s)&&al(i,t,c,m,p);for(let T=10;T<s.length;T++){const N=s[T];Ua(N[1],N,t,i,c,m)}}(i,t,m,s,p)}}function Zh(t,i,s){if(li(t))return t.createElement(i,s);{const c=null!==s?function Bs(t){const i=t.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(s):null;return null===c?t.createElement(i):t.createElementNS(c,i)}}function Xl(t,i){const s=t[9],c=s.indexOf(i),p=i[3];1024&i[2]&&(i[2]&=-1025,H(p,-1)),s.splice(c,1)}function Vd(t,i){if(t.length<=10)return;const s=10+i,c=t[s];if(c){const p=c[17];null!==p&&p!==t&&Xl(p,c),i>0&&(t[s-1][4]=c[4]);const m=ks(t,10+i);!function Cp(t,i){Ua(t,i,i[11],2,null,null),i[0]=null,i[6]=null}(c[1],c);const E=m[19];null!==E&&E.detachView(m[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function am(t,i){if(!(256&i[2])){const s=i[11];li(s)&&s.destroyNode&&Ua(t,i,s,3,null,null),function xp(t){let i=t[13];if(!i)return Yh(t[1],t);for(;i;){let s=null;if(zt(i))s=i[13];else{const c=i[10];c&&(s=c)}if(!s){for(;i&&!i[4]&&i!==t;)zt(i)&&Yh(i[1],i),i=i[3];null===i&&(i=t),zt(i)&&Yh(i[1],i),s=i&&i[4]}i=s}}(i)}}function Yh(t,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function nu(t,i){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let c=0;c<s.length;c+=2){const p=i[s[c]];if(!(p instanceof fr)){const m=s[c+1];if(Array.isArray(m))for(let E=0;E<m.length;E+=2){const T=p[m[E]],N=m[E+1];try{N.call(T)}finally{}}else try{m.call(p)}finally{}}}}(t,i),function Qh(t,i){const s=t.cleanup,c=i[7];let p=-1;if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const E=s[m+1],T="function"==typeof E?E(i):$(i[E]),N=c[p=s[m+2]],Z=s[m+3];"boolean"==typeof Z?T.removeEventListener(s[m],N,Z):Z>=0?c[p=Z]():c[p=-Z].unsubscribe(),m+=2}else{const E=c[p=s[m+1]];s[m].call(E)}if(null!==c){for(let m=p+1;m<c.length;m++)c[m]();i[7]=null}}(t,i),1===i[1].type&&li(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&Cn(i[3])){s!==i[3]&&Xl(s,i);const c=i[19];null!==c&&c.detachView(t)}}}function Fc(t,i,s){return function iu(t,i,s){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return s[0];if(2&c.flags){const p=t.data[c.directiveStart].encapsulation;if(p===tt.None||p===tt.Emulated)return null}return Bt(c,s)}(t,i.parent,s)}function ll(t,i,s,c,p){li(t)?t.insertBefore(i,s,c,p):i.insertBefore(s,c,p)}function Ip(t,i,s){li(t)?t.appendChild(i,s):i.appendChild(s)}function Jh(t,i,s,c,p){null!==c?ll(t,i,s,c,p):Ip(t,i,s)}function Ud(t,i){return li(t)?t.parentNode(i):i.parentNode}function Tp(t,i,s){return Xh(t,i,s)}let Xh=function Mp(t,i,s){return 40&t.type?Bt(t,s):null};function ef(t,i,s,c){const p=Fc(t,c,i),m=i[11],T=Tp(c.parent||i[6],c,i);if(null!=p)if(Array.isArray(s))for(let N=0;N<s.length;N++)Jh(m,p,s[N],T,!1);else Jh(m,p,s,T,!1)}function Hd(t,i){if(null!==i){const s=i.type;if(3&s)return Bt(i,t);if(4&s)return Op(-1,t[i.index]);if(8&s){const c=i.child;if(null!==c)return Hd(t,c);{const p=t[i.index];return Cn(p)?Op(-1,p):$(p)}}if(32&s)return zu(i,t)()||$(t[i.index]);{const c=lm(t,i);return null!==c?Array.isArray(c)?c[0]:Hd(Bd(t[16]),c):Hd(t,i.next)}}return null}function lm(t,i){return null!==i?t[16][6].projection[i.projection]:null}function Op(t,i){const s=10+t+1;if(s<i.length){const c=i[s],p=c[1].firstChild;if(null!==p)return Hd(c,p)}return i[7]}function Ku(t,i,s,c,p,m,E){for(;null!=s;){const T=c[s.index],N=s.type;if(E&&0===i&&(T&&wo($(T),c),s.flags|=4),64!=(64&s.flags))if(8&N)Ku(t,i,s.child,c,p,m,!1),al(i,t,p,T,m);else if(32&N){const Z=zu(s,c);let se;for(;se=Z();)al(i,t,p,se,m);al(i,t,p,T,m)}else 16&N?Rp(t,i,c,s,p,m):al(i,t,p,T,m);s=E?s.projectionNext:s.next}}function Ua(t,i,s,c,p,m){Ku(s,c,t.firstChild,i,p,m,!1)}function Rp(t,i,s,c,p,m){const E=s[16],N=E[6].projection[c.projection];if(Array.isArray(N))for(let Z=0;Z<N.length;Z++)al(i,t,p,N[Z],m);else Ku(t,i,N,E[3],p,m,!0)}function tf(t,i,s){li(t)?t.setAttribute(i,"style",s):i.style.cssText=s}function Zu(t,i,s){li(t)?""===s?t.removeAttribute(i,"class"):t.setAttribute(i,"class",s):i.className=s}function um(t,i,s){let c=t.length;for(;;){const p=t.indexOf(i,s);if(-1===p)return p;if(0===p||t.charCodeAt(p-1)<=32){const m=i.length;if(p+m===c||t.charCodeAt(p+m)<=32)return p}s=p+1}}const Yu="ng-template";function nf(t,i,s){let c=0;for(;c<t.length;){let p=t[c++];if(s&&"class"===p){if(p=t[c],-1!==um(p.toLowerCase(),i,0))return!0}else if(1===p){for(;c<t.length&&"string"==typeof(p=t[c++]);)if(p.toLowerCase()===i)return!0;return!1}}return!1}function jd(t){return 4===t.type&&t.value!==Yu}function dm(t,i,s){return i===(4!==t.type||s?t.value:Yu)}function ha(t,i,s){let c=4;const p=t.attrs||[],m=function ec(t){for(let i=0;i<t.length;i++)if(no(t[i]))return i;return t.length}(p);let E=!1;for(let T=0;T<i.length;T++){const N=i[T];if("number"!=typeof N){if(!E)if(4&c){if(c=2|1&c,""!==N&&!dm(t,N,s)||""===N&&1===i.length){if(Ha(c))return!1;E=!0}}else{const Z=8&c?N:i[++T];if(8&c&&null!==t.attrs){if(!nf(t.attrs,Z,s)){if(Ha(c))return!1;E=!0}continue}const ke=rf(8&c?"class":N,p,jd(t),s);if(-1===ke){if(Ha(c))return!1;E=!0;continue}if(""!==Z){let st;st=ke>m?"":p[ke+1].toLowerCase();const Ct=8&c?st:null;if(Ct&&-1!==um(Ct,Z,0)||2&c&&Z!==st){if(Ha(c))return!1;E=!0}}}}else{if(!E&&!Ha(c)&&!Ha(N))return!1;if(E&&Ha(N))continue;E=!1,c=N|1&c}}return Ha(c)||E}function Ha(t){return 0==(1&t)}function rf(t,i,s,c){if(null===i)return-1;let p=0;if(c||!s){let m=!1;for(;p<i.length;){const E=i[p];if(E===t)return p;if(3===E||6===E)m=!0;else{if(1===E||2===E){let T=i[++p];for(;"string"==typeof T;)T=i[++p];continue}if(4===E)break;if(0===E){p+=4;continue}}p+=m?1:2}return-1}return function tc(t,i){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const c=t[s];if("number"==typeof c)return-1;if(c===i)return s;s++}return-1}(i,t)}function sf(t,i,s=!1){for(let c=0;c<i.length;c++)if(ha(t,i[c],s))return!0;return!1}function af(t,i){e:for(let s=0;s<i.length;s++){const c=i[s];if(t.length===c.length){for(let p=0;p<t.length;p++)if(t[p]!==c[p])continue e;return!0}}return!1}function nc(t,i){return t?":not("+i.trim()+")":i}function y_(t){let i=t[0],s=1,c=2,p="",m=!1;for(;s<t.length;){let E=t[s];if("string"==typeof E)if(2&c){const T=t[++s];p+="["+E+(T.length>0?'="'+T+'"':"")+"]"}else 8&c?p+="."+E:4&c&&(p+=" "+E);else""!==p&&!Ha(E)&&(i+=nc(m,p),p=""),c=E,m=m||!Ha(c);s++}return""!==p&&(i+=nc(m,p)),i}const Ei={};function rc(t){Gd(Nn(),Kt(),nr()+t,So())}function Gd(t,i,s,c){if(!c)if(3==(3&i[2])){const m=t.preOrderCheckHooks;null!==m&&lo(i,m,s)}else{const m=t.preOrderHooks;null!==m&&es(i,m,0,s)}Hs(s)}function $d(t,i){return t<<17|i<<2}function cl(t){return t>>17&32767}function Qu(t){return 2|t}function kl(t){return(131068&t)>>2}function Fp(t,i){return-131069&t|i<<2}function cf(t){return 1|t}function mf(t,i){const s=t.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const p=s[c],m=s[c+1];if(-1!==m){const E=t.data[m];Pt(p),E.contentQueries(2,i[m],m)}}}function au(t,i,s,c,p,m,E,T,N,Z){const se=i.blueprint.slice();return se[0]=p,se[2]=140|c,q(se),se[3]=se[15]=t,se[8]=s,se[10]=E||t&&t[10],se[11]=T||t&&t[11],se[12]=N||t&&t[12]||null,se[9]=Z||t&&t[9]||null,se[6]=m,se[16]=2==i.type?t[16]:se,se}function sc(t,i,s,c,p){let m=t.data[i];if(null===m)m=function oc(t,i,s,c,p){const m=Za(),E=_a(),N=t.data[i]=function Cm(t,i,s,c,p,m){return{type:s,index:c,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?m:m&&m.parent,s,i,c,p);return null===t.firstChild&&(t.firstChild=N),null!==m&&(E?null==m.child&&null!==N.parent&&(m.child=N):null===m.next&&(m.next=N)),N}(t,i,s,c,p),function D(){return F.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=s,m.value=c,m.attrs=p;const E=function Io(){const t=F.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();m.injectorIndex=null===E?-1:E.injectorIndex}return Ds(m,!0),m}function ul(t,i,s,c){if(0===s)return-1;const p=i.length;for(let m=0;m<s;m++)i.push(c),t.blueprint.push(c),t.data.push(null);return p}function Nc(t,i,s){ai(i);try{const c=t.viewQuery;null!==c&&Sa(1,c,s);const p=t.template;null!==p&&td(t,i,p,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mf(t,i),t.staticViewQueries&&Sa(2,t.viewQuery,s);const m=t.components;null!==m&&function Em(t,i){for(let s=0;s<i.length;s++)ad(t,i[s])}(i,m)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{i[2]&=-5,vr()}}function ac(t,i,s,c){const p=i[2];if(256==(256&p))return;ai(i);const m=So();try{q(i),function _o(t){return F.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&td(t,i,s,2,c);const E=3==(3&p);if(!m)if(E){const Z=t.preOrderCheckHooks;null!==Z&&lo(i,Z,null)}else{const Z=t.preOrderHooks;null!==Z&&es(i,Z,0,null),_n(i,0)}if(function Im(t){for(let i=Lt(t);null!==i;i=eu(i)){if(!i[2])continue;const s=i[9];for(let c=0;c<s.length;c++){const p=s[c],m=p[3];0==(1024&p[2])&&H(m,1),p[2]|=1024}}}(i),function qp(t){for(let i=Lt(t);null!==i;i=eu(i))for(let s=10;s<i.length;s++){const c=i[s],p=c[1];Cr(c)&&ac(p,c,p.template,c[8])}}(i),null!==t.contentQueries&&mf(t,i),!m)if(E){const Z=t.contentCheckHooks;null!==Z&&lo(i,Z)}else{const Z=t.contentHooks;null!==Z&&es(i,Z,1),_n(i,1)}!function T_(t,i){const s=t.hostBindingOpCodes;if(null!==s)try{for(let c=0;c<s.length;c++){const p=s[c];if(p<0)Hs(~p);else{const m=p,E=s[++c],T=s[++c];ie(E,m),T(2,i[m])}}}finally{Hs(-1)}}(t,i);const T=t.components;null!==T&&function wm(t,i){for(let s=0;s<i.length;s++)Af(t,i[s])}(i,T);const N=t.viewQuery;if(null!==N&&Sa(2,N,c),!m)if(E){const Z=t.viewCheckHooks;null!==Z&&lo(i,Z)}else{const Z=t.viewHooks;null!==Z&&es(i,Z,2),_n(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),m||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,H(i[3],-1))}finally{vr()}}function ds(t,i,s,c){const p=i[10],m=!So(),E=fi(i);try{m&&!E&&p.begin&&p.begin(),E&&Nc(t,i,c),ac(t,i,s,c)}finally{m&&!E&&p.end&&p.end()}}function td(t,i,s,c,p){const m=nr(),E=2&c;try{Hs(-1),E&&i.length>20&&Gd(t,i,20,So()),s(c,p)}finally{Hs(m)}}function Zd(t,i,s){if(Ii(i)){const p=i.directiveEnd;for(let m=i.directiveStart;m<p;m++){const E=t.data[m];E.contentQueries&&E.contentQueries(1,s[m],m)}}}function Yd(t,i,s){!Lr()||(function lc(t,i,s,c){const p=s.directiveStart,m=s.directiveEnd;t.firstCreatePass||No(s,i),wo(c,i);const E=s.initialInputs;for(let T=p;T<m;T++){const N=t.data[T],Z=mr(N);Z&&uu(i,s,N);const se=kn(i,t,T,s);wo(se,i),null!==E&&xf(0,T-p,se,N,0,E),Z&&(yi(s.index,i)[8]=se)}}(t,i,s,Bt(s,i)),128==(128&s.flags)&&function rd(t,i,s){const c=s.directiveStart,p=s.directiveEnd,E=s.index,T=function De(){return F.lFrame.currentDirectiveIndex}();try{Hs(E);for(let N=c;N<p;N++){const Z=t.data[N],se=i[N];qe(N),(null!==Z.hostBindings||0!==Z.hostVars||null!==Z.hostAttrs)&&Cf(Z,se)}}finally{Hs(-1),qe(T)}}(t,i,s))}function _f(t,i,s=Bt){const c=i.localNames;if(null!==c){let p=i.index+1;for(let m=0;m<c.length;m+=2){const E=c[m+1],T=-1===E?s(i,t):t[E];t[p++]=T}}}function $p(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Qd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):i}function Qd(t,i,s,c,p,m,E,T,N,Z){const se=20+c,ke=se+p,st=function zp(t,i){const s=[];for(let c=0;c<i;c++)s.push(c<t?null:Ei);return s}(se,ke),Ct="function"==typeof Z?Z():Z;return st[1]={type:t,blueprint:st,template:s,queries:null,viewQuery:T,declTNode:i,data:st.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:N,consts:Ct,incompleteFirstPass:!1}}function yf(t,i,s,c){const p=uc(i);null===s?p.push(c):(p.push(s),t.firstCreatePass&&Tf(t).push(c,p.length-1))}function vf(t,i,s){for(let c in t)if(t.hasOwnProperty(c)){const p=t[c];(s=null===s?{}:s).hasOwnProperty(c)?s[c].push(i,p):s[c]=[i,p]}return s}function Ho(t,i,s,c,p,m,E,T){const N=Bt(i,s);let se,Z=i.inputs;!T&&null!=Z&&(se=Z[c])?(Yp(t,s,se,c,p),Pi(i)&&function lu(t,i){const s=yi(i,t);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(c=function Dm(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),p=null!=E?E(p,i.value||"",c):p,li(m)?m.setProperty(N,c,p):Tn(c)||(N.setProperty?N.setProperty(c,p):N[c]=p))}function eh(t,i,s,c){let p=!1;if(Lr()){const m=function sd(t,i,s){const c=t.directiveRegistry;let p=null;if(c)for(let m=0;m<c.length;m++){const E=c[m];sf(s,E.selectors,!1)&&(p||(p=[]),A(No(s,i),t,E.type),mr(E)?(nh(t,s),p.unshift(E)):p.push(E))}return p}(t,i,s),E=null===c?null:{"":-1};if(null!==m){p=!0,Ga(s,t.data.length,m.length);for(let se=0;se<m.length;se++){const ke=m[se];ke.providersResolver&&ke.providersResolver(ke)}let T=!1,N=!1,Z=ul(t,i,m.length,null);for(let se=0;se<m.length;se++){const ke=m[se];s.mergedAttrs=Jn(s.mergedAttrs,ke.hostAttrs),od(t,s,i,Z,ke),Wp(Z,ke,E),null!==ke.contentQueries&&(s.flags|=8),(null!==ke.hostBindings||null!==ke.hostAttrs||0!==ke.hostVars)&&(s.flags|=128);const st=ke.type.prototype;!T&&(st.ngOnChanges||st.ngOnInit||st.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),T=!0),!N&&(st.ngOnChanges||st.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),N=!0),Z++}!function xm(t,i){const c=i.directiveEnd,p=t.data,m=i.attrs,E=[];let T=null,N=null;for(let Z=i.directiveStart;Z<c;Z++){const se=p[Z],ke=se.inputs,st=null===m||jd(i)?null:Am(ke,m);E.push(st),T=vf(ke,Z,T),N=vf(se.outputs,Z,N)}null!==T&&(T.hasOwnProperty("class")&&(i.flags|=16),T.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=E,i.inputs=T,i.outputs=N}(t,s)}E&&function ja(t,i,s){if(i){const c=t.localNames=[];for(let p=0;p<i.length;p+=2){const m=s[i[p+1]];if(null==m)throw new nt(-301,!1);c.push(i[p],m)}}}(s,c,E)}return s.mergedAttrs=Jn(s.mergedAttrs,s.attrs),p}function th(t,i,s,c,p,m){const E=m.hostBindings;if(E){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const N=~i.index;(function Ef(t){let i=t.length;for(;i>0;){const s=t[--i];if("number"==typeof s&&s<0)return s}return 0})(T)!=N&&T.push(N),T.push(c,p,E)}}function Cf(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function nh(t,i){i.flags|=2,(t.components||(t.components=[])).push(i.index)}function Wp(t,i,s){if(s){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)s[i.exportAs[c]]=t;mr(i)&&(s[""]=t)}}function Ga(t,i,s){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+s,t.providerIndexes=i}function od(t,i,s,c,p){t.data[c]=p;const m=p.factory||(p.factory=Hr(p.type)),E=new fr(m,mr(p),null);t.blueprint[c]=E,s[c]=E,th(t,i,0,c,ul(t,s,p.hostVars,Ei),p)}function uu(t,i,s){const c=Bt(i,t),p=$p(s),m=t[10],E=Lc(t,au(t,p,null,s.onPush?64:16,c,i,m,m.createRenderer(c,s),null,null));t[i.index]=E}function $a(t,i,s,c,p,m){const E=Bt(t,i);!function cc(t,i,s,c,p,m,E){if(null==m)li(t)?t.removeAttribute(i,p,s):i.removeAttribute(p);else{const T=null==E?ze(m):E(m,c||"",p);li(t)?t.setAttribute(i,p,T,s):s?i.setAttributeNS(s,p,T):i.setAttribute(p,T)}}(i[11],E,m,t.value,s,c,p)}function xf(t,i,s,c,p,m){const E=m[i];if(null!==E){const T=c.setInput;for(let N=0;N<E.length;){const Z=E[N++],se=E[N++],ke=E[N++];null!==T?c.setInput(s,ke,Z,se):s[se]=ke}}}function Am(t,i){let s=null,c=0;for(;c<i.length;){const p=i[c];if(0!==p)if(5!==p){if("number"==typeof p)break;t.hasOwnProperty(p)&&(null===s&&(s=[]),s.push(p,t[p],i[c+1])),c+=2}else c+=2;else c+=4}return s}function Df(t,i,s,c){return new Array(t,!0,!1,i,null,0,c,s,null,null)}function Af(t,i){const s=yi(i,t);if(Cr(s)){const c=s[1];80&s[2]?ac(c,s,c.template,s[8]):s[5]>0&&fa(s)}}function fa(t){for(let c=Lt(t);null!==c;c=eu(c))for(let p=10;p<c.length;p++){const m=c[p];if(1024&m[2]){const E=m[1];ac(E,m,E.template,m[8])}else m[5]>0&&fa(m)}const s=t[1].components;if(null!==s)for(let c=0;c<s.length;c++){const p=yi(s[c],t);Cr(p)&&p[5]>0&&fa(p)}}function ad(t,i){const s=yi(i,t),c=s[1];(function Kp(t,i){for(let s=i.length;s<t.blueprint.length;s++)i.push(t.blueprint[s])})(c,s),Nc(c,s,s[8])}function Lc(t,i){return t[13]?t[14][4]=i:t[13]=i,t[14]=i,i}function If(t){for(;t;){t[2]|=64;const i=Bd(t);if($i(t)&&!i)return t;t=i}return null}function cd(t,i,s){const c=i[10];c.begin&&c.begin();try{ac(t,i,t.template,s)}catch(p){throw ud(i,p),p}finally{c.end&&c.end()}}function rh(t){!function ld(t){for(let i=0;i<t.components.length;i++){const s=t.components[i],c=Hh(s),p=c[1];ds(p,c,p.template,s)}}(t[8])}function Sa(t,i,s){Pt(0),i(t,s)}const du=(()=>Promise.resolve(null))();function uc(t){return t[7]||(t[7]=[])}function Tf(t){return t.cleanup||(t.cleanup=[])}function Fs(t,i,s){return(null===t||mr(t))&&(s=function fe(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(s[i.index])),s[11]}function ud(t,i){const s=t[9],c=s?s.get(Ld,null):null;c&&c.handleError(i)}function Yp(t,i,s,c,p){for(let m=0;m<s.length;){const E=s[m++],T=s[m++],N=i[E],Z=t.data[E];null!==Z.setInput?Z.setInput(N,p,c,T):N[T]=p}}function jo(t,i,s){const c=Tt(i,t);!function sm(t,i,s){li(t)?t.setValue(i,s):i.textContent=s}(t[11],c,s)}function hu(t,i,s){let c=s?t.styles:null,p=s?t.classes:null,m=0;if(null!==i)for(let E=0;E<i.length;E++){const T=i[E];"number"==typeof T?m=T:1==m?p=Fe(p,T):2==m&&(c=Fe(c,T+": "+i[++E]+";"))}s?t.styles=c:t.stylesWithoutHost=c,s?t.classes=p:t.classesWithoutHost=p}const dd=new Pr("INJECTOR",-1);class hd{get(i,s=Oo){if(s===Oo){const c=new Error(`NullInjectorError: No provider for ${me(i)}!`);throw c.name="NullInjectorError",c}return s}}const fu=new Pr("Set Injector scope."),fd={},Qp={};let Ta;function Ma(){return void 0===Ta&&(Ta=new hd),Ta}function pu(t,i=null,s=null,c){const p=Of(t,i,s,c);return p._resolveInjectorDefTypes(),p}function Of(t,i=null,s=null,c){return new Jp(t,s,i||Ma(),c)}class Jp{constructor(i,s,c,p=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];s&&Mo(s,T=>this.processProvider(T,i,s)),Mo([i],T=>this.processInjectorType(T,[],m)),this.records.set(dd,Nl(void 0,this));const E=this.records.get(fu);this.scope=null!=E?E.value:null,this.source=p||("object"==typeof i?null:me(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=Oo,c=ln.Default){this.assertNotDestroyed();const p=At(this),m=Fn(void 0);try{if(!(c&ln.SkipSelf)){let T=this.records.get(i);if(void 0===T){const N=function md(t){return"function"==typeof t||"object"==typeof t&&t instanceof Pr}(i)&&Vt(i);T=N&&this.injectableDefInScope(N)?Nl(dc(i),fd):null,this.records.set(i,T)}if(null!=T)return this.hydrate(i,T)}return(c&ln.Self?Ma():this.parent).get(i,s=c&ln.Optional&&s===Oo?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[os]=E[os]||[]).unshift(me(i)),p)throw E;return function Vi(t,i,s,c){const p=t[os];throw i[ae]&&p.unshift(i[ae]),t.message=function Vo(t,i,s,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let p=me(i);if(Array.isArray(i))p=i.map(me).join(" -> ");else if("object"==typeof i){let m=[];for(let E in i)if(i.hasOwnProperty(E)){let T=i[E];m.push(E+":"+("string"==typeof T?JSON.stringify(T):me(T)))}p=`{${m.join(", ")}}`}return`${s}${c?"("+c+")":""}[${p}]: ${t.replace(B,"\n  ")}`}("\n"+t.message,p,s,c),t.ngTokenPath=p,t[os]=null,t}(E,i,"R3InjectorError",this.source)}throw E}finally{Fn(m),At(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((c,p)=>i.push(me(p))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processInjectorType(i,s,c){if(!(i=Se(i)))return!1;let p=Kn(i);const m=null==p&&i.ngModule||void 0,E=void 0===m?i:m,T=-1!==c.indexOf(E);if(void 0!==m&&(p=Kn(m)),null==p)return!1;if(null!=p.imports&&!T){let se;c.push(E);try{Mo(p.imports,ke=>{this.processInjectorType(ke,s,c)&&(void 0===se&&(se=[]),se.push(ke))})}finally{}if(void 0!==se)for(let ke=0;ke<se.length;ke++){const{ngModule:st,providers:Ct}=se[ke];Mo(Ct,$t=>this.processProvider($t,st,Ct||sn))}}this.injectorDefTypes.add(E);const N=Hr(E)||(()=>new E);this.records.set(E,Nl(N,fd));const Z=p.providers;if(null!=Z&&!T){const se=i;Mo(Z,ke=>this.processProvider(ke,se,Z))}return void 0!==m&&void 0!==i.providers}processProvider(i,s,c){let p=hc(i=Se(i))?i:Se(i&&i.provide);const m=function Xp(t,i,s){return oh(t)?Nl(void 0,t.useValue):Nl(eg(t),fd)}(i);if(hc(i)||!0!==i.multi)this.records.get(p);else{let E=this.records.get(p);E||(E=Nl(void 0,fd,!0),E.factory=()=>Yi(E.multi),this.records.set(p,E)),p=i,E.multi.push(i)}this.records.set(p,m)}hydrate(i,s){return s.value===fd&&(s.value=Qp,s.value=s.factory()),"object"==typeof s.value&&s.value&&function gd(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Se(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function dc(t){const i=Vt(t),s=null!==i?i.factory:Hr(t);if(null!==s)return s;if(t instanceof Pr)throw new nt(204,!1);if(t instanceof Function)return function pd(t){const i=t.length;if(i>0)throw is(i,"?"),new nt(204,!1);const s=function Rn(t){const i=t&&(t[wn]||t[ni]);if(i){const s=function $n(t){if(t.hasOwnProperty("name"))return t.name;const i=(""+t).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new nt(204,!1)}function eg(t,i,s){let c;if(hc(t)){const p=Se(t);return Hr(p)||dc(p)}if(oh(t))c=()=>Se(t.useValue);else if(function Sm(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Yi(t.deps||[]));else if(function Rf(t){return!(!t||!t.useExisting)}(t))c=()=>fn(Se(t.useExisting));else{const p=Se(t&&(t.useClass||t.provide));if(!function ah(t){return!!t.deps}(t))return Hr(p)||dc(p);c=()=>new p(...Yi(t.deps))}return c}function Nl(t,i,s=!1){return{factory:t,value:i,multi:s?[]:void 0}}function oh(t){return null!==t&&"object"==typeof t&&Ge in t}function hc(t){return"function"==typeof t}let Oa=(()=>{class t{static create(s,c){var p;if(Array.isArray(s))return pu({name:""},c,s,"");{const m=null!==(p=s.name)&&void 0!==p?p:"";return pu({name:m},s.parent,s.providers,m)}}}return t.THROW_IF_NOT_FOUND=Oo,t.NULL=new hd,t.\u0275prov=It({token:t,providedIn:"any",factory:()=>fn(dd)}),t.__NG_ELEMENT_ID__=-1,t})();function Vf(t,i){$s(Hh(t)[1],lr())}function dh(t){let i=function uh(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const c=[t];for(;i;){let p;if(mr(t))p=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new nt(903,"");p=i.\u0275dir}if(p){if(s){c.push(p);const E=t;E.inputs=Uf(t.inputs),E.declaredInputs=Uf(t.declaredInputs),E.outputs=Uf(t.outputs);const T=p.hostBindings;T&&jf(t,T);const N=p.viewQuery,Z=p.contentQueries;if(N&&Hf(t,N),Z&&ag(t,Z),Be(t.inputs,p.inputs),Be(t.declaredInputs,p.declaredInputs),Be(t.outputs,p.outputs),mr(p)&&p.data.animation){const se=t.data;se.animation=(se.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let E=0;E<m.length;E++){const T=m[E];T&&T.ngInherit&&T(t),T===dh&&(s=!1)}}i=Object.getPrototypeOf(i)}!function og(t){let i=0,s=null;for(let c=t.length-1;c>=0;c--){const p=t[c];p.hostVars=i+=p.hostVars,p.hostAttrs=Jn(p.hostAttrs,s=Jn(s,p.hostAttrs))}}(c)}function Uf(t){return t===Gn?{}:t===sn?[]:t}function Hf(t,i){const s=t.viewQuery;t.viewQuery=s?(c,p)=>{i(c,p),s(c,p)}:i}function ag(t,i){const s=t.contentQueries;t.contentQueries=s?(c,p,m)=>{i(c,p,m),s(c,p,m)}:i}function jf(t,i){const s=t.hostBindings;t.hostBindings=s?(c,p)=>{i(c,p),s(c,p)}:i}let mu=null;function gc(){if(!mu){const t=En.Symbol;if(t&&t.iterator)mu=t.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const c=i[s];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(mu=c)}}}return mu}function _u(t){return!!cg(t)&&(Array.isArray(t)||!(t instanceof Map)&&gc()in t)}function cg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function $o(t,i,s){return!Object.is(t[i],s)&&(t[i]=s,!0)}function ph(t,i,s,c){const p=Kt();return $o(p,J(),i)&&(Nn(),$a(Xi(),p,t,i,s,c)),ph}function mc(t,i,s,c){return $o(t,J(),s)?i+ze(s)+c:Ei}function _c(t,i,s,c,p,m){const T=function Vc(t,i,s,c){const p=$o(t,i,s);return $o(t,i+1,c)||p}(t,function to(){return F.lFrame.bindingIndex}(),s,p);return w(2),T?i+ze(s)+c+ze(p)+m:Ei}function Pm(t,i,s,c,p,m,E,T){const N=Kt(),Z=Nn(),se=t+20,ke=Z.firstCreatePass?function k_(t,i,s,c,p,m,E,T,N){const Z=i.consts,se=sc(i,t,4,E||null,sr(Z,T));eh(i,s,se,sr(Z,N)),$s(i,se);const ke=se.tViews=Qd(2,se,c,p,m,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Z);return null!==i.queries&&(i.queries.template(i,se),ke.queries=i.queries.embeddedTView(se)),se}(se,Z,N,i,s,c,p,m,E):Z.data[se];Ds(ke,!1);const st=N[11].createComment("");ef(Z,N,st,ke),wo(st,N),Lc(N,N[se]=Df(st,N,st,ke)),_i(ke)&&Yd(Z,N,ke),null!=E&&_f(N,ke,T)}function Kf(t){return function Si(t,i){return t[i]}(function Zo(){return F.lFrame.contextLView}(),20+t)}function Cd(t,i=ln.Default){const s=Kt();return null===s?fn(t,i):Re(lr(),s,Se(t),i)}function Ag(){throw new Error("invalid")}function vh(t,i,s){const c=Kt();return $o(c,J(),i)&&Ho(Nn(),Xi(),c,t,i,c[11],s,!1),vh}function bh(t,i,s,c,p){const E=p?"class":"style";Yp(t,s,i.inputs[E],E,c)}function Qf(t,i,s,c){const p=Kt(),m=Nn(),E=20+t,T=p[11],N=p[E]=Zh(T,i,function yo(){return F.lFrame.currentNamespace}()),Z=m.firstCreatePass?function wh(t,i,s,c,p,m,E){const T=i.consts,Z=sc(i,t,2,p,sr(T,m));return eh(i,s,Z,sr(T,E)),null!==Z.attrs&&hu(Z,Z.attrs,!1),null!==Z.mergedAttrs&&hu(Z,Z.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,Z),Z}(E,m,p,0,i,s,c):m.data[E];Ds(Z,!0);const se=Z.mergedAttrs;null!==se&&Rr(T,N,se);const ke=Z.classes;null!==ke&&Zu(T,N,ke);const st=Z.styles;return null!==st&&tf(T,N,st),64!=(64&Z.flags)&&ef(m,p,N,Z),0===function Ft(){return F.lFrame.elementDepthCount}()&&wo(N,p),function In(){F.lFrame.elementDepthCount++}(),_i(Z)&&(Yd(m,p,Z),Zd(m,Z,p)),null!==c&&_f(p,Z),Qf}function fl(){let t=lr();_a()?Ko():(t=t.parent,Ds(t,!1));const i=t;!function yr(){F.lFrame.elementDepthCount--}();const s=Nn();return s.firstCreatePass&&($s(s,t),Ii(t)&&s.queries.elementEnd(t)),null!=i.classesWithoutHost&&function ia(t){return 0!=(16&t.flags)}(i)&&bh(s,i,Kt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ml(t){return 0!=(32&t.flags)}(i)&&bh(s,i,Kt(),i.stylesWithoutHost,!1),fl}function bu(t,i,s,c){return Qf(t,i,s,c),fl(),bu}function wu(t,i,s){const c=Kt(),p=Nn(),m=t+20,E=p.firstCreatePass?function Ig(t,i,s,c,p){const m=i.consts,E=sr(m,c),T=sc(i,t,8,"ng-container",E);return null!==E&&hu(T,E,!0),eh(i,s,T,sr(m,p)),null!==i.queries&&i.queries.elementStart(i,T),T}(m,p,c,i,s):p.data[m];Ds(E,!0);const T=c[m]=c[11].createComment("");return ef(p,c,T,E),wo(T,c),_i(E)&&(Yd(p,c,E),Zd(p,E,c)),null!=s&&_f(c,E),wu}function Ch(){let t=lr();const i=Nn();return _a()?Ko():(t=t.parent,Ds(t,!1)),i.firstCreatePass&&($s(i,t),Ii(t)&&i.queries.elementEnd(t)),Ch}function Tg(){return Kt()}function xh(t){return!!t&&"function"==typeof t.then}function Dh(t){return!!t&&"function"==typeof t.subscribe}const Jf=Dh;function Vl(t,i,s,c){const p=Kt(),m=Nn(),E=lr();return Ih(m,p,p[11],E,t,i,!!s,c),Vl}function Ah(t,i){const s=lr(),c=Kt(),p=Nn();return Ih(p,c,Fs(Je(p.data),s,c),s,t,i,!1),Ah}function Ih(t,i,s,c,p,m,E,T){const N=_i(c),se=t.firstCreatePass&&Tf(t),ke=i[8],st=uc(i);let Ct=!0;if(3&c.type||T){const On=Bt(c,i),qn=T?T(On):On,nn=st.length,Ci=T?Dr=>T($(Dr[c.index])):c.index;if(li(s)){let Dr=null;if(!T&&N&&(Dr=function Mg(t,i,s,c){const p=t.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const E=p[m];if(E===s&&p[m+1]===c){const T=i[7],N=p[m+2];return T.length>N?T[N]:null}"string"==typeof E&&(m+=2)}return null}(t,i,p,c.index)),null!==Dr)(Dr.__ngLastListenerFn__||Dr).__ngNextListenerFn__=m,Dr.__ngLastListenerFn__=m,Ct=!1;else{m=Og(c,i,ke,m,!1);const rs=s.listen(qn,p,m);st.push(m,rs),se&&se.push(p,Ci,nn,nn+1)}}else m=Og(c,i,ke,m,!0),qn.addEventListener(p,m,E),st.push(m),se&&se.push(p,Ci,nn,E)}else m=Og(c,i,ke,m,!1);const $t=c.outputs;let vn;if(Ct&&null!==$t&&(vn=$t[p])){const On=vn.length;if(On)for(let qn=0;qn<On;qn+=2){const jl=i[vn[qn]][vn[qn+1]].subscribe(m),ap=st.length;st.push(m,jl),se&&se.push(p,c.index,ap,-(ap+1))}}}function Sh(t,i,s,c){try{return!1!==s(c)}catch(p){return ud(t,p),!1}}function Og(t,i,s,c,p){return function m(E){if(E===Function)return c;const T=2&t.flags?yi(t.index,i):i;0==(32&i[2])&&If(T);let N=Sh(i,0,c,E),Z=m.__ngNextListenerFn__;for(;Z;)N=Sh(i,0,Z,E)&&N,Z=Z.__ngNextListenerFn__;return p&&!1===N&&(E.preventDefault(),E.returnValue=!1),N}}function xd(t=1){return function hr(t){return(F.lFrame.contextLView=function ss(t,i){for(;t>0;)i=i[15],t--;return i}(t,F.lFrame.contextLView))[8]}(t)}function Th(t,i){let s=null;const c=function hm(t){const i=t.attrs;if(null!=i){const s=i.indexOf(5);if(0==(1&s))return i[s+1]}return null}(t);for(let p=0;p<i.length;p++){const m=i[p];if("*"!==m){if(null===c?sf(t,m,!0):af(c,m))return p}else s=p}return s}function Xf(t){const i=Kt()[16][6];if(!i.projection){const c=i.projection=is(t?t.length:1,null),p=c.slice();let m=i.child;for(;null!==m;){const E=t?Th(m,t):0;null!==E&&(p[E]?p[E].projectionNext=m:c[E]=m,p[E]=m),m=m.next}}}function Eu(t,i=0,s){const c=Kt(),p=Nn(),m=sc(p,20+t,16,null,s||null);null===m.projection&&(m.projection=i),Ko(),64!=(64&m.flags)&&function ou(t,i,s){Rp(i[11],0,i,s,Fc(t,s,i),Tp(s.parent||i[6],s,i))}(p,c,m)}function ep(t,i,s){return Cu(t,"",i,"",s),ep}function Cu(t,i,s,c,p){const m=Kt(),E=mc(m,i,s,c);return E!==Ei&&Ho(Nn(),Xi(),m,t,E,m[11],p,!1),Cu}function Fg(t,i,s,c,p){const m=t[s+1],E=null===i;let T=c?cl(m):kl(m),N=!1;for(;0!==T&&(!1===N||E);){const se=t[T+1];qm(t[T],i)&&(N=!0,t[T+1]=c?cf(se):Qu(se)),T=c?cl(se):kl(se)}N&&(t[s+1]=c?Qu(m):cf(m))}function qm(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&zs(t,i)>=0}const qs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pg(t){return t.substring(qs.key,qs.keyEnd)}function Zm(t,i){const s=qs.textEnd;return s===i?-1:(i=qs.keyEnd=function Bg(t,i,s){for(;i<s&&t.charCodeAt(i)>32;)i++;return i}(t,qs.key=i,s),Au(t,i,s))}function Au(t,i,s){for(;i<s&&t.charCodeAt(i)<=32;)i++;return i}function ip(t,i,s){return Wa(t,i,s,!1),ip}function Rh(t,i){return Wa(t,i,null,!0),Rh}function bc(t){pl(ro,Hl,t,!0)}function Hl(t,i){for(let s=function Ng(t){return function Lg(t){qs.key=0,qs.keyEnd=0,qs.value=0,qs.valueEnd=0,qs.textEnd=t.length}(t),Zm(t,Au(t,0,qs.textEnd))}(i);s>=0;s=Zm(i,s))ro(t,Pg(i),!0)}function Wa(t,i,s,c){const p=Kt(),m=Nn(),E=w(2);m.firstUpdatePass&&Jm(m,t,E,c),i!==Ei&&$o(p,E,i)&&ee(m,m.data[nr()],p,p[11],t,p[E+1]=function Yt(t,i){return null==t||("string"==typeof i?t+=i:"object"==typeof t&&(t=me(Ba(t)))),t}(i,s),c,E)}function pl(t,i,s,c){const p=Nn(),m=w(2);p.firstUpdatePass&&Jm(p,null,m,c);const E=Kt();if(s!==Ei&&$o(E,m,s)){const T=p.data[nr()];if(Wt(T,c)&&!rp(p,m)){let N=c?T.classesWithoutHost:T.stylesWithoutHost;null!==N&&(s=Fe(N,s||"")),bh(p,T,E,s,c)}else!function M(t,i,s,c,p,m,E,T){p===Ei&&(p=sn);let N=0,Z=0,se=0<p.length?p[0]:null,ke=0<m.length?m[0]:null;for(;null!==se||null!==ke;){const st=N<p.length?p[N+1]:void 0,Ct=Z<m.length?m[Z+1]:void 0;let vn,$t=null;se===ke?(N+=2,Z+=2,st!==Ct&&($t=ke,vn=Ct)):null===ke||null!==se&&se<ke?(N+=2,$t=se):(Z+=2,$t=ke,vn=Ct),null!==$t&&ee(t,i,s,c,$t,vn,E,T),se=N<p.length?p[N]:null,ke=Z<m.length?m[Z]:null}}(p,T,E,E[11],E[m+1],E[m+1]=function f(t,i,s){if(null==s||""===s)return sn;const c=[],p=Ba(s);if(Array.isArray(p))for(let m=0;m<p.length;m++)t(c,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&t(c,m,p[m]);else"string"==typeof p&&i(c,p);return c}(t,i,s),c,m)}}function rp(t,i){return i>=t.expandoStartIndex}function Jm(t,i,s,c){const p=t.data;if(null===p[s+1]){const m=p[nr()],E=rp(t,s);Wt(m,c)&&null===i&&!E&&(i=!1),i=function Xm(t,i,s,c){const p=Je(t);let m=c?i.residualClasses:i.residualStyles;if(null===p)0===(c?i.classBindings:i.styleBindings)&&(s=a(s=h(null,t,i,s,c),i.attrs,c),m=null);else{const E=i.directiveStylingLast;if(-1===E||t[E]!==p)if(s=h(p,t,i,s,c),null===m){let N=function e_(t,i,s){const c=s?i.classBindings:i.styleBindings;if(0!==kl(c))return t[cl(c)]}(t,i,c);void 0!==N&&Array.isArray(N)&&(N=h(null,t,i,N[1],c),N=a(N,i.attrs,c),function t_(t,i,s,c){t[cl(s?i.classBindings:i.styleBindings)]=c}(t,i,c,N))}else m=function u(t,i,s){let c;const p=i.directiveEnd;for(let m=1+i.directiveStylingLast;m<p;m++)c=a(c,t[m].hostAttrs,s);return a(c,i.attrs,s)}(t,i,c)}return void 0!==m&&(c?i.residualClasses=m:i.residualStyles=m),s}(p,m,i,c),function V_(t,i,s,c,p,m){let E=m?i.classBindings:i.styleBindings,T=cl(E),N=kl(E);t[c]=s;let se,Z=!1;if(Array.isArray(s)){const ke=s;se=ke[1],(null===se||zs(ke,se)>0)&&(Z=!0)}else se=s;if(p)if(0!==N){const st=cl(t[T+1]);t[c+1]=$d(st,T),0!==st&&(t[st+1]=Fp(t[st+1],c)),t[T+1]=function v_(t,i){return 131071&t|i<<17}(t[T+1],c)}else t[c+1]=$d(T,0),0!==T&&(t[T+1]=Fp(t[T+1],c)),T=c;else t[c+1]=$d(N,0),0===T?T=c:t[N+1]=Fp(t[N+1],c),N=c;Z&&(t[c+1]=Qu(t[c+1])),Fg(t,se,c,!0),Fg(t,se,c,!1),function Wm(t,i,s,c,p){const m=p?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof i&&zs(m,i)>=0&&(s[c+1]=cf(s[c+1]))}(i,se,t,c,m),E=$d(T,N),m?i.classBindings=E:i.styleBindings=E}(p,m,i,s,E,c)}}function h(t,i,s,c,p){let m=null;const E=s.directiveEnd;let T=s.directiveStylingLast;for(-1===T?T=s.directiveStart:T++;T<E&&(m=i[T],c=a(c,m.hostAttrs,p),m!==t);)T++;return null!==t&&(s.directiveStylingLast=T),c}function a(t,i,s){const c=s?1:2;let p=-1;if(null!==i)for(let m=0;m<i.length;m++){const E=i[m];"number"==typeof E?p=E:p===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ro(t,E,!!s||i[++m]))}return void 0===t?null:t}function ee(t,i,s,c,p,m,E,T){if(!(3&i.type))return;const N=t.data,Z=N[T+1];ut(function pm(t){return 1==(1&t)}(Z)?Me(N,i,s,p,kl(Z),E):void 0)||(ut(m)||function fm(t){return 2==(2&t)}(Z)&&(m=Me(N,null,s,p,T,E)),function m_(t,i,s,c,p){const m=li(t);if(i)p?m?t.addClass(s,c):s.classList.add(c):m?t.removeClass(s,c):s.classList.remove(c);else{let E=-1===c.indexOf("-")?void 0:Rl.DashCase;if(null==p)m?t.removeStyle(s,c,E):s.style.removeProperty(c);else{const T="string"==typeof p&&p.endsWith("!important");T&&(p=p.slice(0,-10),E|=Rl.Important),m?t.setStyle(s,c,p,E):s.style.setProperty(c,p,T?"important":"")}}}(c,E,Tt(nr(),s),p,m))}function Me(t,i,s,c,p,m){const E=null===i;let T;for(;p>0;){const N=t[p],Z=Array.isArray(N),se=Z?N[1]:N,ke=null===se;let st=s[p+1];st===Ei&&(st=ke?sn:void 0);let Ct=ke?bl(st,c):se===c?st:void 0;if(Z&&!ut(Ct)&&(Ct=bl(N,c)),ut(Ct)&&(T=Ct,E))return T;const $t=t[p+1];p=E?cl($t):kl($t)}if(null!==i){let N=m?i.residualClasses:i.residualStyles;null!=N&&(T=bl(N,c))}return T}function ut(t){return void 0!==t}function Wt(t,i){return 0!=(t.flags&(i?16:32))}function Bn(t,i=""){const s=Kt(),c=Nn(),p=t+20,m=c.firstCreatePass?sc(c,p,1,i,null):c.data[p],E=s[p]=function Jl(t,i){return li(t)?t.createText(i):t.createTextNode(i)}(s[11],i);ef(c,s,E,m),Ds(m,!1)}function ji(t){return Ki("",t,""),ji}function Ki(t,i,s){const c=Kt(),p=mc(c,t,i,s);return p!==Ei&&jo(c,nr(),p),Ki}function ar(t,i,s,c,p){const m=Kt(),E=_c(m,t,i,s,c,p);return E!==Ei&&jo(m,nr(),E),ar}function P(t,i,s){pl(ro,Hl,mc(Kt(),t,i,s),!0)}function oy(t,i,s){const c=Kt();return $o(c,J(),i)&&Ho(Nn(),Xi(),c,t,i,c[11],s,!0),oy}function ay(t,i,s){const c=Kt();if($o(c,J(),i)){const m=Nn(),E=Xi();Ho(m,E,c,t,i,Fs(Je(m.data),E,c),s,!0)}return ay}const sp=void 0;var Jb=["en",[["a","p"],["AM","PM"],sp],[["AM","PM"],sp,sp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sp,"{1} 'at' {0}",sp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Qb(t){const s=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let jg={};function ly(t){const i=function Xb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ov(i);if(s)return s;const c=i.split("-")[0];if(s=ov(c),s)return s;if("en"===c)return Jb;throw new Error(`Missing locale data for the locale "${t}".`)}function sv(t){return ly(t)[Mi.PluralCase]}function ov(t){return t in jg||(jg[t]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[t]),jg[t]}var Mi=(()=>((Mi=Mi||{})[Mi.LocaleId=0]="LocaleId",Mi[Mi.DayPeriodsFormat=1]="DayPeriodsFormat",Mi[Mi.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mi[Mi.DaysFormat=3]="DaysFormat",Mi[Mi.DaysStandalone=4]="DaysStandalone",Mi[Mi.MonthsFormat=5]="MonthsFormat",Mi[Mi.MonthsStandalone=6]="MonthsStandalone",Mi[Mi.Eras=7]="Eras",Mi[Mi.FirstDayOfWeek=8]="FirstDayOfWeek",Mi[Mi.WeekendRange=9]="WeekendRange",Mi[Mi.DateFormat=10]="DateFormat",Mi[Mi.TimeFormat=11]="TimeFormat",Mi[Mi.DateTimeFormat=12]="DateTimeFormat",Mi[Mi.NumberSymbols=13]="NumberSymbols",Mi[Mi.NumberFormats=14]="NumberFormats",Mi[Mi.CurrencyCode=15]="CurrencyCode",Mi[Mi.CurrencySymbol=16]="CurrencySymbol",Mi[Mi.CurrencyName=17]="CurrencyName",Mi[Mi.Currencies=18]="Currencies",Mi[Mi.Directionality=19]="Directionality",Mi[Mi.PluralCase=20]="PluralCase",Mi[Mi.ExtraData=21]="ExtraData",Mi))();const U_="en-US";let av=U_;function dy(t,i,s,c,p){if(t=Se(t),Array.isArray(t))for(let m=0;m<t.length;m++)dy(t[m],i,s,c,p);else{const m=Nn(),E=Kt();let T=hc(t)?t:Se(t.provide),N=eg(t);const Z=lr(),se=1048575&Z.providerIndexes,ke=Z.directiveStart,st=Z.providerIndexes>>20;if(hc(t)||!t.multi){const Ct=new fr(N,p,Cd),$t=fy(T,i,p?se:se+st,ke);-1===$t?(A(No(Z,E),m,T),hy(m,t,i.length),i.push(T),Z.directiveStart++,Z.directiveEnd++,p&&(Z.providerIndexes+=1048576),s.push(Ct),E.push(Ct)):(s[$t]=Ct,E[$t]=Ct)}else{const Ct=fy(T,i,se+st,ke),$t=fy(T,i,se,se+st),vn=Ct>=0&&s[Ct],On=$t>=0&&s[$t];if(p&&!On||!p&&!vn){A(No(Z,E),m,T);const qn=function J0(t,i,s,c,p){const m=new fr(t,s,Cd);return m.multi=[],m.index=i,m.componentProviders=0,Ov(m,p,c&&!s),m}(p?Q0:Y0,s.length,p,c,N);!p&&On&&(s[$t].providerFactory=qn),hy(m,t,i.length,0),i.push(T),Z.directiveStart++,Z.directiveEnd++,p&&(Z.providerIndexes+=1048576),s.push(qn),E.push(qn)}else hy(m,t,Ct>-1?Ct:$t,Ov(s[p?$t:Ct],N,!p&&c));!p&&c&&On&&s[$t].componentProviders++}}}function hy(t,i,s,c){const p=hc(i),m=function tg(t){return!!t.useClass}(i);if(p||m){const N=(m?Se(i.useClass):i).prototype.ngOnDestroy;if(N){const Z=t.destroyHooks||(t.destroyHooks=[]);if(!p&&i.multi){const se=Z.indexOf(s);-1===se?Z.push(s,[c,N]):Z[se+1].push(c,N)}else Z.push(s,N)}}}function Ov(t,i,s){return s&&t.componentProviders++,t.multi.push(i)-1}function fy(t,i,s,c){for(let p=s;p<c;p++)if(i[p]===t)return p;return-1}function Y0(t,i,s,c){return py(this.multi,[])}function Q0(t,i,s,c){const p=this.multi;let m;if(this.providerFactory){const E=this.providerFactory.componentProviders,T=kn(s,s[1],this.providerFactory.index,c);m=T.slice(0,E),py(p,m);for(let N=E;N<T.length;N++)m.push(T[N])}else m=[],py(p,m);return m}function py(t,i){for(let s=0;s<t.length;s++)i.push((0,t[s])());return i}function Rv(t,i=[]){return s=>{s.providersResolver=(c,p)=>function Z0(t,i,s){const c=Nn();if(c.firstCreatePass){const p=mr(t);dy(s,c.data,c.blueprint,p,!0),dy(i,c.data,c.blueprint,p,!1)}}(c,p?p(t):t,i)}}class kv{}class tw{resolveComponentFactory(i){throw function ew(t){const i=Error(`No component factory found for ${me(t)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=t,i}(i)}}let z_=(()=>{class t{}return t.NULL=new tw,t})();function nw(){return $g(lr(),Kt())}function $g(t,i){return new o_(Bt(t,i))}let o_=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=nw,t})();function iw(t){return t instanceof o_?t.nativeElement:t}class Pv{}let rw=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function ow(){const t=Kt(),s=yi(lr().index,t);return function sw(t){return t[11]}(zt(s)?s:t)}(),t})(),aw=(()=>{class t{}return t.\u0275prov=It({token:t,providedIn:"root",factory:()=>null}),t})();class Nv{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Lv=new Nv("13.2.7"),gy={};function W_(t,i,s,c,p=!1){for(;null!==s;){const m=i[s.index];if(null!==m&&c.push($(m)),Cn(m))for(let T=10;T<m.length;T++){const N=m[T],Z=N[1].firstChild;null!==Z&&W_(N[1],N,Z,c)}const E=s.type;if(8&E)W_(t,i,s.child,c);else if(32&E){const T=zu(s,i);let N;for(;N=T();)c.push(N)}else if(16&E){const T=lm(i,s);if(Array.isArray(T))c.push(...T);else{const N=Bd(i[16]);W_(N[1],N,T,c,!0)}}s=p?s.projectionNext:s.next}return c}class a_{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return W_(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Cn(i)){const s=i[8],c=s?s.indexOf(this):-1;c>-1&&(Vd(i,c),ks(s,c))}this._attachedToViewContainer=!1}am(this._lView[1],this._lView)}onDestroy(i){yf(this._lView[1],this._lView,null,i)}markForCheck(){If(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){cd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Sf(t,i,s){ws(!0);try{cd(t,i,s)}finally{ws(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new nt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Eo(t,i){Ua(t,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new nt(902,"");this._appRef=i}}class lw extends a_{constructor(i){super(i),this._view=i}detectChanges(){rh(this._view)}checkNoChanges(){!function ta(t){ws(!0);try{rh(t)}finally{ws(!1)}}(this._view)}get context(){return null}}class Bv extends z_{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Ve(i);return new my(s,this.ngModule)}}function Vv(t){const i=[];for(let s in t)t.hasOwnProperty(s)&&i.push({propName:t[s],templateName:s});return i}class my extends kv{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function ic(t){return t.map(y_).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Vv(this.componentDef.inputs)}get outputs(){return Vv(this.componentDef.outputs)}create(i,s,c,p){const m=(p=p||this.ngModule)?function uw(t,i){return{get:(s,c,p)=>{const m=t.get(s,gy,p);return m!==gy||c===gy?m:i.get(s,c,p)}}}(i,p.injector):i,E=m.get(Pv,z),T=m.get(aw,null),N=E.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",se=c?function Jd(t,i,s){if(li(t))return t.selectRootElement(i,s===tt.ShadowDom);let c="string"==typeof i?t.querySelector(i):i;return c.textContent="",c}(N,c,this.componentDef.encapsulation):Zh(E.createRenderer(null,this.componentDef),Z,function cw(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Z)),ke=this.componentDef.onPush?576:528,st=function Bf(t,i){return{components:[],scheduler:t||im,clean:du,playerHandler:i||null,flags:0}}(),Ct=Qd(0,null,null,1,0,null,null,null,null,null),$t=au(null,Ct,st,ke,null,null,E,N,T,m);let vn,On;ai($t);try{const qn=function Lf(t,i,s,c,p,m){const E=s[1];s[20]=t;const N=sc(E,20,2,"#host",null),Z=N.mergedAttrs=i.hostAttrs;null!==Z&&(hu(N,Z,!0),null!==t&&(Rr(p,t,Z),null!==N.classes&&Zu(p,t,N.classes),null!==N.styles&&tf(p,t,N.styles)));const se=c.createRenderer(t,i),ke=au(s,$p(i),null,i.onPush?64:16,s[20],N,c,se,m||null,null);return E.firstCreatePass&&(A(No(N,s),E,i.type),nh(E,N),Ga(N,s.length,1)),Lc(s,ke),s[20]=ke}(se,this.componentDef,$t,E,N);if(se)if(c)Rr(N,se,["ng-version",Lv.full]);else{const{attrs:nn,classes:Ci}=function kp(t){const i=[],s=[];let c=1,p=2;for(;c<t.length;){let m=t[c];if("string"==typeof m)2===p?""!==m&&i.push(m,t[++c]):8===p&&s.push(m);else{if(!Ha(p))break;p=m}c++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);nn&&Rr(N,se,nn),Ci&&Ci.length>0&&Zu(N,se,Ci.join(" "))}if(On=qi(Ct,20),void 0!==s){const nn=On.projection=[];for(let Ci=0;Ci<this.ngContentSelectors.length;Ci++){const Dr=s[Ci];nn.push(null!=Dr?Array.from(Dr):null)}}vn=function gu(t,i,s,c,p){const m=s[1],E=function wf(t,i,s){const c=lr();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),od(t,c,i,ul(t,i,1,null),s));const p=kn(i,t,c.directiveStart,c);wo(p,i);const m=Bt(c,i);return m&&wo(m,i),p}(m,s,i);if(c.components.push(E),t[8]=E,p&&p.forEach(N=>N(E,i)),i.contentQueries){const N=lr();i.contentQueries(1,E,N.directiveStart)}const T=lr();return!m.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Hs(T.index),th(s[1],T,0,T.directiveStart,T.directiveEnd,i),Cf(i,E)),E}(qn,this.componentDef,$t,st,[Vf]),Nc(Ct,$t,null)}finally{vr()}return new hw(this.componentType,vn,$g(On,$t),$t,On)}}class hw extends class X0{}{constructor(i,s,c,p,m){super(),this.location=c,this._rootLView=p,this._tNode=m,this.instance=s,this.hostView=this.changeDetectorRef=new lw(p),this.componentType=i}get injector(){return new ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class zg{}class Uv{}const Wg=new Map;class Gv extends zg{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bv(this);const c=cn(i);this._bootstrapComponents=Aa(c.bootstrap),this._r3Injector=Of(i,s,[{provide:zg,useValue:this},{provide:z_,useValue:this.componentFactoryResolver}],me(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=Oa.THROW_IF_NOT_FOUND,c=ln.Default){return i===Oa||i===zg||i===dd?this:this._r3Injector.get(i,s,c)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class _y extends Uv{constructor(i){super(),this.moduleType=i,null!==cn(i)&&function pw(t){const i=new Set;!function s(c){const p=cn(c,!0),m=p.id;null!==m&&(function Hv(t,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${t} - ${me(i)} vs ${me(i.name)}`)}(m,Wg.get(m),c),Wg.set(m,c));const E=Aa(p.imports);for(const T of E)i.has(T)||(i.add(T),s(T))}(t)}(i)}create(i){return new Gv(this.moduleType,i)}}function yy(t){return i=>{setTimeout(t,void 0,i)}}const Tu=class Rw extends g.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,c){var p,m,E;let T=i,N=s||(()=>null),Z=c;if(i&&"object"==typeof i){const ke=i;T=null===(p=ke.next)||void 0===p?void 0:p.bind(ke),N=null===(m=ke.error)||void 0===m?void 0:m.bind(ke),Z=null===(E=ke.complete)||void 0===E?void 0:E.bind(ke)}this.__isAsync&&(N=yy(N),T&&(T=yy(T)),Z&&(Z=yy(Z)));const se=super.subscribe({next:T,error:N,complete:Z});return i instanceof l.w0&&i.add(se),se}};function kw(){return this._results[gc()]()}class q_{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=gc(),c=q_.prototype;c[s]||(c[s]=kw)}get changes(){return this._changes||(this._changes=new Tu)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const c=this;c.dirty=!1;const p=jr(i);(this._changesDetected=!function ca(t,i,s){if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++){let p=t[c],m=i[c];if(s&&(p=s(p),m=s(m)),m!==p)return!1}return!0}(c._results,p,s))&&(c._results=p,c.length=p.length,c.last=p[this.length-1],c.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let u_=(()=>{class t{}return t.__NG_ELEMENT_ID__=Nw,t})();const Fw=u_,Pw=class extends Fw{constructor(i,s,c){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=c}createEmbeddedView(i){const s=this._declarationTContainer.tViews,c=au(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(s)),Nc(s,c,i),new a_(c)}};function Nw(){return K_(lr(),Kt())}function K_(t,i){return 4&t.type?new Pw(i,t,$g(t,i)):null}let Z_=(()=>{class t{}return t.__NG_ELEMENT_ID__=Lw,t})();function Lw(){return Qv(lr(),Kt())}const Bw=Z_,Zv=class extends Bw{constructor(i,s,c){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=c}get element(){return $g(this._hostTNode,this._hostLView)}get injector(){return new ns(this._hostTNode,this._hostLView)}get parentInjector(){const i=S(this._hostTNode,this._hostLView);if(on(i)){const s=br(i,this._hostLView),c=St(i);return new ns(s[1].data[c+8],s)}return new ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Yv(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,c){const p=i.createEmbeddedView(s||{});return this.insert(p,c),p}createComponent(i,s,c,p,m){const E=i&&!function Qa(t){return"function"==typeof t}(i);let T;if(E)T=s;else{const ke=s||{};T=ke.index,c=ke.injector,p=ke.projectableNodes,m=ke.ngModuleRef}const N=E?i:new my(Ve(i)),Z=c||this.parentInjector;if(!m&&null==N.ngModule){const st=(E?Z:this.parentInjector).get(zg,null);st&&(m=st)}const se=N.create(Z,p,void 0,m);return this.insert(se.hostView,T),se}insert(i,s){const c=i._lView,p=c[1];if(function Fi(t){return Cn(t[3])}(c)){const se=this.indexOf(i);if(-1!==se)this.detach(se);else{const ke=c[3],st=new Zv(ke,ke[6],ke[3]);st.detach(st.indexOf(i))}}const m=this._adjustIndex(s),E=this._lContainer;!function Dp(t,i,s,c){const p=10+c,m=s.length;c>0&&(s[p-1][4]=i),c<m-10?(i[4]=s[p],Ca(s,10+c,i)):(s.push(i),i[4]=null),i[3]=s;const E=i[17];null!==E&&s!==E&&function Ap(t,i){const s=t[9];i[16]!==i[3][3][16]&&(t[2]=!0),null===s?t[9]=[i]:s.push(i)}(E,i);const T=i[19];null!==T&&T.insertView(t),i[2]|=128}(p,c,E,m);const T=Op(m,E),N=c[11],Z=Ud(N,E[7]);return null!==Z&&function om(t,i,s,c,p,m){c[0]=p,c[6]=i,Ua(t,c,s,1,p,m)}(p,E[6],N,c,Z,T),i.attachToViewContainerRef(),Ca(vy(E),m,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Yv(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),c=Vd(this._lContainer,s);c&&(ks(vy(this._lContainer),s),am(c[1],c))}detach(i){const s=this._adjustIndex(i,-1),c=Vd(this._lContainer,s);return c&&null!=ks(vy(this._lContainer),s)?new a_(c):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function Yv(t){return t[8]}function vy(t){return t[8]||(t[8]=[])}function Qv(t,i){let s;const c=i[t.index];if(Cn(c))s=c;else{let p;if(8&t.type)p=$(c);else{const m=i[11];p=m.createComment("");const E=Bt(t,i);ll(m,Ud(m,E),p,function p_(t,i){return li(t)?t.nextSibling(i):i.nextSibling}(m,E),!1)}i[t.index]=s=Df(c,i,p,t),Lc(i,s)}return new Zv(s,t,i)}class by{constructor(i){this.queryList=i,this.matches=null}clone(){return new by(this.queryList)}setDirty(){this.queryList.setDirty()}}class wy{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const c=null!==i.contentQueries?i.contentQueries[0]:s.length,p=[];for(let m=0;m<c;m++){const E=s.getByIndex(m);p.push(this.queries[E.indexInDeclarationView].clone())}return new wy(p)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==ob(i,s).matches&&this.queries[s].setDirty()}}class Jv{constructor(i,s,c=null){this.predicate=i,this.flags=s,this.read=c}}class Ey{constructor(i=[]){this.queries=i}elementStart(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let c=0;c<this.length;c++){const p=null!==s?s.length:0,m=this.getByIndex(c).embeddedTView(i,p);m&&(m.indexInDeclarationView=c,null!==s?s.push(m):s=[m])}return null!==s?new Ey(s):null}template(i,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Cy{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Cy(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let p=0;p<c.length;p++){const m=c[p];this.matchTNodeWithReadOption(i,s,Hw(s,m)),this.matchTNodeWithReadOption(i,s,xi(s,i,m,!1,!1))}else c===u_?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,xi(s,i,c,!1,!1))}matchTNodeWithReadOption(i,s,c){if(null!==c){const p=this.metadata.read;if(null!==p)if(p===o_||p===Z_||p===u_&&4&s.type)this.addMatch(s.index,-2);else{const m=xi(s,i,p,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,c)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function Hw(t,i){const s=t.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===i)return s[c+1];return null}function Gw(t,i,s,c){return-1===s?function jw(t,i){return 11&t.type?$g(t,i):4&t.type?K_(t,i):null}(i,t):-2===s?function $w(t,i,s){return s===o_?$g(i,t):s===u_?K_(i,t):s===Z_?Qv(i,t):void 0}(t,i,c):kn(t,t[1],s,i)}function Xv(t,i,s,c){const p=i[19].queries[c];if(null===p.matches){const m=t.data,E=s.matches,T=[];for(let N=0;N<E.length;N+=2){const Z=E[N];T.push(Z<0?null:Gw(i,m[Z],E[N+1],s.metadata.read))}p.matches=T}return p.matches}function xy(t,i,s,c){const p=t.queries.getByIndex(s),m=p.matches;if(null!==m){const E=Xv(t,i,p,s);for(let T=0;T<m.length;T+=2){const N=m[T];if(N>0)c.push(E[T/2]);else{const Z=m[T+1],se=i[-N];for(let ke=10;ke<se.length;ke++){const st=se[ke];st[17]===st[3]&&xy(st[1],st,Z,c)}if(null!==se[9]){const ke=se[9];for(let st=0;st<ke.length;st++){const Ct=ke[st];xy(Ct[1],Ct,Z,c)}}}}}return c}function eb(t){const i=Kt(),s=Nn(),c=yt();Pt(c+1);const p=ob(s,c);if(t.dirty&&fi(i)===(2==(2&p.metadata.flags))){if(null===p.matches)t.reset([]);else{const m=p.crossesNgTemplate?xy(s,i,c,[]):Xv(s,i,p,c);t.reset(m,iw),t.notifyOnChanges()}return!0}return!1}function tb(t,i,s){const c=Nn();c.firstCreatePass&&(sb(c,new Jv(t,i,s),-1),2==(2&i)&&(c.staticViewQueries=!0)),rb(c,Kt(),i)}function nb(t,i,s,c){const p=Nn();if(p.firstCreatePass){const m=lr();sb(p,new Jv(i,s,c),m.index),function Ww(t,i){const s=t.contentQueries||(t.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,i)}(p,t),2==(2&s)&&(p.staticContentQueries=!0)}rb(p,Kt(),s)}function ib(){return function zw(t,i){return t[19].queries[i].queryList}(Kt(),yt())}function rb(t,i,s){const c=new q_(4==(4&s));yf(t,i,c,c.destroy),null===i[19]&&(i[19]=new wy),i[19].queries.push(new by(c))}function sb(t,i,s){null===t.queries&&(t.queries=new Ey),t.queries.track(new Cy(i,s))}function ob(t,i){return t.queries.getByIndex(i)}function J_(...t){}const Cb=new Pr("Application Initializer");let My=(()=>{class t{constructor(s){this.appInits=s,this.resolve=J_,this.reject=J_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,p)=>{this.resolve=c,this.reject=p})}runInitializers(){if(this.initialized)return;const s=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(xh(m))s.push(m);else if(Jf(m)){const E=new Promise((T,N)=>{m.subscribe({complete:T,error:N})});s.push(E)}}Promise.all(s).then(()=>{c()}).catch(p=>{this.reject(p)}),0===s.length&&c(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(fn(Cb,8))},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xb=new Pr("AppId",{providedIn:"root",factory:function Db(){return`${Oy()}${Oy()}${Oy()}`}});function Oy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ab=new Pr("Platform Initializer"),Ib=new Pr("Platform ID"),Sb=new Pr("appBootstrapListener");let Tb=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();const Ry=new Pr("LocaleId",{providedIn:"root",factory:()=>Di(Ry,ln.Optional|ln.SkipSelf)||function uE(){return"undefined"!=typeof $localize&&$localize.locale||U_}()}),dE=new Pr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hE{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let fE=(()=>{class t{compileModuleSync(s){return new _y(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),m=Aa(cn(s).declarations).reduce((E,T)=>{const N=Ve(T);return N&&E.push(new my(N)),E},[]);return new hE(c,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const gE=(()=>Promise.resolve(0))();function ky(t){"undefined"==typeof Zone?gE.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class zc{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tu(!1),this.onMicrotaskEmpty=new Tu(!1),this.onStable=new Tu(!1),this.onError=new Tu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!c&&s,p.shouldCoalesceRunChangeDetection=c,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function mE(){let t=En.requestAnimationFrame,i=En.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&i){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function vE(t){const i=()=>{!function yE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(En,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Py(t),t.isCheckStableRunning=!0,Fy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Py(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,p,m,E,T)=>{try{return Mb(t),s.invokeTask(p,m,E,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&i(),Ob(t)}},onInvoke:(s,c,p,m,E,T,N)=>{try{return Mb(t),s.invoke(p,m,E,T,N)}finally{t.shouldCoalesceRunChangeDetection&&i(),Ob(t)}},onHasTask:(s,c,p,m)=>{s.hasTask(p,m),c===p&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,Py(t),Fy(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,c,p,m)=>(s.handleError(p,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,c){return this._inner.run(i,s,c)}runTask(i,s,c,p){const m=this._inner,E=m.scheduleEventTask("NgZoneEvent: "+p,i,_E,J_,J_);try{return m.runTask(E,s,c)}finally{m.cancelTask(E)}}runGuarded(i,s,c){return this._inner.runGuarded(i,s,c)}runOutsideAngular(i){return this._outer.run(i)}}const _E={};function Fy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Py(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Mb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ob(t){t._nesting--,Fy(t)}class bE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tu,this.onMicrotaskEmpty=new Tu,this.onStable=new Tu,this.onError=new Tu}run(i,s,c){return i.apply(s,c)}runGuarded(i,s,c){return i.apply(s,c)}runOutsideAngular(i){return i()}runTask(i,s,c,p){return i.apply(s,c)}}let Rb=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zc.assertNotInAngularZone(),ky(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ky(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,p){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==m),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:p})}whenStable(s,c,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,c,p){return[]}}return t.\u0275fac=function(s){return new(s||t)(fn(zc))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})(),kb=(()=>{class t{constructor(){this._applications=new Map,Ny.addToWindow(this)}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return Ny.findTestabilityInTree(this,s,c)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();class wE{addToWindow(i){}findTestabilityInTree(i,s,c){return null}}function EE(t){Ny=t}let Wc,Ny=new wE;const Fb=new Pr("AllowMultipleToken");class DE{constructor(i,s){this.name=i,this.token=s}}function Pb(t,i,s=[]){const c=`Platform: ${i}`,p=new Pr(c);return(m=[])=>{let E=Nb();if(!E||E.injector.get(Fb,!1))if(t)t(s.concat(m).concat({provide:p,useValue:!0}));else{const T=s.concat(m).concat({provide:p,useValue:!0},{provide:fu,useValue:"platform"});!function AE(t){if(Wc&&!Wc.destroyed&&!Wc.injector.get(Fb,!1))throw new nt(400,"");Wc=t.get(Lb);const i=t.get(Ab,null);i&&i.forEach(s=>s())}(Oa.create({providers:T,name:c}))}return function IE(t){const i=Nb();if(!i)throw new nt(401,"");return i}()}}function Nb(){return Wc&&!Wc.destroyed?Wc:null}let Lb=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const T=function SE(t,i){let s;return s="noop"===t?new bE:("zone.js"===t?void 0:t)||new zc({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),N=[{provide:zc,useValue:T}];return T.run(()=>{const Z=Oa.create({providers:N,parent:this.injector,name:s.moduleType.name}),se=s.create(Z),ke=se.injector.get(Ld,null);if(!ke)throw new nt(402,"");return T.runOutsideAngular(()=>{const st=T.onError.subscribe({next:Ct=>{ke.handleError(Ct)}});se.onDestroy(()=>{By(this._modules,se),st.unsubscribe()})}),function TE(t,i,s){try{const c=s();return xh(c)?c.catch(p=>{throw i.runOutsideAngular(()=>t.handleError(p)),p}):c}catch(c){throw i.runOutsideAngular(()=>t.handleError(c)),c}}(ke,T,()=>{const st=se.injector.get(My);return st.runInitializers(),st.donePromise.then(()=>(function r0(t){Ut(t,"Expected localeId to be defined"),"string"==typeof t&&(av=t.toLowerCase().replace(/_/g,"-"))}(se.injector.get(Ry,U_)||U_),this._moduleDoBootstrap(se),se))})})}bootstrapModule(s,c=[]){const p=Bb({},c);return function CE(t,i,s){const c=new _y(s);return Promise.resolve(c)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(s){const c=s.injector.get(Ly);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(p=>c.bootstrap(p));else{if(!s.instance.ngDoBootstrap)throw new nt(403,"");s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(fn(Oa))},t.\u0275prov=It({token:t,factory:t.\u0275fac}),t})();function Bb(t,i){return Array.isArray(i)?i.reduce(Bb,t):Object.assign(Object.assign({},t),i)}let Ly=(()=>{class t{constructor(s,c,p,m,E){this._zone=s,this._injector=c,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new G.y(Z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Z.next(this._stable),Z.complete()})}),N=new G.y(Z=>{let se;this._zone.runOutsideAngular(()=>{se=this._zone.onStable.subscribe(()=>{zc.assertNotInAngularZone(),ky(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Z.next(!0))})})});const ke=this._zone.onUnstable.subscribe(()=>{zc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Z.next(!1)}))});return()=>{se.unsubscribe(),ke.unsubscribe()}});this.isStable=(0,X.T)(T,N.pipe((0,be.B)()))}bootstrap(s,c){if(!this._initStatus.done)throw new nt(405,"");let p;p=s instanceof kv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(p.componentType);const m=function xE(t){return t.isBoundToModule}(p)?void 0:this._injector.get(zg),T=p.create(Oa.NULL,[],c||p.selector,m),N=T.location.nativeElement,Z=T.injector.get(Rb,null),se=Z&&T.injector.get(kb);return Z&&se&&se.registerApplication(N,Z),T.onDestroy(()=>{this.detachView(T.hostView),By(this.components,T),se&&se.unregisterApplication(N)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new nt(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;By(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Sb,[]).concat(this._bootstrapListeners).forEach(p=>p(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(fn(zc),fn(Oa),fn(Ld),fn(z_),fn(My))},t.\u0275prov=It({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function By(t,i){const s=t.indexOf(i);s>-1&&t.splice(s,1)}let Ub=!0,Hb=!1;function OE(){return Hb=!0,Ub}function RE(){if(Hb)throw new Error("Cannot enable prod mode after platform setup.");Ub=!1}let kE=(()=>{class t{}return t.__NG_ELEMENT_ID__=FE,t})();function FE(t){return function PE(t,i,s){if(Pi(t)&&!s){const c=yi(t.index,i);return new a_(c,c)}return 47&t.type?new a_(i[16],i):null}(lr(),Kt(),16==(16&t))}class zb{constructor(){}supports(i){return _u(i)}create(i){return new HE(i)}}const UE=(t,i)=>i;class HE{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||UE}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,c=this._removalsHead,p=0,m=null;for(;s||c;){const E=!c||s&&s.currentIndex<qb(c,p,m)?s:c,T=qb(E,p,m),N=E.currentIndex;if(E===c)p--,c=c._nextRemoved;else if(s=s._next,null==E.previousIndex)p++;else{m||(m=[]);const Z=T-p,se=N-p;if(Z!=se){for(let st=0;st<Z;st++){const Ct=st<m.length?m[st]:m[st]=0,$t=Ct+st;se<=$t&&$t<Z&&(m[st]=Ct+1)}m[E.previousIndex]=se-Z}}T!==N&&i(E,T,N)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!_u(i))throw new nt(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let p,m,E,s=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let T=0;T<this.length;T++)m=i[T],E=this._trackByFn(T,m),null!==s&&Object.is(s.trackById,E)?(c&&(s=this._verifyReinsertion(s,m,E,T)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,E,T),c=!0),s=s._next}else p=0,function zf(t,i){if(Array.isArray(t))for(let s=0;s<t.length;s++)i(t[s]);else{const s=t[gc()]();let c;for(;!(c=s.next()).done;)i(c.value)}}(i,T=>{E=this._trackByFn(p,T),null!==s&&Object.is(s.trackById,E)?(c&&(s=this._verifyReinsertion(s,T,E,p)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,E,p),c=!0),s=s._next,p++}),this.length=p;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,c,p){let m;return null===i?m=this._itTail:(m=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,m,p)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,p))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,m,p)):i=this._addAfter(new jE(s,c),m,p),i}_verifyReinsertion(i,s,c,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?i=this._reinsertAfter(m,i._prev,p):i.currentIndex!=p&&(i.currentIndex=p,this._addToMoves(i,p)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const p=i._prevRemoved,m=i._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(i,s,c),this._addToMoves(i,c),i}_moveAfter(i,s,c){return this._unlink(i),this._insertAfter(i,s,c),this._addToMoves(i,c),i}_addAfter(i,s,c){return this._insertAfter(i,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,c){const p=null===s?this._itHead:s._next;return i._next=p,i._prev=s,null===p?this._itTail=i:p._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Wb),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,c=i._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wb),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class jE{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GE{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const s=i._prevDup,c=i._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class Wb{constructor(){this.map=new Map}put(i){const s=i.trackById;let c=this.map.get(s);c||(c=new GE,this.map.set(s,c)),c.add(i)}get(i,s){const p=this.map.get(i);return p?p.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qb(t,i,s){const c=t.previousIndex;if(null===c)return c;let p=0;return s&&c<s.length&&(p=s[c]),c+i+p}class Kb{constructor(){}supports(i){return i instanceof Map||cg(i)}create(){return new $E}}class $E{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||cg(i)))throw new nt(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,p)=>{if(s&&s.key===p)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(p,c);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const c=i._prev;return s._next=i,s._prev=c,i._prev=s,c&&(c._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const p=this._records.get(i);this._maybeAddToChanges(p,s);const m=p._prev,E=p._next;return m&&(m._next=E),E&&(E._prev=m),p._next=null,p._prev=null,p}const c=new zE(i);return this._records.set(i,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(c=>s(i[c],c))}}class zE{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Zb(){return new Gy([new zb])}let Gy=(()=>{class t{constructor(s){this.factories=s}static create(s,c){if(null!=c){const p=c.factories.slice();s=s.concat(p)}return new t(s)}static extend(s){return{provide:t,useFactory:c=>t.create(s,c||Zb()),deps:[[t,new ko,new Ro]]}}find(s){const c=this.factories.find(p=>p.supports(s));if(null!=c)return c;throw new nt(901,"")}}return t.\u0275prov=It({token:t,providedIn:"root",factory:Zb}),t})();function Yb(){return new $y([new Kb])}let $y=(()=>{class t{constructor(s){this.factories=s}static create(s,c){if(c){const p=c.factories.slice();s=s.concat(p)}return new t(s)}static extend(s){return{provide:t,useFactory:c=>t.create(s,c||Yb()),deps:[[t,new ko,new Ro]]}}find(s){const c=this.factories.find(m=>m.supports(s));if(c)return c;throw new nt(901,"")}}return t.\u0275prov=It({token:t,providedIn:"root",factory:Yb}),t})();const KE=Pb(null,"core",[{provide:Ib,useValue:"unknown"},{provide:Lb,deps:[Oa]},{provide:kb,deps:[]},{provide:Tb,deps:[]}]);let ZE=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(fn(Ly))},t.\u0275mod=_e({type:t}),t.\u0275inj=it({}),t})()},3075:(Jt,at,O)=>{O.d(at,{Fj:()=>Ze,NI:()=>si,u:()=>Qs,cw:()=>Ur,sg:()=>gs,u5:()=>yi,JU:()=>me,a5:()=>Kn,JJ:()=>ln,JL:()=>Vn,F:()=>Gi,On:()=>Pi,wV:()=>$i,UX:()=>fi,Q7:()=>us,kI:()=>Pe,_Y:()=>_i});var g=O(5e3),l=O(9808),G=O(8996),X=O(4128),be=O(4004);let Oe=(()=>{class q{constructor(F,he){this._renderer=F,this._elementRef=he,this.onChange=Ft=>{},this.onTouched=()=>{}}setProperty(F,he){this._renderer.setProperty(this._elementRef.nativeElement,F,he)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}}return q.\u0275fac=function(F){return new(F||q)(g.Y36(g.Qsj),g.Y36(g.SBq))},q.\u0275dir=g.lG2({type:q}),q})(),Be=(()=>{class q extends Oe{}return q.\u0275fac=function(){let H;return function(he){return(H||(H=g.n5z(q)))(he||q)}}(),q.\u0275dir=g.lG2({type:q,features:[g.qOj]}),q})();const me=new g.OlP("NgValueAccessor"),ce={provide:me,useExisting:(0,g.Gpc)(()=>Ze),multi:!0},Xe=new g.OlP("CompositionEventMode");let Ze=(()=>{class q extends Oe{constructor(F,he,Ft){super(F,he),this._compositionMode=Ft,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Se(){const q=(0,l.q)()?(0,l.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(F){this.setProperty("value",null==F?"":F)}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}}return q.\u0275fac=function(F){return new(F||q)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Xe,8))},q.\u0275dir=g.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(F,he){1&F&&g.NdJ("input",function(In){return he._handleInput(In.target.value)})("blur",function(){return he.onTouched()})("compositionstart",function(){return he._compositionStart()})("compositionend",function(In){return he._compositionEnd(In.target.value)})},features:[g._Bn([ce]),g.qOj]}),q})();function nt(q){return null==q||0===q.length}function pt(q){return null!=q&&"number"==typeof q.length}const ze=new g.OlP("NgValidators"),Le=new g.OlP("NgAsyncValidators"),He=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pe{static min(H){return function ve(q){return H=>{if(nt(H.value)||nt(q))return null;const F=parseFloat(H.value);return!isNaN(F)&&F<q?{min:{min:q,actual:H.value}}:null}}(H)}static max(H){return function le(q){return H=>{if(nt(H.value)||nt(q))return null;const F=parseFloat(H.value);return!isNaN(F)&&F>q?{max:{max:q,actual:H.value}}:null}}(H)}static required(H){return Ee(H)}static requiredTrue(H){return function lt(q){return!0===q.value?null:{required:!0}}(H)}static email(H){return function Ue(q){return nt(q.value)||He.test(q.value)?null:{email:!0}}(H)}static minLength(H){return function Ot(q){return H=>nt(H.value)||!pt(H.value)?null:H.value.length<q?{minlength:{requiredLength:q,actualLength:H.value.length}}:null}(H)}static maxLength(H){return function We(q){return H=>pt(H.value)&&H.value.length>q?{maxlength:{requiredLength:q,actualLength:H.value.length}}:null}(H)}static pattern(H){return function mt(q){if(!q)return gt;let H,F;return"string"==typeof q?(F="","^"!==q.charAt(0)&&(F+="^"),F+=q,"$"!==q.charAt(q.length-1)&&(F+="$"),H=new RegExp(F)):(F=q.toString(),H=q),he=>{if(nt(he.value))return null;const Ft=he.value;return H.test(Ft)?null:{pattern:{requiredPattern:F,actualValue:Ft}}}}(H)}static nullValidator(H){return null}static compose(H){return Ut(H)}static composeAsync(H){return un(H)}}function Ee(q){return nt(q.value)?{required:!0}:null}function gt(q){return null}function Et(q){return null!=q}function Dt(q){const H=(0,g.QGY)(q)?(0,G.D)(q):q;return(0,g.CqO)(H),H}function ct(q){let H={};return q.forEach(F=>{H=null!=F?Object.assign(Object.assign({},H),F):H}),0===Object.keys(H).length?null:H}function mn(q,H){return H.map(F=>F(q))}function An(q){return q.map(H=>function en(q){return!q.validate}(H)?H:F=>H.validate(F))}function Ut(q){if(!q)return null;const H=q.filter(Et);return 0==H.length?null:function(F){return ct(mn(F,H))}}function jt(q){return null!=q?Ut(An(q)):null}function un(q){if(!q)return null;const H=q.filter(Et);return 0==H.length?null:function(F){const he=mn(F,H).map(Dt);return(0,X.D)(he).pipe((0,be.U)(ct))}}function dn(q){return null!=q?un(An(q)):null}function xt(q,H){return null===q?[H]:Array.isArray(q)?[...q,H]:[q,H]}function It(q){return q._rawValidators}function Ke(q){return q._rawAsyncValidators}function it(q){return q?Array.isArray(q)?q:[q]:[]}function Vt(q,H){return Array.isArray(q)?q.includes(H):q===H}function bn(q,H){const F=it(H);return it(q).forEach(Ft=>{Vt(F,Ft)||F.push(Ft)}),F}function Rn(q,H){return it(H).filter(F=>!Vt(q,F))}class $n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(H){this._rawValidators=H||[],this._composedValidatorFn=jt(this._rawValidators)}_setAsyncValidators(H){this._rawAsyncValidators=H||[],this._composedAsyncValidatorFn=dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(H){this._onDestroyCallbacks.push(H)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(H=>H()),this._onDestroyCallbacks=[]}reset(H){this.control&&this.control.reset(H)}hasError(H,F){return!!this.control&&this.control.hasError(H,F)}getError(H,F){return this.control?this.control.getError(H,F):null}}class Kn extends $n{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wn extends $n{get formDirective(){return null}get path(){return null}}class Zn{constructor(H){this._cd=H}is(H){var F,he,Ft;return"submitted"===H?!!(null===(F=this._cd)||void 0===F?void 0:F.submitted):!!(null===(Ft=null===(he=this._cd)||void 0===he?void 0:he.control)||void 0===Ft?void 0:Ft[H])}}let ln=(()=>{class q extends Zn{constructor(F){super(F)}}return q.\u0275fac=function(F){return new(F||q)(g.Y36(Kn,2))},q.\u0275dir=g.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(F,he){2&F&&g.ekj("ng-untouched",he.is("untouched"))("ng-touched",he.is("touched"))("ng-pristine",he.is("pristine"))("ng-dirty",he.is("dirty"))("ng-valid",he.is("valid"))("ng-invalid",he.is("invalid"))("ng-pending",he.is("pending"))},features:[g.qOj]}),q})(),Vn=(()=>{class q extends Zn{constructor(F){super(F)}}return q.\u0275fac=function(F){return new(F||q)(g.Y36(wn,10))},q.\u0275dir=g.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(F,he){2&F&&g.ekj("ng-untouched",he.is("untouched"))("ng-touched",he.is("touched"))("ng-pristine",he.is("pristine"))("ng-dirty",he.is("dirty"))("ng-valid",he.is("valid"))("ng-invalid",he.is("invalid"))("ng-pending",he.is("pending"))("ng-submitted",he.is("submitted"))},features:[g.qOj]}),q})();function Gn(q,H){return[...H.path,q]}function sn(q,H){U(q,H),H.valueAccessor.writeValue(q.value),function j(q,H){H.valueAccessor.registerOnChange(F=>{q._pendingValue=F,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&rt(q,H)})}(q,H),function Ce(q,H){const F=(he,Ft)=>{H.valueAccessor.writeValue(he),Ft&&H.viewToModelUpdate(he)};q.registerOnChange(F),H._registerOnDestroy(()=>{q._unregisterOnChange(F)})}(q,H),function ge(q,H){H.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&rt(q,H),"submit"!==q.updateOn&&q.markAsTouched()})}(q,H),function pe(q,H){if(H.valueAccessor.setDisabledState){const F=he=>{H.valueAccessor.setDisabledState(he)};q.registerOnDisabledChange(F),H._registerOnDestroy(()=>{q._unregisterOnDisabledChange(F)})}}(q,H)}function gi(q,H,F=!0){const he=()=>{};H.valueAccessor&&(H.valueAccessor.registerOnChange(he),H.valueAccessor.registerOnTouched(he)),x(q,H),q&&(H._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function xn(q,H){q.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(H)})}function U(q,H){const F=It(q);null!==H.validator?q.setValidators(xt(F,H.validator)):"function"==typeof F&&q.setValidators([F]);const he=Ke(q);null!==H.asyncValidator?q.setAsyncValidators(xt(he,H.asyncValidator)):"function"==typeof he&&q.setAsyncValidators([he]);const Ft=()=>q.updateValueAndValidity();xn(H._rawValidators,Ft),xn(H._rawAsyncValidators,Ft)}function x(q,H){let F=!1;if(null!==q){if(null!==H.validator){const Ft=It(q);if(Array.isArray(Ft)&&Ft.length>0){const In=Ft.filter(yr=>yr!==H.validator);In.length!==Ft.length&&(F=!0,q.setValidators(In))}}if(null!==H.asyncValidator){const Ft=Ke(q);if(Array.isArray(Ft)&&Ft.length>0){const In=Ft.filter(yr=>yr!==H.asyncValidator);In.length!==Ft.length&&(F=!0,q.setAsyncValidators(In))}}}const he=()=>{};return xn(H._rawValidators,he),xn(H._rawAsyncValidators,he),F}function rt(q,H){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),H.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function Ie(q,H){U(q,H)}function de(q,H){if(!q.hasOwnProperty("model"))return!1;const F=q.model;return!!F.isFirstChange()||!Object.is(H,F.currentValue)}function Ve(q,H){q._syncPendingControls(),H.forEach(F=>{const he=F.control;"submit"===he.updateOn&&he._pendingChange&&(F.viewToModelUpdate(he._pendingValue),he._pendingChange=!1)})}function wt(q,H){if(!H)return null;let F,he,Ft;return Array.isArray(H),H.forEach(In=>{In.constructor===Ze?F=In:function ye(q){return Object.getPrototypeOf(q.constructor)===Be}(In)?he=In:Ft=In}),Ft||he||F||null}function Nt(q,H){const F=q.indexOf(H);F>-1&&q.splice(F,1)}const ri="VALID",Hn="INVALID",ti="PENDING",rr="DISABLED";function Ar(q){return(Oi(q)?q.validators:q)||null}function mi(q){return Array.isArray(q)?jt(q):q||null}function hn(q,H){return(Oi(H)?H.asyncValidators:q)||null}function Yn(q){return Array.isArray(q)?dn(q):q||null}function Oi(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}const Mr=q=>q instanceof si,Er=q=>q instanceof Ur;function Qi(q){return Mr(q)?q.value:q.getRawValue()}function ki(q,H){const F=Er(q),he=q.controls;if(!(F?Object.keys(he):he).length)throw new g.vHH(1e3,"");if(!he[H])throw new g.vHH(1001,"")}function Ui(q,H){Er(q),q._forEachChild((he,Ft)=>{if(void 0===H[Ft])throw new g.vHH(1002,"")})}class Yr{constructor(H,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=H,this._rawAsyncValidators=F,this._composedValidatorFn=mi(this._rawValidators),this._composedAsyncValidatorFn=Yn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(H){this._rawValidators=this._composedValidatorFn=H}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(H){this._rawAsyncValidators=this._composedAsyncValidatorFn=H}get parent(){return this._parent}get valid(){return this.status===ri}get invalid(){return this.status===Hn}get pending(){return this.status==ti}get disabled(){return this.status===rr}get enabled(){return this.status!==rr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(H){this._rawValidators=H,this._composedValidatorFn=mi(H)}setAsyncValidators(H){this._rawAsyncValidators=H,this._composedAsyncValidatorFn=Yn(H)}addValidators(H){this.setValidators(bn(H,this._rawValidators))}addAsyncValidators(H){this.setAsyncValidators(bn(H,this._rawAsyncValidators))}removeValidators(H){this.setValidators(Rn(H,this._rawValidators))}removeAsyncValidators(H){this.setAsyncValidators(Rn(H,this._rawAsyncValidators))}hasValidator(H){return Vt(this._rawValidators,H)}hasAsyncValidator(H){return Vt(this._rawAsyncValidators,H)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(H={}){this.touched=!0,this._parent&&!H.onlySelf&&this._parent.markAsTouched(H)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(H=>H.markAllAsTouched())}markAsUntouched(H={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}markAsDirty(H={}){this.pristine=!1,this._parent&&!H.onlySelf&&this._parent.markAsDirty(H)}markAsPristine(H={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}markAsPending(H={}){this.status=ti,!1!==H.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!H.onlySelf&&this._parent.markAsPending(H)}disable(H={}){const F=this._parentMarkedDirty(H.onlySelf);this.status=rr,this.errors=null,this._forEachChild(he=>{he.disable(Object.assign(Object.assign({},H),{onlySelf:!0}))}),this._updateValue(),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},H),{skipPristineCheck:F})),this._onDisabledChange.forEach(he=>he(!0))}enable(H={}){const F=this._parentMarkedDirty(H.onlySelf);this.status=ri,this._forEachChild(he=>{he.enable(Object.assign(Object.assign({},H),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},H),{skipPristineCheck:F})),this._onDisabledChange.forEach(he=>he(!1))}_updateAncestors(H){this._parent&&!H.onlySelf&&(this._parent.updateValueAndValidity(H),H.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(H){this._parent=H}updateValueAndValidity(H={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ri||this.status===ti)&&this._runAsyncValidator(H.emitEvent)),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!H.onlySelf&&this._parent.updateValueAndValidity(H)}_updateTreeValidity(H={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(H)),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rr:ri}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(H){if(this.asyncValidator){this.status=ti,this._hasOwnPendingAsyncValidator=!0;const F=Dt(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(he=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(he,{emitEvent:H})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(H,F={}){this.errors=H,this._updateControlsErrors(!1!==F.emitEvent)}get(H){return function Ai(q,H,F){if(null==H||(Array.isArray(H)||(H=H.split(F)),Array.isArray(H)&&0===H.length))return null;let he=q;return H.forEach(Ft=>{he=Er(he)?he.controls.hasOwnProperty(Ft)?he.controls[Ft]:null:(q=>q instanceof Gr)(he)&&he.at(Ft)||null}),he}(this,H,".")}getError(H,F){const he=F?this.get(F):this;return he&&he.errors?he.errors[H]:null}hasError(H,F){return!!this.getError(H,F)}get root(){let H=this;for(;H._parent;)H=H._parent;return H}_updateControlsErrors(H){this.status=this._calculateStatus(),H&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(H)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?rr:this.errors?Hn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ti)?ti:this._anyControlsHaveStatus(Hn)?Hn:ri}_anyControlsHaveStatus(H){return this._anyControls(F=>F.status===H)}_anyControlsDirty(){return this._anyControls(H=>H.dirty)}_anyControlsTouched(){return this._anyControls(H=>H.touched)}_updatePristine(H={}){this.pristine=!this._anyControlsDirty(),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}_updateTouched(H={}){this.touched=this._anyControlsTouched(),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}_isBoxedValue(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}_registerOnCollectionChange(H){this._onCollectionChange=H}_setUpdateStrategy(H){Oi(H)&&null!=H.updateOn&&(this._updateOn=H.updateOn)}_parentMarkedDirty(H){return!H&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class si extends Yr{constructor(H=null,F,he){super(Ar(F),hn(he,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(H),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Oi(F)&&F.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(H)?H.value:H)}setValue(H,F={}){this.value=this._pendingValue=H,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(he=>he(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(H,F={}){this.setValue(H,F)}reset(H=this.defaultValue,F={}){this._applyFormState(H),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(H){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(H){this._onChange.push(H)}_unregisterOnChange(H){Nt(this._onChange,H)}registerOnDisabledChange(H){this._onDisabledChange.push(H)}_unregisterOnDisabledChange(H){Nt(this._onDisabledChange,H)}_forEachChild(H){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(H){this._isBoxedValue(H)?(this.value=this._pendingValue=H.value,H.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=H}}class Ur extends Yr{constructor(H,F,he){super(Ar(F),hn(he,F)),this.controls=H,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(H,F){return this.controls[H]?this.controls[H]:(this.controls[H]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(H,F,he={}){this.registerControl(H,F),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}removeControl(H,F={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(H,F,he={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],F&&this.registerControl(H,F),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}contains(H){return this.controls.hasOwnProperty(H)&&this.controls[H].enabled}setValue(H,F={}){Ui(this,H),Object.keys(H).forEach(he=>{ki(this,he),this.controls[he].setValue(H[he],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(H,F={}){null!=H&&(Object.keys(H).forEach(he=>{this.controls[he]&&this.controls[he].patchValue(H[he],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(H={},F={}){this._forEachChild((he,Ft)=>{he.reset(H[Ft],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(H,F,he)=>(H[he]=Qi(F),H))}_syncPendingControls(){let H=this._reduceChildren(!1,(F,he)=>!!he._syncPendingControls()||F);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_forEachChild(H){Object.keys(this.controls).forEach(F=>{const he=this.controls[F];he&&H(he,F)})}_setUpControls(){this._forEachChild(H=>{H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(H){for(const F of Object.keys(this.controls)){const he=this.controls[F];if(this.contains(F)&&H(he))return!0}return!1}_reduceValue(){return this._reduceChildren({},(H,F,he)=>((F.enabled||this.disabled)&&(H[he]=F.value),H))}_reduceChildren(H,F){let he=H;return this._forEachChild((Ft,In)=>{he=F(he,Ft,In)}),he}_allControlsDisabled(){for(const H of Object.keys(this.controls))if(this.controls[H].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Gr extends Yr{constructor(H,F,he){super(Ar(F),hn(he,F)),this.controls=H,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(H){return this.controls[H]}push(H,F={}){this.controls.push(H),this._registerControl(H),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(H,F,he={}){this.controls.splice(H,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:he.emitEvent})}removeAt(H,F={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(H,F,he={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),F&&(this.controls.splice(H,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(H,F={}){Ui(this,H),H.forEach((he,Ft)=>{ki(this,Ft),this.at(Ft).setValue(he,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(H,F={}){null!=H&&(H.forEach((he,Ft)=>{this.at(Ft)&&this.at(Ft).patchValue(he,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(H=[],F={}){this._forEachChild((he,Ft)=>{he.reset(H[Ft],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(H=>Qi(H))}clear(H={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:H.emitEvent}))}_syncPendingControls(){let H=this.controls.reduce((F,he)=>!!he._syncPendingControls()||F,!1);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_forEachChild(H){this.controls.forEach((F,he)=>{H(F,he)})}_updateValue(){this.value=this.controls.filter(H=>H.enabled||this.disabled).map(H=>H.value)}_anyControls(H){return this.controls.some(F=>F.enabled&&H(F))}_setUpControls(){this._forEachChild(H=>this._registerControl(H))}_allControlsDisabled(){for(const H of this.controls)if(H.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(H){H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)}}const fs={provide:wn,useExisting:(0,g.Gpc)(()=>Gi)},Ji=(()=>Promise.resolve(null))();let Gi=(()=>{class q extends wn{constructor(F,he){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new Ur({},jt(F),dn(he))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){Ji.then(()=>{const he=this._findContainer(F.path);F.control=he.registerControl(F.name,F.control),sn(F.control,F),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){Ji.then(()=>{const he=this._findContainer(F.path);he&&he.removeControl(F.name),this._directives.delete(F)})}addFormGroup(F){Ji.then(()=>{const he=this._findContainer(F.path),Ft=new Ur({});Ie(Ft,F),he.registerControl(F.name,Ft),Ft.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){Ji.then(()=>{const he=this._findContainer(F.path);he&&he.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,he){Ji.then(()=>{this.form.get(F.path).setValue(he)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,Ve(this.form,this._directives),this.ngSubmit.emit(F),!1}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}}return q.\u0275fac=function(F){return new(F||q)(g.Y36(ze,10),g.Y36(Le,10))},q.\u0275dir=g.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(F,he){1&F&&g.NdJ("submit",function(In){return he.onSubmit(In)})("reset",function(){return he.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([fs]),g.qOj]}),q})();const Cn={provide:Kn,useExisting:(0,g.Gpc)(()=>Pi)},Ii=(()=>Promise.resolve(null))();let Pi=(()=>{class q extends Kn{constructor(F,he,Ft,In,yr){super(),this._changeDetectorRef=yr,this.control=new si,this._registered=!1,this.update=new g.vpe,this._parent=F,this._setValidators(he),this._setAsyncValidators(Ft),this.valueAccessor=wt(0,In)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const he=F.name.previousValue;this.formDirective.removeControl({name:he,path:this._getPath(he)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),de(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){Ii.then(()=>{var he;this.control.setValue(F,{emitViewToModelChange:!1}),null===(he=this._changeDetectorRef)||void 0===he||he.markForCheck()})}_updateDisabled(F){const he=F.isDisabled.currentValue,Ft=""===he||he&&"false"!==he;Ii.then(()=>{var In;Ft&&!this.control.disabled?this.control.disable():!Ft&&this.control.disabled&&this.control.enable(),null===(In=this._changeDetectorRef)||void 0===In||In.markForCheck()})}_getPath(F){return this._parent?Gn(F,this._parent):[F]}}return q.\u0275fac=function(F){return new(F||q)(g.Y36(wn,9),g.Y36(ze,10),g.Y36(Le,10),g.Y36(me,10),g.Y36(g.sBO,8))},q.\u0275dir=g.lG2({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Cn]),g.qOj,g.TTD]}),q})(),_i=(()=>{class q{}return q.\u0275fac=function(F){return new(F||q)},q.\u0275dir=g.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),q})();const mr={provide:me,useExisting:(0,g.Gpc)(()=>$i),multi:!0};let $i=(()=>{class q extends Be{writeValue(F){this.setProperty("value",null==F?"":F)}registerOnChange(F){this.onChange=he=>{F(""==he?null:parseFloat(he))}}}return q.\u0275fac=function(){let H;return function(he){return(H||(H=g.n5z(q)))(he||q)}}(),q.\u0275dir=g.lG2({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(F,he){1&F&&g.NdJ("input",function(In){return he.onChange(In.target.value)})("blur",function(){return he.onTouched()})},features:[g._Bn([mr]),g.qOj]}),q})(),Nr=(()=>{class q{}return q.\u0275fac=function(F){return new(F||q)},q.\u0275mod=g.oAB({type:q}),q.\u0275inj=g.cJS({}),q})();const Do=new g.OlP("NgModelWithFormControlWarning"),Ao={provide:wn,useExisting:(0,g.Gpc)(()=>gs)};let gs=(()=>{class q extends wn{constructor(F,he){super(),this.validators=F,this.asyncValidators=he,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(F),this._setAsyncValidators(he)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(x(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const he=this.form.get(F.path);return sn(he,F),he.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),he}getControl(F){return this.form.get(F.path)}removeControl(F){gi(F.control||null,F,!1),Nt(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,he){this.form.get(F.path).setValue(he)}onSubmit(F){return this.submitted=!0,Ve(this.form,this.directives),this.ngSubmit.emit(F),!1}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const he=F.control,Ft=this.form.get(F.path);he!==Ft&&(gi(he||null,F),Mr(Ft)&&(sn(Ft,F),F.control=Ft))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const he=this.form.get(F.path);Ie(he,F),he.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const he=this.form.get(F.path);he&&function je(q,H){return x(q,H)}(he,F)&&he.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){U(this.form,this),this._oldForm&&x(this._oldForm,this)}_checkFormPresent(){}}return q.\u0275fac=function(F){return new(F||q)(g.Y36(ze,10),g.Y36(Le,10))},q.\u0275dir=g.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(F,he){1&F&&g.NdJ("submit",function(In){return he.onSubmit(In)})("reset",function(){return he.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Ao]),g.qOj,g.TTD]}),q})();const _s={provide:Kn,useExisting:(0,g.Gpc)(()=>Qs)};let Qs=(()=>{class q extends Kn{constructor(F,he,Ft,In,yr){super(),this._ngModelWarningConfig=yr,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(he),this._setAsyncValidators(Ft),this.valueAccessor=wt(0,In)}set isDisabled(F){}ngOnChanges(F){this._added||this._setUpControl(),de(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return Gn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return q._ngModelWarningSentOnce=!1,q.\u0275fac=function(F){return new(F||q)(g.Y36(wn,13),g.Y36(ze,10),g.Y36(Le,10),g.Y36(me,10),g.Y36(Do,8))},q.\u0275dir=g.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([_s]),g.qOj,g.TTD]}),q})(),Li=(()=>{class q{constructor(){this._validator=gt}ngOnChanges(F){if(this.inputName in F){const he=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(he),this._validator=this._enabled?this.createValidator(he):gt,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}}return q.\u0275fac=function(F){return new(F||q)},q.\u0275dir=g.lG2({type:q,features:[g.TTD]}),q})();const Bs={provide:ze,useExisting:(0,g.Gpc)(()=>us),multi:!0};let us=(()=>{class q extends Li{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=F=>function Xs(q){return null!=q&&!1!==q&&"false"!=`${q}`}(F),this.createValidator=F=>Ee}enabled(F){return F}}return q.\u0275fac=function(){let H;return function(he){return(H||(H=g.n5z(q)))(he||q)}}(),q.\u0275dir=g.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(F,he){2&F&&g.uIk("required",he._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([Bs]),g.qOj]}),q})(),Si=(()=>{class q{}return q.\u0275fac=function(F){return new(F||q)},q.\u0275mod=g.oAB({type:q}),q.\u0275inj=g.cJS({imports:[[Nr]]}),q})(),yi=(()=>{class q{}return q.\u0275fac=function(F){return new(F||q)},q.\u0275mod=g.oAB({type:q}),q.\u0275inj=g.cJS({imports:[Si]}),q})(),fi=(()=>{class q{static withConfig(F){return{ngModule:q,providers:[{provide:Do,useValue:F.warnOnNgModelWithFormControl}]}}}return q.\u0275fac=function(F){return new(F||q)},q.\u0275mod=g.oAB({type:q}),q.\u0275inj=g.cJS({imports:[Si]}),q})()},9832:(Jt,at,O)=>{O.d(at,{Yi:()=>pt,A9:()=>Ze,vV:()=>ze});var g=O(3191),l=O(449),G=O(5e3),X=O(3075),be=O(508),Oe=O(8255);const Be=["button"],me=["*"],Fe=new G.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),te=new G.OlP("MatButtonToggleGroup"),ce={provide:X.JU,useExisting:(0,G.Gpc)(()=>Ze),multi:!0};let Se=0;class Xe{constructor(He,Pe){this.source=He,this.value=Pe}}let Ze=(()=>{class Le{constructor(Pe,ve){this._changeDetector=Pe,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+Se++,this.valueChange=new G.vpe,this.change=new G.vpe,this.appearance=ve&&ve.appearance?ve.appearance:"standard"}get name(){return this._name}set name(Pe){this._name=Pe,this._buttonToggles&&this._buttonToggles.forEach(ve=>{ve.name=this._name,ve._markForCheck()})}get vertical(){return this._vertical}set vertical(Pe){this._vertical=(0,g.Ig)(Pe)}get value(){const Pe=this._selectionModel?this._selectionModel.selected:[];return this.multiple?Pe.map(ve=>ve.value):Pe[0]?Pe[0].value:void 0}set value(Pe){this._setSelectionByValue(Pe),this.valueChange.emit(this.value)}get selected(){const Pe=this._selectionModel?this._selectionModel.selected:[];return this.multiple?Pe:Pe[0]||null}get multiple(){return this._multiple}set multiple(Pe){this._multiple=(0,g.Ig)(Pe)}get disabled(){return this._disabled}set disabled(Pe){this._disabled=(0,g.Ig)(Pe),this._buttonToggles&&this._buttonToggles.forEach(ve=>ve._markForCheck())}ngOnInit(){this._selectionModel=new l.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(Pe=>Pe.checked))}writeValue(Pe){this.value=Pe,this._changeDetector.markForCheck()}registerOnChange(Pe){this._controlValueAccessorChangeFn=Pe}registerOnTouched(Pe){this._onTouched=Pe}setDisabledState(Pe){this.disabled=Pe}_emitChangeEvent(){const Pe=this.selected,ve=Array.isArray(Pe)?Pe[Pe.length-1]:Pe,le=new Xe(ve,this.value);this._controlValueAccessorChangeFn(le.value),this.change.emit(le)}_syncButtonToggle(Pe,ve,le=!1,Ee=!1){!this.multiple&&this.selected&&!Pe.checked&&(this.selected.checked=!1),this._selectionModel?ve?this._selectionModel.select(Pe):this._selectionModel.deselect(Pe):Ee=!0,Ee?Promise.resolve().then(()=>this._updateModelValue(le)):this._updateModelValue(le)}_isSelected(Pe){return this._selectionModel&&this._selectionModel.isSelected(Pe)}_isPrechecked(Pe){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(ve=>null!=Pe.value&&ve===Pe.value):Pe.value===this._rawValue)}_setSelectionByValue(Pe){this._rawValue=Pe,this._buttonToggles&&(this.multiple&&Pe?(Array.isArray(Pe),this._clearSelection(),Pe.forEach(ve=>this._selectValue(ve))):(this._clearSelection(),this._selectValue(Pe)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(Pe=>Pe.checked=!1)}_selectValue(Pe){const ve=this._buttonToggles.find(le=>null!=le.value&&le.value===Pe);ve&&(ve.checked=!0,this._selectionModel.select(ve))}_updateModelValue(Pe){Pe&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return Le.\u0275fac=function(Pe){return new(Pe||Le)(G.Y36(G.sBO),G.Y36(Fe,8))},Le.\u0275dir=G.lG2({type:Le,selectors:[["mat-button-toggle-group"]],contentQueries:function(Pe,ve,le){if(1&Pe&&G.Suo(le,pt,5),2&Pe){let Ee;G.iGM(Ee=G.CRH())&&(ve._buttonToggles=Ee)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(Pe,ve){2&Pe&&(G.uIk("aria-disabled",ve.disabled),G.ekj("mat-button-toggle-vertical",ve.vertical)("mat-button-toggle-group-appearance-standard","standard"===ve.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[G._Bn([ce,{provide:te,useExisting:Le}])]}),Le})();const nt=(0,be.Kr)(class{});let pt=(()=>{class Le extends nt{constructor(Pe,ve,le,Ee,lt,Ue){super(),this._changeDetectorRef=ve,this._elementRef=le,this._focusMonitor=Ee,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new G.vpe;const Ot=Number(lt);this.tabIndex=Ot||0===Ot?Ot:null,this.buttonToggleGroup=Pe,this.appearance=Ue&&Ue.appearance?Ue.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(Pe){this._appearance=Pe}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(Pe){const ve=(0,g.Ig)(Pe);ve!==this._checked&&(this._checked=ve,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(Pe){this._disabled=(0,g.Ig)(Pe)}ngOnInit(){const Pe=this.buttonToggleGroup;this._isSingleSelector=Pe&&!Pe.multiple,this.id=this.id||"mat-button-toggle-"+Se++,this._isSingleSelector&&(this.name=Pe.name),Pe&&(Pe._isPrechecked(this)?this.checked=!0:Pe._isSelected(this)!==this._checked&&Pe._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const Pe=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),Pe&&Pe._isSelected(this)&&Pe._syncButtonToggle(this,!1,!1,!0)}focus(Pe){this._buttonElement.nativeElement.focus(Pe)}_onButtonClick(){const Pe=!!this._isSingleSelector||!this._checked;Pe!==this._checked&&(this._checked=Pe,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new Xe(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return Le.\u0275fac=function(Pe){return new(Pe||Le)(G.Y36(te,8),G.Y36(G.sBO),G.Y36(G.SBq),G.Y36(Oe.tE),G.$8M("tabindex"),G.Y36(Fe,8))},Le.\u0275cmp=G.Xpm({type:Le,selectors:[["mat-button-toggle"]],viewQuery:function(Pe,ve){if(1&Pe&&G.Gf(Be,5),2&Pe){let le;G.iGM(le=G.CRH())&&(ve._buttonElement=le.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(Pe,ve){1&Pe&&G.NdJ("focus",function(){return ve.focus()}),2&Pe&&(G.uIk("aria-label",null)("aria-labelledby",null)("id",ve.id)("name",null),G.ekj("mat-button-toggle-standalone",!ve.buttonToggleGroup)("mat-button-toggle-checked",ve.checked)("mat-button-toggle-disabled",ve.disabled)("mat-button-toggle-appearance-standard","standard"===ve.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[G.qOj],ngContentSelectors:me,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(Pe,ve){if(1&Pe&&(G.F$t(),G.TgZ(0,"button",0,1),G.NdJ("click",function(){return ve._onButtonClick()}),G.TgZ(2,"span",2),G.Hsn(3),G.qZA()(),G._UZ(4,"span",3)(5,"span",4)),2&Pe){const le=G.MAs(1);G.Q6J("id",ve.buttonId)("disabled",ve.disabled||null),G.uIk("tabindex",ve.disabled?-1:ve.tabIndex)("aria-pressed",ve.checked)("name",ve.name||null)("aria-label",ve.ariaLabel)("aria-labelledby",ve.ariaLabelledby),G.xp6(5),G.Q6J("matRippleTrigger",le)("matRippleDisabled",ve.disableRipple||ve.disabled)}},directives:[be.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .cdk-high-contrast-active .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),Le})(),ze=(()=>{class Le{}return Le.\u0275fac=function(Pe){return new(Pe||Le)},Le.\u0275mod=G.oAB({type:Le}),Le.\u0275inj=G.cJS({imports:[[be.BQ,be.si],be.BQ]}),Le})()},7423:(Jt,at,O)=>{O.d(at,{lW:()=>ce,ot:()=>Xe});var g=O(5e3),l=O(508),G=O(6360),X=O(8255);const be=["mat-button",""],Oe=["*"],Fe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],te=(0,l.pj)((0,l.Id)((0,l.Kr)(class{constructor(Ze){this._elementRef=Ze}})));let ce=(()=>{class Ze extends te{constructor(pt,ze,Le){super(pt),this._focusMonitor=ze,this._animationMode=Le,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const He of Fe)this._hasHostAttributes(He)&&this._getHostElement().classList.add(He);pt.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(pt,ze){pt?this._focusMonitor.focusVia(this._getHostElement(),pt,ze):this._getHostElement().focus(ze)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...pt){return pt.some(ze=>this._getHostElement().hasAttribute(ze))}}return Ze.\u0275fac=function(pt){return new(pt||Ze)(g.Y36(g.SBq),g.Y36(X.tE),g.Y36(G.Qb,8))},Ze.\u0275cmp=g.Xpm({type:Ze,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(pt,ze){if(1&pt&&g.Gf(l.wG,5),2&pt){let Le;g.iGM(Le=g.CRH())&&(ze.ripple=Le.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(pt,ze){2&pt&&(g.uIk("disabled",ze.disabled||null),g.ekj("_mat-animation-noopable","NoopAnimations"===ze._animationMode)("mat-button-disabled",ze.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[g.qOj],attrs:be,ngContentSelectors:Oe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(pt,ze){1&pt&&(g.F$t(),g.TgZ(0,"span",0),g.Hsn(1),g.qZA(),g._UZ(2,"span",1)(3,"span",2)),2&pt&&(g.xp6(2),g.ekj("mat-button-ripple-round",ze.isRoundButton||ze.isIconButton),g.Q6J("matRippleDisabled",ze._isRippleDisabled())("matRippleCentered",ze.isIconButton)("matRippleTrigger",ze._getHostElement()))},directives:[l.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),Ze})(),Xe=(()=>{class Ze{}return Ze.\u0275fac=function(pt){return new(pt||Ze)},Ze.\u0275mod=g.oAB({type:Ze}),Ze.\u0275inj=g.cJS({imports:[[l.si,l.BQ],l.BQ]}),Ze})()},508:(Jt,at,O)=>{O.d(at,{rD:()=>it,K7:()=>Xt,HF:()=>we,BQ:()=>le,X2:()=>Vt,uc:()=>$n,ey:()=>Gn,Ng:()=>xn,nP:()=>Rt,us:()=>ht,wG:()=>Ri,si:()=>ii,CB:()=>sn,jH:()=>gi,pj:()=>We,Kr:()=>mt,Id:()=>Ot,FD:()=>Et,sb:()=>gt,E0:()=>bn});var g=O(5e3),l=O(226),X=O(9808),be=O(925),Oe=O(8255),Be=O(3191),me=O(7579),Fe=O(8675),te=O(6360),ce=O(1159);function Ze(pe,U){if(1&pe&&g._UZ(0,"mat-pseudo-checkbox",4),2&pe){const x=g.oxw();g.Q6J("state",x.selected?"checked":"unchecked")("disabled",x.disabled)}}function nt(pe,U){if(1&pe&&(g.TgZ(0,"span",5),g._uU(1),g.qZA()),2&pe){const x=g.oxw();g.xp6(1),g.hij("(",x.group.label,")")}}const pt=["*"],ve=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function Pe(){return!0}});let le=(()=>{class pe{constructor(x,j,ge){this._sanityChecks=j,this._document=ge,this._hasDoneGlobalChecks=!1,x._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(x){return!(0,be.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[x])}}return pe.\u0275fac=function(x){return new(x||pe)(g.LFG(Oe.qm),g.LFG(ve,8),g.LFG(X.K0))},pe.\u0275mod=g.oAB({type:pe}),pe.\u0275inj=g.cJS({imports:[[l.vT],l.vT]}),pe})();function Ot(pe){return class extends pe{constructor(...U){super(...U),this._disabled=!1}get disabled(){return this._disabled}set disabled(U){this._disabled=(0,Be.Ig)(U)}}}function We(pe,U){return class extends pe{constructor(...x){super(...x),this.defaultColor=U,this.color=U}get color(){return this._color}set color(x){const j=x||this.defaultColor;j!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),j&&this._elementRef.nativeElement.classList.add(`mat-${j}`),this._color=j)}}}function mt(pe){return class extends pe{constructor(...U){super(...U),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(U){this._disableRipple=(0,Be.Ig)(U)}}}function gt(pe,U=0){return class extends pe{constructor(...x){super(...x),this._tabIndex=U,this.defaultTabIndex=U}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(x){this._tabIndex=null!=x?(0,Be.su)(x):this.defaultTabIndex}}}function Et(pe){return class extends pe{constructor(...U){super(...U),this.stateChanges=new me.x,this.errorState=!1}updateErrorState(){const U=this.errorState,rt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);rt!==U&&(this.errorState=rt,this.stateChanges.next())}}}let it=(()=>{class pe{isErrorState(x,j){return!!(x&&x.invalid&&(x.touched||j&&j.submitted))}}return pe.\u0275fac=function(x){return new(x||pe)},pe.\u0275prov=g.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})(),Vt=(()=>{class pe{}return pe.\u0275fac=function(x){return new(x||pe)},pe.\u0275dir=g.lG2({type:pe,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),pe})();function bn(pe,U,x="mat"){pe.changes.pipe((0,Fe.O)(pe)).subscribe(({length:j})=>{Rn(U,`${x}-2-line`,!1),Rn(U,`${x}-3-line`,!1),Rn(U,`${x}-multi-line`,!1),2===j||3===j?Rn(U,`${x}-${j}-line`,!0):j>3&&Rn(U,`${x}-multi-line`,!0)})}function Rn(pe,U,x){pe.nativeElement.classList.toggle(U,x)}let $n=(()=>{class pe{}return pe.\u0275fac=function(x){return new(x||pe)},pe.\u0275mod=g.oAB({type:pe}),pe.\u0275inj=g.cJS({imports:[[le],le]}),pe})();class Kn{constructor(U,x,j){this._renderer=U,this.element=x,this.config=j,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const wn={enterDuration:225,exitDuration:150},ni=(0,be.i$)({passive:!0}),Wi=["mousedown","touchstart"],ln=["mouseup","mouseleave","touchend","touchcancel"];class Vn{constructor(U,x,j,ge){this._target=U,this._ngZone=x,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,ge.isBrowser&&(this._containerElement=(0,Be.fI)(j))}fadeInRipple(U,x,j={}){const ge=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),rt=Object.assign(Object.assign({},wn),j.animation);j.centered&&(U=ge.left+ge.width/2,x=ge.top+ge.height/2);const Ce=j.radius||function Fn(pe,U,x){const j=Math.max(Math.abs(pe-x.left),Math.abs(pe-x.right)),ge=Math.max(Math.abs(U-x.top),Math.abs(U-x.bottom));return Math.sqrt(j*j+ge*ge)}(U,x,ge),Ie=U-ge.left,je=x-ge.top,ft=rt.enterDuration,_e=document.createElement("div");_e.classList.add("mat-ripple-element"),_e.style.left=Ie-Ce+"px",_e.style.top=je-Ce+"px",_e.style.height=2*Ce+"px",_e.style.width=2*Ce+"px",null!=j.color&&(_e.style.backgroundColor=j.color),_e.style.transitionDuration=`${ft}ms`,this._containerElement.appendChild(_e),function zn(pe){window.getComputedStyle(pe).getPropertyValue("opacity")}(_e),_e.style.transform="scale(1)";const xe=new Kn(this,_e,j);return xe.state=0,this._activeRipples.add(xe),j.persistent||(this._mostRecentTransientRipple=xe),this._runTimeoutOutsideZone(()=>{const Y=xe===this._mostRecentTransientRipple;xe.state=1,!j.persistent&&(!Y||!this._isPointerDown)&&xe.fadeOut()},ft),xe}fadeOutRipple(U){const x=this._activeRipples.delete(U);if(U===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!x)return;const j=U.element,ge=Object.assign(Object.assign({},wn),U.config.animation);j.style.transitionDuration=`${ge.exitDuration}ms`,j.style.opacity="0",U.state=2,this._runTimeoutOutsideZone(()=>{U.state=3,j.remove()},ge.exitDuration)}fadeOutAll(){this._activeRipples.forEach(U=>U.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(U=>{U.config.persistent||U.fadeOut()})}setupTriggerEvents(U){const x=(0,Be.fI)(U);!x||x===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=x,this._registerEvents(Wi))}handleEvent(U){"mousedown"===U.type?this._onMousedown(U):"touchstart"===U.type?this._onTouchStart(U):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ln),this._pointerUpEventsRegistered=!0)}_onMousedown(U){const x=(0,Oe.X6)(U),j=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!x&&!j&&(this._isPointerDown=!0,this.fadeInRipple(U.clientX,U.clientY,this._target.rippleConfig))}_onTouchStart(U){if(!this._target.rippleDisabled&&!(0,Oe.yG)(U)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const x=U.changedTouches;for(let j=0;j<x.length;j++)this.fadeInRipple(x[j].clientX,x[j].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(U=>{!U.config.persistent&&(1===U.state||U.config.terminateOnPointerUp&&0===U.state)&&U.fadeOut()}))}_runTimeoutOutsideZone(U,x=0){this._ngZone.runOutsideAngular(()=>setTimeout(U,x))}_registerEvents(U){this._ngZone.runOutsideAngular(()=>{U.forEach(x=>{this._triggerElement.addEventListener(x,this,ni)})})}_removeTriggerEvents(){this._triggerElement&&(Wi.forEach(U=>{this._triggerElement.removeEventListener(U,this,ni)}),this._pointerUpEventsRegistered&&ln.forEach(U=>{this._triggerElement.removeEventListener(U,this,ni)}))}}const di=new g.OlP("mat-ripple-global-options");let Ri=(()=>{class pe{constructor(x,j,ge,rt,Ce){this._elementRef=x,this._animationMode=Ce,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=rt||{},this._rippleRenderer=new Vn(this,j,x,ge)}get disabled(){return this._disabled}set disabled(x){x&&this.fadeOutAllNonPersistent(),this._disabled=x,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(x){this._trigger=x,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(x,j=0,ge){return"number"==typeof x?this._rippleRenderer.fadeInRipple(x,j,Object.assign(Object.assign({},this.rippleConfig),ge)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),x))}}return pe.\u0275fac=function(x){return new(x||pe)(g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(be.t4),g.Y36(di,8),g.Y36(te.Qb,8))},pe.\u0275dir=g.lG2({type:pe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(x,j){2&x&&g.ekj("mat-ripple-unbounded",j.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),pe})(),ii=(()=>{class pe{}return pe.\u0275fac=function(x){return new(x||pe)},pe.\u0275mod=g.oAB({type:pe}),pe.\u0275inj=g.cJS({imports:[[le],le]}),pe})(),Rt=(()=>{class pe{constructor(x){this._animationMode=x,this.state="unchecked",this.disabled=!1}}return pe.\u0275fac=function(x){return new(x||pe)(g.Y36(te.Qb,8))},pe.\u0275cmp=g.Xpm({type:pe,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(x,j){2&x&&g.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===j.state)("mat-pseudo-checkbox-checked","checked"===j.state)("mat-pseudo-checkbox-disabled",j.disabled)("_mat-animation-noopable","NoopAnimations"===j._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(x,j){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),pe})(),ht=(()=>{class pe{}return pe.\u0275fac=function(x){return new(x||pe)},pe.\u0275mod=g.oAB({type:pe}),pe.\u0275inj=g.cJS({imports:[[le]]}),pe})();const we=new g.OlP("MAT_OPTION_PARENT_COMPONENT"),Xt=new g.OlP("MatOptgroup");let En=0;class Un{constructor(U,x=!1){this.source=U,this.isUserInput=x}}let Xn=(()=>{class pe{constructor(x,j,ge,rt){this._element=x,this._changeDetectorRef=j,this._parent=ge,this.group=rt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+En++,this.onSelectionChange=new g.vpe,this._stateChanges=new me.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(x){this._disabled=(0,Be.Ig)(x)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(x,j){const ge=this._getHostElement();"function"==typeof ge.focus&&ge.focus(j)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(x){(x.keyCode===ce.K5||x.keyCode===ce.L_)&&!(0,ce.Vb)(x)&&(this._selectViaInteraction(),x.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const x=this.viewValue;x!==this._mostRecentViewValue&&(this._mostRecentViewValue=x,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(x=!1){this.onSelectionChange.emit(new Un(this,x))}}return pe.\u0275fac=function(x){g.$Z()},pe.\u0275dir=g.lG2({type:pe,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),pe})(),Gn=(()=>{class pe extends Xn{constructor(x,j,ge,rt){super(x,j,ge,rt)}}return pe.\u0275fac=function(x){return new(x||pe)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(we,8),g.Y36(Xt,8))},pe.\u0275cmp=g.Xpm({type:pe,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(x,j){1&x&&g.NdJ("click",function(){return j._selectViaInteraction()})("keydown",function(rt){return j._handleKeydown(rt)}),2&x&&(g.Ikx("id",j.id),g.uIk("tabindex",j._getTabIndex())("aria-selected",j._getAriaSelected())("aria-disabled",j.disabled.toString()),g.ekj("mat-selected",j.selected)("mat-option-multiple",j.multiple)("mat-active",j.active)("mat-option-disabled",j.disabled))},exportAs:["matOption"],features:[g.qOj],ngContentSelectors:pt,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(x,j){1&x&&(g.F$t(),g.YNc(0,Ze,1,2,"mat-pseudo-checkbox",0),g.TgZ(1,"span",1),g.Hsn(2),g.qZA(),g.YNc(3,nt,2,1,"span",2),g._UZ(4,"div",3)),2&x&&(g.Q6J("ngIf",j.multiple),g.xp6(3),g.Q6J("ngIf",j.group&&j.group._inert),g.xp6(1),g.Q6J("matRippleTrigger",j._getHostElement())("matRippleDisabled",j.disabled||j.disableRipple))},directives:[Rt,X.O5,Ri],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),pe})();function sn(pe,U,x){if(x.length){let j=U.toArray(),ge=x.toArray(),rt=0;for(let Ce=0;Ce<pe+1;Ce++)j[Ce].group&&j[Ce].group===ge[rt]&&rt++;return rt}return 0}function gi(pe,U,x,j){return pe<x?pe:pe+U>x+j?Math.max(0,pe-j+U):x}let xn=(()=>{class pe{}return pe.\u0275fac=function(x){return new(x||pe)},pe.\u0275mod=g.oAB({type:pe}),pe.\u0275inj=g.cJS({imports:[[ii,X.ez,le,ht]]}),pe})()},4106:(Jt,at,O)=>{O.d(at,{G_:()=>ii,KE:()=>Rt,Eo:()=>It,lN:()=>ht,hX:()=>Kn});var g=O(3191),l=O(5e3),G=O(8306),X=O(7579),be=O(8372);let Oe=(()=>{class we{create(Te){return"undefined"==typeof MutationObserver?null:new MutationObserver(Te)}}return we.\u0275fac=function(Te){return new(Te||we)},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})(),Be=(()=>{class we{constructor(Te){this._mutationObserverFactory=Te,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Te,Qe)=>this._cleanupObserver(Qe))}observe(Te){const Qe=(0,g.fI)(Te);return new G.y(Xt=>{const En=this._observeElement(Qe).subscribe(Xt);return()=>{En.unsubscribe(),this._unobserveElement(Qe)}})}_observeElement(Te){if(this._observedElements.has(Te))this._observedElements.get(Te).count++;else{const Qe=new X.x,Xt=this._mutationObserverFactory.create(pn=>Qe.next(pn));Xt&&Xt.observe(Te,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Te,{observer:Xt,stream:Qe,count:1})}return this._observedElements.get(Te).stream}_unobserveElement(Te){this._observedElements.has(Te)&&(this._observedElements.get(Te).count--,this._observedElements.get(Te).count||this._cleanupObserver(Te))}_cleanupObserver(Te){if(this._observedElements.has(Te)){const{observer:Qe,stream:Xt}=this._observedElements.get(Te);Qe&&Qe.disconnect(),Xt.complete(),this._observedElements.delete(Te)}}}return we.\u0275fac=function(Te){return new(Te||we)(l.LFG(Oe))},we.\u0275prov=l.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})(),me=(()=>{class we{constructor(Te,Qe,Xt){this._contentObserver=Te,this._elementRef=Qe,this._ngZone=Xt,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(Te){this._disabled=(0,g.Ig)(Te),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Te){this._debounce=(0,g.su)(Te),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Te=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Te.pipe((0,be.b)(this.debounce)):Te).subscribe(this.event)})}_unsubscribe(){var Te;null===(Te=this._currentSubscription)||void 0===Te||Te.unsubscribe()}}return we.\u0275fac=function(Te){return new(Te||we)(l.Y36(Be),l.Y36(l.SBq),l.Y36(l.R0b))},we.\u0275dir=l.lG2({type:we,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),we})(),Fe=(()=>{class we{}return we.\u0275fac=function(Te){return new(Te||we)},we.\u0275mod=l.oAB({type:we}),we.\u0275inj=l.cJS({providers:[Oe]}),we})();var te=O(9808),ce=O(508),Se=O(6451),Xe=O(4968),Ze=O(8675),nt=O(2722),pt=O(5698),ze=O(1777),Le=O(6360),He=O(226),Pe=O(925);const ve=["connectionContainer"],le=["inputContainer"],Ee=["label"];function lt(we,tt){1&we&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function Ue(we,tt){if(1&we){const Te=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){return l.CHM(Te),l.oxw().updateOutlineGap()}),l.Hsn(1,1),l.qZA()}if(2&we){const Te=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=Te.appearance)}}function Ot(we,tt){if(1&we&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&we){const Te=l.oxw(2);l.xp6(3),l.Oqu(Te._control.placeholder)}}function We(we,tt){1&we&&l.Hsn(0,3,["*ngSwitchCase","true"])}function mt(we,tt){1&we&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function gt(we,tt){if(1&we){const Te=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(Te),l.oxw().updateOutlineGap()}),l.YNc(2,Ot,4,1,"ng-container",12),l.YNc(3,We,1,0,"ng-content",12),l.YNc(4,mt,2,0,"span",22),l.qZA()}if(2&we){const Te=l.oxw();l.ekj("mat-empty",Te._control.empty&&!Te._shouldAlwaysFloat())("mat-form-field-empty",Te._control.empty&&!Te._shouldAlwaysFloat())("mat-accent","accent"==Te.color)("mat-warn","warn"==Te.color),l.Q6J("cdkObserveContentDisabled","outline"!=Te.appearance)("id",Te._labelId)("ngSwitch",Te._hasLabel()),l.uIk("for",Te._control.id)("aria-owns",Te._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!Te.hideRequiredMarker&&Te._control.required&&!Te._control.disabled)}}function Et(we,tt){1&we&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function Dt(we,tt){if(1&we&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&we){const Te=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==Te.color)("mat-warn","warn"==Te.color)}}function ct(we,tt){if(1&we&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&we){const Te=l.oxw();l.Q6J("@transitionMessages",Te._subscriptAnimationState)}}function mn(we,tt){if(1&we&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&we){const Te=l.oxw(2);l.Q6J("id",Te._hintLabelId),l.xp6(1),l.Oqu(Te.hintLabel)}}function en(we,tt){if(1&we&&(l.TgZ(0,"div",27),l.YNc(1,mn,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&we){const Te=l.oxw();l.Q6J("@transitionMessages",Te._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",Te.hintLabel)}}const An=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ut=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],un=new l.OlP("MatError"),xt={transitionMessages:(0,ze.X$)("transitionMessages",[(0,ze.SB)("enter",(0,ze.oB)({opacity:1,transform:"translateY(0%)"})),(0,ze.eR)("void => enter",[(0,ze.oB)({opacity:0,transform:"translateY(-5px)"}),(0,ze.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let It=(()=>{class we{}return we.\u0275fac=function(Te){return new(Te||we)},we.\u0275dir=l.lG2({type:we}),we})();const Rn=new l.OlP("MatHint");let Kn=(()=>{class we{}return we.\u0275fac=function(Te){return new(Te||we)},we.\u0275dir=l.lG2({type:we,selectors:[["mat-label"]]}),we})(),wn=(()=>{class we{}return we.\u0275fac=function(Te){return new(Te||we)},we.\u0275dir=l.lG2({type:we,selectors:[["mat-placeholder"]]}),we})();const Zn=new l.OlP("MatPrefix"),Wi=new l.OlP("MatSuffix");let Vn=0;const di=(0,ce.pj)(class{constructor(we){this._elementRef=we}},"primary"),Ri=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ii=new l.OlP("MatFormField");let Rt=(()=>{class we extends di{constructor(Te,Qe,Xt,pn,En,Un,Xn){super(Te),this._changeDetectorRef=Qe,this._dir=Xt,this._defaults=pn,this._platform=En,this._ngZone=Un,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new X.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Vn++,this._labelId="mat-form-field-label-"+Vn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Xn,this.appearance=pn&&pn.appearance?pn.appearance:"legacy",this._hideRequiredMarker=!(!pn||null==pn.hideRequiredMarker)&&pn.hideRequiredMarker}get appearance(){return this._appearance}set appearance(Te){const Qe=this._appearance;this._appearance=Te||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&Qe!==Te&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Te){this._hideRequiredMarker=(0,g.Ig)(Te)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Te){this._hintLabel=Te,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Te){Te!==this._floatLabel&&(this._floatLabel=Te||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Te){this._explicitFormFieldControl=Te}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Te=this._control;Te.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Te.controlType}`),Te.stateChanges.pipe((0,Ze.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Te.ngControl&&Te.ngControl.valueChanges&&Te.ngControl.valueChanges.pipe((0,nt.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,nt.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Se.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Ze.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Ze.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,nt.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Te){const Qe=this._control?this._control.ngControl:null;return Qe&&Qe[Te]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,Xe.R)(this._label.nativeElement,"transitionend").pipe((0,pt.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Te=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Te.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Qe=this._hintChildren?this._hintChildren.find(pn=>"start"===pn.align):null,Xt=this._hintChildren?this._hintChildren.find(pn=>"end"===pn.align):null;Qe?Te.push(Qe.id):this._hintLabel&&Te.push(this._hintLabelId),Xt&&Te.push(Xt.id)}else this._errorChildren&&Te.push(...this._errorChildren.map(Qe=>Qe.id));this._control.setDescribedByIds(Te)}}_validateControlChild(){}updateOutlineGap(){const Te=this._label?this._label.nativeElement:null,Qe=this._connectionContainerRef.nativeElement,Xt=".mat-form-field-outline-start",pn=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Te||!Te.children.length||!Te.textContent.trim()){const sn=Qe.querySelectorAll(`${Xt}, ${pn}`);for(let gi=0;gi<sn.length;gi++)sn[gi].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let En=0,Un=0;const Xn=Qe.querySelectorAll(Xt),Gn=Qe.querySelectorAll(pn);if(this._label&&this._label.nativeElement.children.length){const sn=Qe.getBoundingClientRect();if(0===sn.width&&0===sn.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const gi=this._getStartEnd(sn),xn=Te.children,pe=this._getStartEnd(xn[0].getBoundingClientRect());let U=0;for(let x=0;x<xn.length;x++)U+=xn[x].offsetWidth;En=Math.abs(pe-gi)-5,Un=U>0?.75*U+10:0}for(let sn=0;sn<Xn.length;sn++)Xn[sn].style.width=`${En}px`;for(let sn=0;sn<Gn.length;sn++)Gn[sn].style.width=`${Un}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Te){return this._dir&&"rtl"===this._dir.value?Te.right:Te.left}_isAttachedToDOM(){const Te=this._elementRef.nativeElement;if(Te.getRootNode){const Qe=Te.getRootNode();return Qe&&Qe!==Te}return document.documentElement.contains(Te)}}return we.\u0275fac=function(Te){return new(Te||we)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(He.Is,8),l.Y36(Ri,8),l.Y36(Pe.t4),l.Y36(l.R0b),l.Y36(Le.Qb,8))},we.\u0275cmp=l.Xpm({type:we,selectors:[["mat-form-field"]],contentQueries:function(Te,Qe,Xt){if(1&Te&&(l.Suo(Xt,It,5),l.Suo(Xt,It,7),l.Suo(Xt,Kn,5),l.Suo(Xt,Kn,7),l.Suo(Xt,wn,5),l.Suo(Xt,un,5),l.Suo(Xt,Rn,5),l.Suo(Xt,Zn,5),l.Suo(Xt,Wi,5)),2&Te){let pn;l.iGM(pn=l.CRH())&&(Qe._controlNonStatic=pn.first),l.iGM(pn=l.CRH())&&(Qe._controlStatic=pn.first),l.iGM(pn=l.CRH())&&(Qe._labelChildNonStatic=pn.first),l.iGM(pn=l.CRH())&&(Qe._labelChildStatic=pn.first),l.iGM(pn=l.CRH())&&(Qe._placeholderChild=pn.first),l.iGM(pn=l.CRH())&&(Qe._errorChildren=pn),l.iGM(pn=l.CRH())&&(Qe._hintChildren=pn),l.iGM(pn=l.CRH())&&(Qe._prefixChildren=pn),l.iGM(pn=l.CRH())&&(Qe._suffixChildren=pn)}},viewQuery:function(Te,Qe){if(1&Te&&(l.Gf(ve,7),l.Gf(le,5),l.Gf(Ee,5)),2&Te){let Xt;l.iGM(Xt=l.CRH())&&(Qe._connectionContainerRef=Xt.first),l.iGM(Xt=l.CRH())&&(Qe._inputContainerRef=Xt.first),l.iGM(Xt=l.CRH())&&(Qe._label=Xt.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Te,Qe){2&Te&&l.ekj("mat-form-field-appearance-standard","standard"==Qe.appearance)("mat-form-field-appearance-fill","fill"==Qe.appearance)("mat-form-field-appearance-outline","outline"==Qe.appearance)("mat-form-field-appearance-legacy","legacy"==Qe.appearance)("mat-form-field-invalid",Qe._control.errorState)("mat-form-field-can-float",Qe._canLabelFloat())("mat-form-field-should-float",Qe._shouldLabelFloat())("mat-form-field-has-label",Qe._hasFloatingLabel())("mat-form-field-hide-placeholder",Qe._hideControlPlaceholder())("mat-form-field-disabled",Qe._control.disabled)("mat-form-field-autofilled",Qe._control.autofilled)("mat-focused",Qe._control.focused)("ng-untouched",Qe._shouldForward("untouched"))("ng-touched",Qe._shouldForward("touched"))("ng-pristine",Qe._shouldForward("pristine"))("ng-dirty",Qe._shouldForward("dirty"))("ng-valid",Qe._shouldForward("valid"))("ng-invalid",Qe._shouldForward("invalid"))("ng-pending",Qe._shouldForward("pending"))("_mat-animation-noopable",!Qe._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:ii,useExisting:we}]),l.qOj],ngContentSelectors:Ut,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Te,Qe){1&Te&&(l.F$t(An),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(pn){return Qe._control.onContainerClick&&Qe._control.onContainerClick(pn)}),l.YNc(3,lt,9,0,"ng-container",3),l.YNc(4,Ue,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,gt,5,16,"label",8),l.qZA()(),l.YNc(10,Et,2,0,"div",9),l.qZA(),l.YNc(11,Dt,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,ct,2,1,"div",12),l.YNc(14,en,5,2,"div",13),l.qZA()()),2&Te&&(l.xp6(3),l.Q6J("ngIf","outline"==Qe.appearance),l.xp6(1),l.Q6J("ngIf",Qe._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",Qe._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",Qe._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=Qe.appearance),l.xp6(1),l.Q6J("ngSwitch",Qe._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[te.O5,me,te.RF,te.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[xt.transitionMessages]},changeDetection:0}),we})(),ht=(()=>{class we{}return we.\u0275fac=function(Te){return new(Te||we)},we.\u0275mod=l.oAB({type:we}),we.\u0275inj=l.cJS({imports:[[te.ez,ce.BQ,Fe],ce.BQ]}),we})()},7531:(Jt,at,O)=>{O.d(at,{Nt:()=>He,c:()=>Pe});var g=O(3191),l=O(925),G=O(5e3),X=O(3075),be=O(508),Oe=O(4106),Be=O(7579),me=O(515);const Fe=(0,l.i$)({passive:!0});let te=(()=>{class ve{constructor(Ee,lt){this._platform=Ee,this._ngZone=lt,this._monitoredElements=new Map}monitor(Ee){if(!this._platform.isBrowser)return me.E;const lt=(0,g.fI)(Ee),Ue=this._monitoredElements.get(lt);if(Ue)return Ue.subject;const Ot=new Be.x,We="cdk-text-field-autofilled",mt=gt=>{"cdk-text-field-autofill-start"!==gt.animationName||lt.classList.contains(We)?"cdk-text-field-autofill-end"===gt.animationName&&lt.classList.contains(We)&&(lt.classList.remove(We),this._ngZone.run(()=>Ot.next({target:gt.target,isAutofilled:!1}))):(lt.classList.add(We),this._ngZone.run(()=>Ot.next({target:gt.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{lt.addEventListener("animationstart",mt,Fe),lt.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(lt,{subject:Ot,unlisten:()=>{lt.removeEventListener("animationstart",mt,Fe)}}),Ot}stopMonitoring(Ee){const lt=(0,g.fI)(Ee),Ue=this._monitoredElements.get(lt);Ue&&(Ue.unlisten(),Ue.subject.complete(),lt.classList.remove("cdk-text-field-autofill-monitored"),lt.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(lt))}ngOnDestroy(){this._monitoredElements.forEach((Ee,lt)=>this.stopMonitoring(lt))}}return ve.\u0275fac=function(Ee){return new(Ee||ve)(G.LFG(l.t4),G.LFG(G.R0b))},ve.\u0275prov=G.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})(),Xe=(()=>{class ve{}return ve.\u0275fac=function(Ee){return new(Ee||ve)},ve.\u0275mod=G.oAB({type:ve}),ve.\u0275inj=G.cJS({}),ve})();const nt=new G.OlP("MAT_INPUT_VALUE_ACCESSOR"),pt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ze=0;const Le=(0,be.FD)(class{constructor(ve,le,Ee,lt){this._defaultErrorStateMatcher=ve,this._parentForm=le,this._parentFormGroup=Ee,this.ngControl=lt}});let He=(()=>{class ve extends Le{constructor(Ee,lt,Ue,Ot,We,mt,gt,Et,Dt,ct){super(mt,Ot,We,Ue),this._elementRef=Ee,this._platform=lt,this._autofillMonitor=Et,this._formField=ct,this._uid="mat-input-"+ze++,this.focused=!1,this.stateChanges=new Be.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(An=>(0,l.qK)().has(An)),this._iOSKeyupListener=An=>{const Ut=An.target;!Ut.value&&0===Ut.selectionStart&&0===Ut.selectionEnd&&(Ut.setSelectionRange(1,1),Ut.setSelectionRange(0,0))};const mn=this._elementRef.nativeElement,en=mn.nodeName.toLowerCase();this._inputValueAccessor=gt||mn,this._previousNativeValue=this.value,this.id=this.id,lt.IOS&&Dt.runOutsideAngular(()=>{Ee.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===en,this._isTextarea="textarea"===en,this._isInFormField=!!ct,this._isNativeSelect&&(this.controlType=mn.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(Ee){this._disabled=(0,g.Ig)(Ee),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Ee){this._id=Ee||this._uid}get required(){var Ee,lt,Ue,Ot;return null!==(Ot=null!==(Ee=this._required)&&void 0!==Ee?Ee:null===(Ue=null===(lt=this.ngControl)||void 0===lt?void 0:lt.control)||void 0===Ue?void 0:Ue.hasValidator(X.kI.required))&&void 0!==Ot&&Ot}set required(Ee){this._required=(0,g.Ig)(Ee)}get type(){return this._type}set type(Ee){this._type=Ee||"text",this._validateType(),!this._isTextarea&&(0,l.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Ee){Ee!==this.value&&(this._inputValueAccessor.value=Ee,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Ee){this._readonly=(0,g.Ig)(Ee)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Ee=>{this.autofilled=Ee.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Ee){this._elementRef.nativeElement.focus(Ee)}_focusChanged(Ee){Ee!==this.focused&&(this.focused=Ee,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var Ee,lt;const Ue=(null===(lt=null===(Ee=this._formField)||void 0===Ee?void 0:Ee._hideControlPlaceholder)||void 0===lt?void 0:lt.call(Ee))?null:this.placeholder;if(Ue!==this._previousPlaceholder){const Ot=this._elementRef.nativeElement;this._previousPlaceholder=Ue,Ue?Ot.setAttribute("placeholder",Ue):Ot.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const Ee=this._elementRef.nativeElement.value;this._previousNativeValue!==Ee&&(this._previousNativeValue=Ee,this.stateChanges.next())}_validateType(){pt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Ee=this._elementRef.nativeElement.validity;return Ee&&Ee.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Ee=this._elementRef.nativeElement,lt=Ee.options[0];return this.focused||Ee.multiple||!this.empty||!!(Ee.selectedIndex>-1&&lt&&lt.label)}return this.focused||!this.empty}setDescribedByIds(Ee){Ee.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Ee.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Ee=this._elementRef.nativeElement;return this._isNativeSelect&&(Ee.multiple||Ee.size>1)}}return ve.\u0275fac=function(Ee){return new(Ee||ve)(G.Y36(G.SBq),G.Y36(l.t4),G.Y36(X.a5,10),G.Y36(X.F,8),G.Y36(X.sg,8),G.Y36(be.rD),G.Y36(nt,10),G.Y36(te),G.Y36(G.R0b),G.Y36(Oe.G_,8))},ve.\u0275dir=G.lG2({type:ve,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(Ee,lt){1&Ee&&G.NdJ("focus",function(){return lt._focusChanged(!0)})("blur",function(){return lt._focusChanged(!1)})("input",function(){return lt._onInput()}),2&Ee&&(G.Ikx("disabled",lt.disabled)("required",lt.required),G.uIk("id",lt.id)("data-placeholder",lt.placeholder)("name",lt.name||null)("readonly",lt.readonly&&!lt._isNativeSelect||null)("aria-invalid",lt.empty&&lt.required?null:lt.errorState)("aria-required",lt.required),G.ekj("mat-input-server",lt._isServer)("mat-native-select-inline",lt._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[G._Bn([{provide:Oe.Eo,useExisting:ve}]),G.qOj,G.TTD]}),ve})(),Pe=(()=>{class ve{}return ve.\u0275fac=function(Ee){return new(Ee||ve)},ve.\u0275mod=G.oAB({type:ve}),ve.\u0275inj=G.cJS({providers:[be.rD],imports:[[Xe,Oe.lN,be.BQ],Xe,Oe.lN]}),ve})()},773:(Jt,at,O)=>{O.d(at,{Ou:()=>ze,Cq:()=>Le});var g=O(3191),l=O(925),G=O(9808),X=O(5e3),be=O(508),Oe=O(6360),Be=O(727),me=O(5494);function Fe(Pe,ve){if(1&Pe&&(X.O4$(),X._UZ(0,"circle",4)),2&Pe){const le=X.oxw(),Ee=X.MAs(1);X.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+le._spinnerAnimationLabel)("stroke-dashoffset",le._getStrokeDashOffset(),"px")("stroke-dasharray",le._getStrokeCircumference(),"px")("stroke-width",le._getCircleStrokeWidth(),"%")("transform-origin",le._getCircleTransformOrigin(Ee)),X.uIk("r",le._getCircleRadius())}}function te(Pe,ve){if(1&Pe&&(X.O4$(),X._UZ(0,"circle",4)),2&Pe){const le=X.oxw(),Ee=X.MAs(1);X.Udp("stroke-dashoffset",le._getStrokeDashOffset(),"px")("stroke-dasharray",le._getStrokeCircumference(),"px")("stroke-width",le._getCircleStrokeWidth(),"%")("transform-origin",le._getCircleTransformOrigin(Ee)),X.uIk("r",le._getCircleRadius())}}const Xe=(0,be.pj)(class{constructor(Pe){this._elementRef=Pe}},"primary"),Ze=new X.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function nt(){return{diameter:100}}});class ze extends Xe{constructor(ve,le,Ee,lt,Ue,Ot,We,mt){super(ve),this._document=Ee,this._diameter=100,this._value=0,this._resizeSubscription=Be.w0.EMPTY,this.mode="determinate";const gt=ze._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),gt.has(Ee.head)||gt.set(Ee.head,new Set([100])),this._noopAnimations="NoopAnimations"===lt&&!!Ue&&!Ue._forceAnimations,"mat-spinner"===ve.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),Ue&&(Ue.diameter&&(this.diameter=Ue.diameter),Ue.strokeWidth&&(this.strokeWidth=Ue.strokeWidth)),le.isBrowser&&le.SAFARI&&We&&Ot&&mt&&(this._resizeSubscription=We.change(150).subscribe(()=>{"indeterminate"===this.mode&&mt.run(()=>Ot.markForCheck())}))}get diameter(){return this._diameter}set diameter(ve){this._diameter=(0,g.su)(ve),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(ve){this._strokeWidth=(0,g.su)(ve)}get value(){return"determinate"===this.mode?this._value:0}set value(ve){this._value=Math.max(0,Math.min(100,(0,g.su)(ve)))}ngOnInit(){const ve=this._elementRef.nativeElement;this._styleRoot=(0,l.kV)(ve)||this._document.head,this._attachStyleNode(),ve.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const ve=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${ve} ${ve}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(ve){var le;const Ee=50*(null!==(le=ve.currentScale)&&void 0!==le?le:1);return`${Ee}% ${Ee}%`}_attachStyleNode(){const ve=this._styleRoot,le=this._diameter,Ee=ze._diameters;let lt=Ee.get(ve);if(!lt||!lt.has(le)){const Ue=this._document.createElement("style");Ue.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),Ue.textContent=this._getAnimationText(),ve.appendChild(Ue),lt||(lt=new Set,Ee.set(ve,lt)),lt.add(le)}}_getAnimationText(){const ve=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*ve).replace(/END_VALUE/g,""+.2*ve).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ze._diameters=new WeakMap,ze.\u0275fac=function(ve){return new(ve||ze)(X.Y36(X.SBq),X.Y36(l.t4),X.Y36(G.K0,8),X.Y36(Oe.Qb,8),X.Y36(Ze),X.Y36(X.sBO),X.Y36(me.rL),X.Y36(X.R0b))},ze.\u0275cmp=X.Xpm({type:ze,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(ve,le){2&ve&&(X.uIk("aria-valuemin","determinate"===le.mode?0:null)("aria-valuemax","determinate"===le.mode?100:null)("aria-valuenow","determinate"===le.mode?le.value:null)("mode",le.mode),X.Udp("width",le.diameter,"px")("height",le.diameter,"px"),X.ekj("_mat-animation-noopable",le._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[X.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(ve,le){1&ve&&(X.O4$(),X.TgZ(0,"svg",0,1),X.YNc(2,Fe,1,11,"circle",2),X.YNc(3,te,1,9,"circle",3),X.qZA()),2&ve&&(X.Udp("width",le.diameter,"px")("height",le.diameter,"px"),X.Q6J("ngSwitch","indeterminate"===le.mode),X.uIk("viewBox",le._getViewBox()),X.xp6(2),X.Q6J("ngSwitchCase",!0),X.xp6(1),X.Q6J("ngSwitchCase",!1))},directives:[G.RF,G.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Le=(()=>{class Pe{}return Pe.\u0275fac=function(le){return new(le||Pe)},Pe.\u0275mod=X.oAB({type:Pe}),Pe.\u0275inj=X.cJS({imports:[[be.BQ,G.ez],be.BQ]}),Pe})()},6360:(Jt,at,O)=>{O.d(at,{Qb:()=>Zo,PW:()=>to});var g=O(5e3),l=O(2313),G=O(1777);const X=!1;function Oe(J){return new g.vHH(3e3,X)}function Ke(){return"undefined"!=typeof window&&void 0!==window.document}function it(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Vt(J){switch(J.length){case 0:return new G.ZN;case 1:return J[0];default:return new G.ZE(J)}}function bn(J,w,D,V,ie={},De={}){const qe=[],Je=[];let yt=-1,Pt=null;if(V.forEach(Dn=>{const Pn=Dn.offset,ai=Pn==yt,vi=ai&&Pt||{};Object.keys(Dn).forEach(Qn=>{let bi=Qn,tr=Dn[Qn];if("offset"!==Qn)switch(bi=w.normalizePropertyName(bi,qe),tr){case G.k1:tr=ie[Qn];break;case G.l3:tr=De[Qn];break;default:tr=w.normalizeStyleValue(Qn,bi,tr,qe)}vi[bi]=tr}),ai||Je.push(vi),Pt=vi,yt=Pn}),qe.length)throw function Et(J){return new g.vHH(3502,X)}();return Je}function Rn(J,w,D,V){switch(w){case"start":J.onStart(()=>V(D&&$n(D,"start",J)));break;case"done":J.onDone(()=>V(D&&$n(D,"done",J)));break;case"destroy":J.onDestroy(()=>V(D&&$n(D,"destroy",J)))}}function $n(J,w,D){const V=D.totalTime,De=Kn(J.element,J.triggerName,J.fromState,J.toState,w||J.phaseName,null==V?J.totalTime:V,!!D.disabled),qe=J._data;return null!=qe&&(De._data=qe),De}function Kn(J,w,D,V,ie="",De=0,qe){return{element:J,triggerName:w,fromState:D,toState:V,phaseName:ie,totalTime:De,disabled:!!qe}}function wn(J,w,D){let V;return J instanceof Map?(V=J.get(w),V||J.set(w,V=D)):(V=J[w],V||(V=J[w]=D)),V}function Zn(J){const w=J.indexOf(":");return[J.substring(1,w),J.substr(w+1)]}let ni=(J,w)=>!1,Wi=(J,w,D)=>[],ln=null;function Vn(J){const w=J.parentNode||J.host;return w===ln?null:w}(it()||"undefined"!=typeof Element)&&(Ke()?(ln=(()=>document.documentElement)(),ni=(J,w)=>{for(;w;){if(w===J)return!0;w=Vn(w)}return!1}):ni=(J,w)=>J.contains(w),Wi=(J,w,D)=>{if(D)return Array.from(J.querySelectorAll(w));const V=J.querySelector(w);return V?[V]:[]});let di=null,Ri=!1;function ii(J){di||(di=function Rt(){return"undefined"!=typeof document?document.body:null}()||{},Ri=!!di.style&&"WebkitAppearance"in di.style);let w=!0;return di.style&&!function Fn(J){return"ebkit"==J.substring(1,6)}(J)&&(w=J in di.style,!w&&Ri&&(w="Webkit"+J.charAt(0).toUpperCase()+J.substr(1)in di.style)),w}const ht=ni,we=Wi;let Te=(()=>{class J{validateStyleProperty(D){return ii(D)}matchesElement(D,V){return!1}containsElement(D,V){return ht(D,V)}getParentElement(D){return Vn(D)}query(D,V,ie){return we(D,V,ie)}computeStyle(D,V,ie){return ie||""}animate(D,V,ie,De,qe,Je=[],yt){return new G.ZN(ie,De)}}return J.\u0275fac=function(D){return new(D||J)},J.\u0275prov=g.Yz7({token:J,factory:J.\u0275fac}),J})(),Qe=(()=>{class J{}return J.NOOP=new Te,J})();const Un="ng-enter",Xn="ng-leave",Gn="ng-trigger",sn=".ng-trigger",gi="ng-animating",xn=".ng-animating";function pe(J){if("number"==typeof J)return J;const w=J.match(/^(-?[\.\d]+)(m?s)/);return!w||w.length<2?0:U(parseFloat(w[1]),w[2])}function U(J,w){return"s"===w?1e3*J:J}function x(J,w,D){return J.hasOwnProperty("duration")?J:function j(J,w,D){let ie,De=0,qe="";if("string"==typeof J){const Je=J.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Je)return w.push(Oe()),{duration:0,delay:0,easing:""};ie=U(parseFloat(Je[1]),Je[2]);const yt=Je[3];null!=yt&&(De=U(parseFloat(yt),Je[4]));const Pt=Je[5];Pt&&(qe=Pt)}else ie=J;if(!D){let Je=!1,yt=w.length;ie<0&&(w.push(function Be(){return new g.vHH(3100,X)}()),Je=!0),De<0&&(w.push(function me(){return new g.vHH(3101,X)}()),Je=!0),Je&&w.splice(yt,0,Oe())}return{duration:ie,delay:De,easing:qe}}(J,w,D)}function ge(J,w={}){return Object.keys(J).forEach(D=>{w[D]=J[D]}),w}function Ce(J,w,D={}){if(w)for(let V in J)D[V]=J[V];else ge(J,D);return D}function Ie(J,w,D){return D?w+":"+D+";":""}function je(J){let w="";for(let D=0;D<J.style.length;D++){const V=J.style.item(D);w+=Ie(0,V,J.style.getPropertyValue(V))}for(const D in J.style)J.style.hasOwnProperty(D)&&!D.startsWith("_")&&(w+=Ie(0,oi(D),J.style[D]));J.setAttribute("style",w)}function ft(J,w,D){J.style&&(Object.keys(w).forEach(V=>{const ie=cn(V);D&&!D.hasOwnProperty(V)&&(D[V]=J.style[ie]),J.style[ie]=w[V]}),it()&&je(J))}function _e(J,w){J.style&&(Object.keys(w).forEach(D=>{const V=cn(D);J.style[V]=""}),it()&&je(J))}function xe(J){return Array.isArray(J)?1==J.length?J[0]:(0,G.vP)(J):J}const de=new RegExp("{{\\s*(.+?)\\s*}}","g");function ye(J){let w=[];if("string"==typeof J){let D;for(;D=de.exec(J);)w.push(D[1]);de.lastIndex=0}return w}function Ve(J,w,D){const V=J.toString(),ie=V.replace(de,(De,qe)=>{let Je=w[qe];return w.hasOwnProperty(qe)||(D.push(function te(J){return new g.vHH(3003,X)}()),Je=""),Je.toString()});return ie==V?J:ie}function wt(J){const w=[];let D=J.next();for(;!D.done;)w.push(D.value),D=J.next();return w}const Nt=/-+([a-z0-9])/g;function cn(J){return J.replace(Nt,(...w)=>w[1].toUpperCase())}function oi(J){return J.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ti(J,w,D){switch(w.type){case 7:return J.visitTrigger(w,D);case 0:return J.visitState(w,D);case 1:return J.visitTransition(w,D);case 2:return J.visitSequence(w,D);case 3:return J.visitGroup(w,D);case 4:return J.visitAnimate(w,D);case 5:return J.visitKeyframes(w,D);case 6:return J.visitStyle(w,D);case 8:return J.visitReference(w,D);case 9:return J.visitAnimateChild(w,D);case 10:return J.visitAnimateRef(w,D);case 11:return J.visitQuery(w,D);case 12:return J.visitStagger(w,D);default:throw function ce(J){return new g.vHH(3004,X)}()}}function rr(J,w){return window.getComputedStyle(J)[w]}function hi(J,w){const D=[];return"string"==typeof J?J.split(/\s*,\s*/).forEach(V=>function Qi(J,w,D){if(":"==J[0]){const yt=function ki(J,w){switch(J){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(D,V)=>parseFloat(V)>parseFloat(D);case":decrement":return(D,V)=>parseFloat(V)<parseFloat(D);default:return w.push(function Ot(J){return new g.vHH(3016,X)}()),"* => *"}}(J,D);if("function"==typeof yt)return void w.push(yt);J=yt}const V=J.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==V||V.length<4)return D.push(function Ue(J){return new g.vHH(3015,X)}()),w;const ie=V[1],De=V[2],qe=V[3];w.push(si(ie,qe));"<"==De[0]&&!("*"==ie&&"*"==qe)&&w.push(si(qe,ie))}(V,D,w)):D.push(J),D}const Ui=new Set(["true","1"]),Yr=new Set(["false","0"]);function si(J,w){const D=Ui.has(J)||Yr.has(J),V=Ui.has(w)||Yr.has(w);return(ie,De)=>{let qe="*"==J||J==ie,Je="*"==w||w==De;return!qe&&D&&"boolean"==typeof ie&&(qe=ie?Ui.has(J):Yr.has(J)),!Je&&V&&"boolean"==typeof De&&(Je=De?Ui.has(w):Yr.has(w)),qe&&Je}}const Gr=new RegExp("s*:selfs*,?","g");function fs(J,w,D,V){return new Gi(J).build(w,D,V)}class Gi{constructor(w){this._driver=w}build(w,D,V){const ie=new dt(D);this._resetContextStyleTimingState(ie);const De=ti(this,xe(w),ie);return ie.unsupportedCSSPropertiesFound.size&&ie.unsupportedCSSPropertiesFound.keys(),De}_resetContextStyleTimingState(w){w.currentQuerySelector="",w.collectedStyles={},w.collectedStyles[""]={},w.currentTime=0}visitTrigger(w,D){let V=D.queryCount=0,ie=D.depCount=0;const De=[],qe=[];return"@"==w.name.charAt(0)&&D.errors.push(function Xe(){return new g.vHH(3006,X)}()),w.definitions.forEach(Je=>{if(this._resetContextStyleTimingState(D),0==Je.type){const yt=Je,Pt=yt.name;Pt.toString().split(/\s*,\s*/).forEach(Dn=>{yt.name=Dn,De.push(this.visitState(yt,D))}),yt.name=Pt}else if(1==Je.type){const yt=this.visitTransition(Je,D);V+=yt.queryCount,ie+=yt.depCount,qe.push(yt)}else D.errors.push(function Ze(){return new g.vHH(3007,X)}())}),{type:7,name:w.name,states:De,transitions:qe,queryCount:V,depCount:ie,options:null}}visitState(w,D){const V=this.visitStyle(w.styles,D),ie=w.options&&w.options.params||null;if(V.containsDynamicStyles){const De=new Set,qe=ie||{};V.styles.forEach(Je=>{if(vt(Je)){const yt=Je;Object.keys(yt).forEach(Pt=>{ye(yt[Pt]).forEach(Dn=>{qe.hasOwnProperty(Dn)||De.add(Dn)})})}}),De.size&&(wt(De.values()),D.errors.push(function nt(J,w){return new g.vHH(3008,X)}()))}return{type:0,name:w.name,style:V,options:ie?{params:ie}:null}}visitTransition(w,D){D.queryCount=0,D.depCount=0;const V=ti(this,xe(w.animation),D);return{type:1,matchers:hi(w.expr,D.errors),animation:V,queryCount:D.queryCount,depCount:D.depCount,options:zt(w.options)}}visitSequence(w,D){return{type:2,steps:w.steps.map(V=>ti(this,V,D)),options:zt(w.options)}}visitGroup(w,D){const V=D.currentTime;let ie=0;const De=w.steps.map(qe=>{D.currentTime=V;const Je=ti(this,qe,D);return ie=Math.max(ie,D.currentTime),Je});return D.currentTime=ie,{type:3,steps:De,options:zt(w.options)}}visitAnimate(w,D){const V=function Gt(J,w){let D=null;if(J.hasOwnProperty("duration"))D=J;else if("number"==typeof J)return Cn(x(J,w).duration,0,"");const V=J;if(V.split(/\s+/).some(De=>"{"==De.charAt(0)&&"{"==De.charAt(1))){const De=Cn(0,0,"");return De.dynamic=!0,De.strValue=V,De}return D=D||x(V,w),Cn(D.duration,D.delay,D.easing)}(w.timings,D.errors);D.currentAnimateTimings=V;let ie,De=w.styles?w.styles:(0,G.oB)({});if(5==De.type)ie=this.visitKeyframes(De,D);else{let qe=w.styles,Je=!1;if(!qe){Je=!0;const Pt={};V.easing&&(Pt.easing=V.easing),qe=(0,G.oB)(Pt)}D.currentTime+=V.duration+V.delay;const yt=this.visitStyle(qe,D);yt.isEmptyStep=Je,ie=yt}return D.currentAnimateTimings=null,{type:4,timings:V,style:ie,options:null}}visitStyle(w,D){const V=this._makeStyleAst(w,D);return this._validateStyleAst(V,D),V}_makeStyleAst(w,D){const V=[];Array.isArray(w.styles)?w.styles.forEach(qe=>{"string"==typeof qe?qe==G.l3?V.push(qe):D.errors.push(function pt(J){return new g.vHH(3002,X)}()):V.push(qe)}):V.push(w.styles);let ie=!1,De=null;return V.forEach(qe=>{if(vt(qe)){const Je=qe,yt=Je.easing;if(yt&&(De=yt,delete Je.easing),!ie)for(let Pt in Je)if(Je[Pt].toString().indexOf("{{")>=0){ie=!0;break}}}),{type:6,styles:V,easing:De,offset:w.offset,containsDynamicStyles:ie,options:null}}_validateStyleAst(w,D){const V=D.currentAnimateTimings;let ie=D.currentTime,De=D.currentTime;V&&De>0&&(De-=V.duration+V.delay),w.styles.forEach(qe=>{"string"!=typeof qe&&Object.keys(qe).forEach(Je=>{if(!this._driver.validateStyleProperty(Je))return delete qe[Je],void D.unsupportedCSSPropertiesFound.add(Je);const yt=D.collectedStyles[D.currentQuerySelector],Pt=yt[Je];let Dn=!0;Pt&&(De!=ie&&De>=Pt.startTime&&ie<=Pt.endTime&&(D.errors.push(function Le(J,w,D,V,ie){return new g.vHH(3010,X)}()),Dn=!1),De=Pt.startTime),Dn&&(yt[Je]={startTime:De,endTime:ie}),D.options&&function Y(J,w,D){const V=w.params||{},ie=ye(J);ie.length&&ie.forEach(De=>{V.hasOwnProperty(De)||D.push(function Fe(J){return new g.vHH(3001,X)}())})}(qe[Je],D.options,D.errors)})})}visitKeyframes(w,D){const V={type:5,styles:[],options:null};if(!D.currentAnimateTimings)return D.errors.push(function He(){return new g.vHH(3011,X)}()),V;let De=0;const qe=[];let Je=!1,yt=!1,Pt=0;const Dn=w.steps.map(vr=>{const hr=this._makeStyleAst(vr,D);let ss=null!=hr.offset?hr.offset:function Ye(J){if("string"==typeof J)return null;let w=null;if(Array.isArray(J))J.forEach(D=>{if(vt(D)&&D.hasOwnProperty("offset")){const V=D;w=parseFloat(V.offset),delete V.offset}});else if(vt(J)&&J.hasOwnProperty("offset")){const D=J;w=parseFloat(D.offset),delete D.offset}return w}(hr.styles),nr=0;return null!=ss&&(De++,nr=hr.offset=ss),yt=yt||nr<0||nr>1,Je=Je||nr<Pt,Pt=nr,qe.push(nr),hr});yt&&D.errors.push(function Pe(){return new g.vHH(3012,X)}()),Je&&D.errors.push(function ve(){return new g.vHH(3200,X)}());const Pn=w.steps.length;let ai=0;De>0&&De<Pn?D.errors.push(function le(){return new g.vHH(3202,X)}()):0==De&&(ai=1/(Pn-1));const vi=Pn-1,Qn=D.currentTime,bi=D.currentAnimateTimings,tr=bi.duration;return Dn.forEach((vr,hr)=>{const ss=ai>0?hr==vi?1:ai*hr:qe[hr],nr=ss*tr;D.currentTime=Qn+bi.delay+nr,bi.duration=nr,this._validateStyleAst(vr,D),vr.offset=ss,V.styles.push(vr)}),V}visitReference(w,D){return{type:8,animation:ti(this,xe(w.animation),D),options:zt(w.options)}}visitAnimateChild(w,D){return D.depCount++,{type:9,options:zt(w.options)}}visitAnimateRef(w,D){return{type:10,animation:this.visitReference(w.animation,D),options:zt(w.options)}}visitQuery(w,D){const V=D.currentQuerySelector,ie=w.options||{};D.queryCount++,D.currentQuery=w;const[De,qe]=function Qr(J){const w=!!J.split(/\s*,\s*/).find(D=>":self"==D);return w&&(J=J.replace(Gr,"")),J=J.replace(/@\*/g,sn).replace(/@\w+/g,D=>sn+"-"+D.substr(1)).replace(/:animating/g,xn),[J,w]}(w.selector);D.currentQuerySelector=V.length?V+" "+De:De,wn(D.collectedStyles,D.currentQuerySelector,{});const Je=ti(this,xe(w.animation),D);return D.currentQuery=null,D.currentQuerySelector=V,{type:11,selector:De,limit:ie.limit||0,optional:!!ie.optional,includeSelf:qe,animation:Je,originalSelector:w.selector,options:zt(w.options)}}visitStagger(w,D){D.currentQuery||D.errors.push(function Ee(){return new g.vHH(3013,X)}());const V="full"===w.timings?{duration:0,delay:0,easing:"full"}:x(w.timings,D.errors,!0);return{type:12,animation:ti(this,xe(w.animation),D),timings:V,options:null}}}class dt{constructor(w){this.errors=w,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vt(J){return!Array.isArray(J)&&"object"==typeof J}function zt(J){return J?(J=ge(J)).params&&(J.params=function cr(J){return J?ge(J):null}(J.params)):J={},J}function Cn(J,w,D){return{duration:J,delay:w,easing:D}}function Ii(J,w,D,V,ie,De,qe=null,Je=!1){return{type:1,element:J,keyframes:w,preStyleProps:D,postStyleProps:V,duration:ie,delay:De,totalTime:ie+De,easing:qe,subTimeline:Je}}class Pi{constructor(){this._map=new Map}get(w){return this._map.get(w)||[]}append(w,D){let V=this._map.get(w);V||this._map.set(w,V=[]),V.push(...D)}has(w){return this._map.has(w)}clear(){this._map.clear()}}const $i=new RegExp(":enter","g"),wi=new RegExp(":leave","g");function Nr(J,w,D,V,ie,De={},qe={},Je,yt,Pt=[]){return(new ma).buildKeyframes(J,w,D,V,ie,De,qe,Je,yt,Pt)}class ma{buildKeyframes(w,D,V,ie,De,qe,Je,yt,Pt,Dn=[]){Pt=Pt||new Pi;const Pn=new Hi(w,D,Pt,ie,De,Dn,[]);Pn.options=yt,Pn.currentTimeline.setStyles([qe],null,Pn.errors,yt),ti(this,V,Pn);const ai=Pn.timelines.filter(vi=>vi.containsAnimation());if(Object.keys(Je).length){let vi;for(let Qn=ai.length-1;Qn>=0;Qn--){const bi=ai[Qn];if(bi.element===D){vi=bi;break}}vi&&!vi.allowOnlyTimelineStyles()&&vi.setStyles([Je],null,Pn.errors,yt)}return ai.length?ai.map(vi=>vi.buildKeyframes()):[Ii(D,[],[],[],0,0,"",!1)]}visitTrigger(w,D){}visitState(w,D){}visitTransition(w,D){}visitAnimateChild(w,D){const V=D.subInstructions.get(D.element);if(V){const ie=D.createSubContext(w.options),De=D.currentTimeline.currentTime,qe=this._visitSubInstructions(V,ie,ie.options);De!=qe&&D.transformIntoNewTimeline(qe)}D.previousNode=w}visitAnimateRef(w,D){const V=D.createSubContext(w.options);V.transformIntoNewTimeline(),this.visitReference(w.animation,V),D.transformIntoNewTimeline(V.currentTimeline.currentTime),D.previousNode=w}_visitSubInstructions(w,D,V){let De=D.currentTimeline.currentTime;const qe=null!=V.duration?pe(V.duration):null,Je=null!=V.delay?pe(V.delay):null;return 0!==qe&&w.forEach(yt=>{const Pt=D.appendInstructionToTimeline(yt,qe,Je);De=Math.max(De,Pt.duration+Pt.delay)}),De}visitReference(w,D){D.updateOptions(w.options,!0),ti(this,w.animation,D),D.previousNode=w}visitSequence(w,D){const V=D.subContextCount;let ie=D;const De=w.options;if(De&&(De.params||De.delay)&&(ie=D.createSubContext(De),ie.transformIntoNewTimeline(),null!=De.delay)){6==ie.previousNode.type&&(ie.currentTimeline.snapshotCurrentStyles(),ie.previousNode=kr);const qe=pe(De.delay);ie.delayNextStep(qe)}w.steps.length&&(w.steps.forEach(qe=>ti(this,qe,ie)),ie.currentTimeline.applyStylesToKeyframe(),ie.subContextCount>V&&ie.transformIntoNewTimeline()),D.previousNode=w}visitGroup(w,D){const V=[];let ie=D.currentTimeline.currentTime;const De=w.options&&w.options.delay?pe(w.options.delay):0;w.steps.forEach(qe=>{const Je=D.createSubContext(w.options);De&&Je.delayNextStep(De),ti(this,qe,Je),ie=Math.max(ie,Je.currentTimeline.currentTime),V.push(Je.currentTimeline)}),V.forEach(qe=>D.currentTimeline.mergeTimelineCollectedStyles(qe)),D.transformIntoNewTimeline(ie),D.previousNode=w}_visitTiming(w,D){if(w.dynamic){const V=w.strValue;return x(D.params?Ve(V,D.params,D.errors):V,D.errors)}return{duration:w.duration,delay:w.delay,easing:w.easing}}visitAnimate(w,D){const V=D.currentAnimateTimings=this._visitTiming(w.timings,D),ie=D.currentTimeline;V.delay&&(D.incrementTime(V.delay),ie.snapshotCurrentStyles());const De=w.style;5==De.type?this.visitKeyframes(De,D):(D.incrementTime(V.duration),this.visitStyle(De,D),ie.applyStylesToKeyframe()),D.currentAnimateTimings=null,D.previousNode=w}visitStyle(w,D){const V=D.currentTimeline,ie=D.currentAnimateTimings;!ie&&V.getCurrentStyleProperties().length&&V.forwardFrame();const De=ie&&ie.easing||w.easing;w.isEmptyStep?V.applyEmptyStep(De):V.setStyles(w.styles,De,D.errors,D.options),D.previousNode=w}visitKeyframes(w,D){const V=D.currentAnimateTimings,ie=D.currentTimeline.duration,De=V.duration,Je=D.createSubContext().currentTimeline;Je.easing=V.easing,w.styles.forEach(yt=>{Je.forwardTime((yt.offset||0)*De),Je.setStyles(yt.styles,yt.easing,D.errors,D.options),Je.applyStylesToKeyframe()}),D.currentTimeline.mergeTimelineCollectedStyles(Je),D.transformIntoNewTimeline(ie+De),D.previousNode=w}visitQuery(w,D){const V=D.currentTimeline.currentTime,ie=w.options||{},De=ie.delay?pe(ie.delay):0;De&&(6===D.previousNode.type||0==V&&D.currentTimeline.getCurrentStyleProperties().length)&&(D.currentTimeline.snapshotCurrentStyles(),D.previousNode=kr);let qe=V;const Je=D.invokeQuery(w.selector,w.originalSelector,w.limit,w.includeSelf,!!ie.optional,D.errors);D.currentQueryTotal=Je.length;let yt=null;Je.forEach((Pt,Dn)=>{D.currentQueryIndex=Dn;const Pn=D.createSubContext(w.options,Pt);De&&Pn.delayNextStep(De),Pt===D.element&&(yt=Pn.currentTimeline),ti(this,w.animation,Pn),Pn.currentTimeline.applyStylesToKeyframe(),qe=Math.max(qe,Pn.currentTimeline.currentTime)}),D.currentQueryIndex=0,D.currentQueryTotal=0,D.transformIntoNewTimeline(qe),yt&&(D.currentTimeline.mergeTimelineCollectedStyles(yt),D.currentTimeline.snapshotCurrentStyles()),D.previousNode=w}visitStagger(w,D){const V=D.parentContext,ie=D.currentTimeline,De=w.timings,qe=Math.abs(De.duration),Je=qe*(D.currentQueryTotal-1);let yt=qe*D.currentQueryIndex;switch(De.duration<0?"reverse":De.easing){case"reverse":yt=Je-yt;break;case"full":yt=V.currentStaggerTime}const Dn=D.currentTimeline;yt&&Dn.delayNextStep(yt);const Pn=Dn.currentTime;ti(this,w.animation,D),D.previousNode=w,V.currentStaggerTime=ie.currentTime-Pn+(ie.startTime-V.currentTimeline.startTime)}}const kr={};class Hi{constructor(w,D,V,ie,De,qe,Je,yt){this._driver=w,this.element=D,this.subInstructions=V,this._enterClassName=ie,this._leaveClassName=De,this.errors=qe,this.timelines=Je,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=yt||new ps(this._driver,D,0),Je.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(w,D){if(!w)return;const V=w;let ie=this.options;null!=V.duration&&(ie.duration=pe(V.duration)),null!=V.delay&&(ie.delay=pe(V.delay));const De=V.params;if(De){let qe=ie.params;qe||(qe=this.options.params={}),Object.keys(De).forEach(Je=>{(!D||!qe.hasOwnProperty(Je))&&(qe[Je]=Ve(De[Je],qe,this.errors))})}}_copyOptions(){const w={};if(this.options){const D=this.options.params;if(D){const V=w.params={};Object.keys(D).forEach(ie=>{V[ie]=D[ie]})}}return w}createSubContext(w=null,D,V){const ie=D||this.element,De=new Hi(this._driver,ie,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ie,V||0));return De.previousNode=this.previousNode,De.currentAnimateTimings=this.currentAnimateTimings,De.options=this._copyOptions(),De.updateOptions(w),De.currentQueryIndex=this.currentQueryIndex,De.currentQueryTotal=this.currentQueryTotal,De.parentContext=this,this.subContextCount++,De}transformIntoNewTimeline(w){return this.previousNode=kr,this.currentTimeline=this.currentTimeline.fork(this.element,w),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(w,D,V){const ie={duration:null!=D?D:w.duration,delay:this.currentTimeline.currentTime+(null!=V?V:0)+w.delay,easing:""},De=new Do(this._driver,w.element,w.keyframes,w.preStyleProps,w.postStyleProps,ie,w.stretchStartingKeyframe);return this.timelines.push(De),ie}incrementTime(w){this.currentTimeline.forwardTime(this.currentTimeline.duration+w)}delayNextStep(w){w>0&&this.currentTimeline.delayNextStep(w)}invokeQuery(w,D,V,ie,De,qe){let Je=[];if(ie&&Je.push(this.element),w.length>0){w=(w=w.replace($i,"."+this._enterClassName)).replace(wi,"."+this._leaveClassName);let Pt=this._driver.query(this.element,w,1!=V);0!==V&&(Pt=V<0?Pt.slice(Pt.length+V,Pt.length):Pt.slice(0,V)),Je.push(...Pt)}return!De&&0==Je.length&&qe.push(function lt(J){return new g.vHH(3014,X)}()),Je}}class ps{constructor(w,D,V,ie){this._driver=w,this.element=D,this.startTime=V,this._elementTimelineStylesLookup=ie,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(D),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(D,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(w){const D=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||D?(this.forwardTime(this.currentTime+w),D&&this.snapshotCurrentStyles()):this.startTime+=w}fork(w,D){return this.applyStylesToKeyframe(),new ps(this._driver,w,D||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(w){this.applyStylesToKeyframe(),this.duration=w,this._loadKeyframe()}_updateStyle(w,D){this._localTimelineStyles[w]=D,this._globalTimelineStyles[w]=D,this._styleSummary[w]={time:this.currentTime,value:D}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(w){w&&(this._previousKeyframe.easing=w),Object.keys(this._globalTimelineStyles).forEach(D=>{this._backFill[D]=this._globalTimelineStyles[D]||G.l3,this._currentKeyframe[D]=G.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(w,D,V,ie){D&&(this._previousKeyframe.easing=D);const De=ie&&ie.params||{},qe=function Ls(J,w){const D={};let V;return J.forEach(ie=>{"*"===ie?(V=V||Object.keys(w),V.forEach(De=>{D[De]=G.l3})):Ce(ie,!1,D)}),D}(w,this._globalTimelineStyles);Object.keys(qe).forEach(Je=>{const yt=Ve(qe[Je],De,V);this._pendingStyles[Je]=yt,this._localTimelineStyles.hasOwnProperty(Je)||(this._backFill[Je]=this._globalTimelineStyles.hasOwnProperty(Je)?this._globalTimelineStyles[Je]:G.l3),this._updateStyle(Je,yt)})}applyStylesToKeyframe(){const w=this._pendingStyles,D=Object.keys(w);0!=D.length&&(this._pendingStyles={},D.forEach(V=>{this._currentKeyframe[V]=w[V]}),Object.keys(this._localTimelineStyles).forEach(V=>{this._currentKeyframe.hasOwnProperty(V)||(this._currentKeyframe[V]=this._localTimelineStyles[V])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(w=>{const D=this._localTimelineStyles[w];this._pendingStyles[w]=D,this._updateStyle(w,D)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const w=[];for(let D in this._currentKeyframe)w.push(D);return w}mergeTimelineCollectedStyles(w){Object.keys(w._styleSummary).forEach(D=>{const V=this._styleSummary[D],ie=w._styleSummary[D];(!V||ie.time>V.time)&&this._updateStyle(D,ie.value)})}buildKeyframes(){this.applyStylesToKeyframe();const w=new Set,D=new Set,V=1===this._keyframes.size&&0===this.duration;let ie=[];this._keyframes.forEach((Je,yt)=>{const Pt=Ce(Je,!0);Object.keys(Pt).forEach(Dn=>{const Pn=Pt[Dn];Pn==G.k1?w.add(Dn):Pn==G.l3&&D.add(Dn)}),V||(Pt.offset=yt/this.duration),ie.push(Pt)});const De=w.size?wt(w.values()):[],qe=D.size?wt(D.values()):[];if(V){const Je=ie[0],yt=ge(Je);Je.offset=0,yt.offset=1,ie=[Je,yt]}return Ii(this.element,ie,De,qe,this.duration,this.startTime,this.easing,!1)}}class Do extends ps{constructor(w,D,V,ie,De,qe,Je=!1){super(w,D,qe.delay),this.keyframes=V,this.preStyleProps=ie,this.postStyleProps=De,this._stretchStartingKeyframe=Je,this.timings={duration:qe.duration,delay:qe.delay,easing:qe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let w=this.keyframes,{delay:D,duration:V,easing:ie}=this.timings;if(this._stretchStartingKeyframe&&D){const De=[],qe=V+D,Je=D/qe,yt=Ce(w[0],!1);yt.offset=0,De.push(yt);const Pt=Ce(w[0],!1);Pt.offset=Zs(Je),De.push(Pt);const Dn=w.length-1;for(let Pn=1;Pn<=Dn;Pn++){let ai=Ce(w[Pn],!1);ai.offset=Zs((D+ai.offset*V)/qe),De.push(ai)}V=qe,D=0,ie="",w=De}return Ii(this.element,w,this.preStyleProps,this.postStyleProps,V,D,ie,!0)}}function Zs(J,w=3){const D=Math.pow(10,w-1);return Math.round(J*D)/D}class gs{}class Ys extends gs{normalizePropertyName(w,D){return cn(w)}normalizeStyleValue(w,D,V,ie){let De="";const qe=V.toString().trim();if(ms[D]&&0!==V&&"0"!==V)if("number"==typeof V)De="px";else{const Je=V.match(/^[+-]?[\d\.]+([a-z]*)$/);Je&&0==Je[1].length&&ie.push(function Se(J,w){return new g.vHH(3005,X)}())}return qe+De}}const ms=(()=>function ls(J){const w={};return J.forEach(D=>w[D]=!0),w}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zo(J,w,D,V,ie,De,qe,Je,yt,Pt,Dn,Pn,ai){return{type:0,element:J,triggerName:w,isRemovalTransition:ie,fromState:D,fromStyles:De,toState:V,toStyles:qe,timelines:Je,queriedElements:yt,preStyleProps:Pt,postStyleProps:Dn,totalTime:Pn,errors:ai}}const _s={};class Qs{constructor(w,D,V){this._triggerName=w,this.ast=D,this._stateStyles=V}match(w,D,V,ie){return function Ms(J,w,D,V,ie){return J.some(De=>De(w,D,V,ie))}(this.ast.matchers,w,D,V,ie)}buildStyles(w,D,V){const ie=this._stateStyles["*"],De=this._stateStyles[w],qe=ie?ie.buildStyles(D,V):{};return De?De.buildStyles(D,V):qe}build(w,D,V,ie,De,qe,Je,yt,Pt,Dn){const Pn=[],ai=this.ast.options&&this.ast.options.params||_s,Qn=this.buildStyles(V,Je&&Je.params||_s,Pn),bi=yt&&yt.params||_s,tr=this.buildStyles(ie,bi,Pn),vr=new Set,hr=new Map,ss=new Map,nr="void"===ie,Hs={params:Object.assign(Object.assign({},ai),bi)},Xi=Dn?[]:Nr(w,D,this.ast.animation,De,qe,Qn,tr,Hs,Pt,Pn);let Br=0;if(Xi.forEach(To=>{Br=Math.max(To.duration+To.delay,Br)}),Pn.length)return zo(D,this._triggerName,V,ie,nr,Qn,tr,[],[],hr,ss,Br,Pn);Xi.forEach(To=>{const js=To.element,yo=wn(hr,js,{});To.preStyleProps.forEach($s=>yo[$s]=!0);const Gs=wn(ss,js,{});To.postStyleProps.forEach($s=>Gs[$s]=!0),js!==D&&vr.add(js)});const qr=wt(vr.values());return zo(D,this._triggerName,V,ie,nr,Qn,tr,Xi,qr,hr,ss,Br)}}class cs{constructor(w,D,V){this.styles=w,this.defaultParams=D,this.normalizer=V}buildStyles(w,D){const V={},ie=ge(this.defaultParams);return Object.keys(w).forEach(De=>{const qe=w[De];null!=qe&&(ie[De]=qe)}),this.styles.styles.forEach(De=>{if("string"!=typeof De){const qe=De;Object.keys(qe).forEach(Je=>{let yt=qe[Je];yt.length>1&&(yt=Ve(yt,ie,D));const Pt=this.normalizer.normalizePropertyName(Je,D);yt=this.normalizer.normalizeStyleValue(Je,Pt,yt,D),V[Pt]=yt})}}),V}}class Hr{constructor(w,D,V){this.name=w,this.ast=D,this._normalizer=V,this.transitionFactories=[],this.states={},D.states.forEach(ie=>{this.states[ie.name]=new cs(ie.style,ie.options&&ie.options.params||{},V)}),$r(this.states,"true","1"),$r(this.states,"false","0"),D.transitions.forEach(ie=>{this.transitionFactories.push(new Qs(w,ie,this.states))}),this.fallbackTransition=function Wo(J,w,D){return new Qs(J,{type:1,animation:{type:2,steps:[],options:null},matchers:[(qe,Je)=>!0],options:null,queryCount:0,depCount:0},w)}(w,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(w,D,V,ie){return this.transitionFactories.find(qe=>qe.match(w,D,V,ie))||null}matchStyles(w,D,V){return this.fallbackTransition.buildStyles(w,D,V)}}function $r(J,w,D){J.hasOwnProperty(w)?J.hasOwnProperty(D)||(J[D]=J[w]):J.hasOwnProperty(D)&&(J[w]=J[D])}const Ir=new Pi;class Es{constructor(w,D,V){this.bodyNode=w,this._driver=D,this._normalizer=V,this._animations={},this._playersById={},this.players=[]}register(w,D){const V=[],De=fs(this._driver,D,V,[]);if(V.length)throw function Dt(J){return new g.vHH(3503,X)}();this._animations[w]=De}_buildPlayer(w,D,V){const ie=w.element,De=bn(0,this._normalizer,0,w.keyframes,D,V);return this._driver.animate(ie,De,w.duration,w.delay,w.easing,[],!0)}create(w,D,V={}){const ie=[],De=this._animations[w];let qe;const Je=new Map;if(De?(qe=Nr(this._driver,D,De,Un,Xn,{},{},V,Ir,ie),qe.forEach(Dn=>{const Pn=wn(Je,Dn.element,{});Dn.postStyleProps.forEach(ai=>Pn[ai]=null)})):(ie.push(function ct(){return new g.vHH(3300,X)}()),qe=[]),ie.length)throw function mn(J){return new g.vHH(3504,X)}();Je.forEach((Dn,Pn)=>{Object.keys(Dn).forEach(ai=>{Dn[ai]=this._driver.computeStyle(Pn,ai,G.l3)})});const Pt=Vt(qe.map(Dn=>{const Pn=Je.get(Dn.element);return this._buildPlayer(Dn,{},Pn)}));return this._playersById[w]=Pt,Pt.onDestroy(()=>this.destroy(w)),this.players.push(Pt),Pt}destroy(w){const D=this._getPlayer(w);D.destroy(),delete this._playersById[w];const V=this.players.indexOf(D);V>=0&&this.players.splice(V,1)}_getPlayer(w){const D=this._playersById[w];if(!D)throw function en(J){return new g.vHH(3301,X)}();return D}listen(w,D,V,ie){const De=Kn(D,"","","");return Rn(this._getPlayer(w),V,De,ie),()=>{}}command(w,D,V,ie){if("register"==V)return void this.register(w,ie[0]);if("create"==V)return void this.create(w,D,ie[0]||{});const De=this._getPlayer(w);switch(V){case"play":De.play();break;case"pause":De.pause();break;case"reset":De.reset();break;case"restart":De.restart();break;case"finish":De.finish();break;case"init":De.init();break;case"setPosition":De.setPosition(parseFloat(ie[0]));break;case"destroy":this.destroy(w)}}}const zr="ng-animate-queued",Wr="ng-animate-disabled",Li=[],Cs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Os={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_r="__ng_removed";class eo{constructor(w,D=""){this.namespaceId=D;const V=w&&w.hasOwnProperty("value");if(this.value=function z(J){return null!=J?J:null}(V?w.value:w),V){const De=ge(w);delete De.value,this.options=De}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(w){const D=w.params;if(D){const V=this.options.params;Object.keys(D).forEach(ie=>{null==V[ie]&&(V[ie]=D[ie])})}}}const Bs="void",Vs=new eo(Bs);class us{constructor(w,D,V){this.id=w,this.hostElement=D,this._engine=V,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+w,Bt(D,this._hostClassName)}listen(w,D,V,ie){if(!this._triggers.hasOwnProperty(D))throw function An(J,w){return new g.vHH(3302,X)}();if(null==V||0==V.length)throw function Ut(J){return new g.vHH(3303,X)}();if(!function $(J){return"start"==J||"done"==J}(V))throw function jt(J,w){return new g.vHH(3400,X)}();const De=wn(this._elementListeners,w,[]),qe={name:D,phase:V,callback:ie};De.push(qe);const Je=wn(this._engine.statesByElement,w,{});return Je.hasOwnProperty(D)||(Bt(w,Gn),Bt(w,Gn+"-"+D),Je[D]=Vs),()=>{this._engine.afterFlush(()=>{const yt=De.indexOf(qe);yt>=0&&De.splice(yt,1),this._triggers[D]||delete Je[D]})}}register(w,D){return!this._triggers[w]&&(this._triggers[w]=D,!0)}_getTrigger(w){const D=this._triggers[w];if(!D)throw function un(J){return new g.vHH(3401,X)}();return D}trigger(w,D,V,ie=!0){const De=this._getTrigger(D),qe=new bs(this.id,D,w);let Je=this._engine.statesByElement.get(w);Je||(Bt(w,Gn),Bt(w,Gn+"-"+D),this._engine.statesByElement.set(w,Je={}));let yt=Je[D];const Pt=new eo(V,this.id);if(!(V&&V.hasOwnProperty("value"))&&yt&&Pt.absorbOptions(yt.options),Je[D]=Pt,yt||(yt=Vs),Pt.value!==Bs&&yt.value===Pt.value){if(!function fi(J,w){const D=Object.keys(J),V=Object.keys(w);if(D.length!=V.length)return!1;for(let ie=0;ie<D.length;ie++){const De=D[ie];if(!w.hasOwnProperty(De)||J[De]!==w[De])return!1}return!0}(yt.params,Pt.params)){const bi=[],tr=De.matchStyles(yt.value,yt.params,bi),vr=De.matchStyles(Pt.value,Pt.params,bi);bi.length?this._engine.reportError(bi):this._engine.afterFlush(()=>{_e(w,tr),ft(w,vr)})}return}const ai=wn(this._engine.playersByElement,w,[]);ai.forEach(bi=>{bi.namespaceId==this.id&&bi.triggerName==D&&bi.queued&&bi.destroy()});let vi=De.matchTransition(yt.value,Pt.value,w,Pt.params),Qn=!1;if(!vi){if(!ie)return;vi=De.fallbackTransition,Qn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:w,triggerName:D,transition:vi,fromState:yt,toState:Pt,player:qe,isFallbackTransition:Qn}),Qn||(Bt(w,zr),qe.onStart(()=>{qt(w,zr)})),qe.onDone(()=>{let bi=this.players.indexOf(qe);bi>=0&&this.players.splice(bi,1);const tr=this._engine.playersByElement.get(w);if(tr){let vr=tr.indexOf(qe);vr>=0&&tr.splice(vr,1)}}),this.players.push(qe),ai.push(qe),qe}deregister(w){delete this._triggers[w],this._engine.statesByElement.forEach((D,V)=>{delete D[w]}),this._elementListeners.forEach((D,V)=>{this._elementListeners.set(V,D.filter(ie=>ie.name!=w))})}clearElementCache(w){this._engine.statesByElement.delete(w),this._elementListeners.delete(w);const D=this._engine.playersByElement.get(w);D&&(D.forEach(V=>V.destroy()),this._engine.playersByElement.delete(w))}_signalRemovalForInnerTriggers(w,D){const V=this._engine.driver.query(w,sn,!0);V.forEach(ie=>{if(ie[_r])return;const De=this._engine.fetchNamespacesByElement(ie);De.size?De.forEach(qe=>qe.triggerLeaveAnimation(ie,D,!1,!0)):this.clearElementCache(ie)}),this._engine.afterFlushAnimationsDone(()=>V.forEach(ie=>this.clearElementCache(ie)))}triggerLeaveAnimation(w,D,V,ie){const De=this._engine.statesByElement.get(w),qe=new Map;if(De){const Je=[];if(Object.keys(De).forEach(yt=>{if(qe.set(yt,De[yt].value),this._triggers[yt]){const Pt=this.trigger(w,yt,Bs,ie);Pt&&Je.push(Pt)}}),Je.length)return this._engine.markElementAsRemoved(this.id,w,!0,D,qe),V&&Vt(Je).onDone(()=>this._engine.processLeaveNode(w)),!0}return!1}prepareLeaveAnimationListeners(w){const D=this._elementListeners.get(w),V=this._engine.statesByElement.get(w);if(D&&V){const ie=new Set;D.forEach(De=>{const qe=De.name;if(ie.has(qe))return;ie.add(qe);const yt=this._triggers[qe].fallbackTransition,Pt=V[qe]||Vs,Dn=new eo(Bs),Pn=new bs(this.id,qe,w);this._engine.totalQueuedPlayers++,this._queue.push({element:w,triggerName:qe,transition:yt,fromState:Pt,toState:Dn,player:Pn,isFallbackTransition:!0})})}}removeNode(w,D){const V=this._engine;if(w.childElementCount&&this._signalRemovalForInnerTriggers(w,D),this.triggerLeaveAnimation(w,D,!0))return;let ie=!1;if(V.totalAnimations){const De=V.players.length?V.playersByQueriedElement.get(w):[];if(De&&De.length)ie=!0;else{let qe=w;for(;qe=qe.parentNode;)if(V.statesByElement.get(qe)){ie=!0;break}}}if(this.prepareLeaveAnimationListeners(w),ie)V.markElementAsRemoved(this.id,w,!1,D);else{const De=w[_r];(!De||De===Cs)&&(V.afterFlush(()=>this.clearElementCache(w)),V.destroyInnerAnimations(w),V._onRemovalComplete(w,D))}}insertNode(w,D){Bt(w,this._hostClassName)}drainQueuedTransitions(w){const D=[];return this._queue.forEach(V=>{const ie=V.player;if(ie.destroyed)return;const De=V.element,qe=this._elementListeners.get(De);qe&&qe.forEach(Je=>{if(Je.name==V.triggerName){const yt=Kn(De,V.triggerName,V.fromState.value,V.toState.value);yt._data=w,Rn(V.player,Je.phase,yt,Je.callback)}}),ie.markedForDestroy?this._engine.afterFlush(()=>{ie.destroy()}):D.push(V)}),this._queue=[],D.sort((V,ie)=>{const De=V.transition.ast.depCount,qe=ie.transition.ast.depCount;return 0==De||0==qe?De-qe:this._engine.driver.containsElement(V.element,ie.element)?1:-1})}destroy(w){this.players.forEach(D=>D.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,w)}elementContainsData(w){let D=!1;return this._elementListeners.has(w)&&(D=!0),D=!!this._queue.find(V=>V.element===w)||D,D}}class Us{constructor(w,D,V){this.bodyNode=w,this.driver=D,this._normalizer=V,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ie,De)=>{}}_onRemovalComplete(w,D){this.onRemovalComplete(w,D)}get queuedPlayers(){const w=[];return this._namespaceList.forEach(D=>{D.players.forEach(V=>{V.queued&&w.push(V)})}),w}createNamespace(w,D){const V=new us(w,D,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,D)?this._balanceNamespaceList(V,D):(this.newHostElements.set(D,V),this.collectEnterElement(D)),this._namespaceLookup[w]=V}_balanceNamespaceList(w,D){const V=this._namespaceList,ie=this.namespacesByHostElement,De=V.length-1;if(De>=0){let qe=!1;if(void 0!==this.driver.getParentElement){let Je=this.driver.getParentElement(D);for(;Je;){const yt=ie.get(Je);if(yt){const Pt=V.indexOf(yt);V.splice(Pt+1,0,w),qe=!0;break}Je=this.driver.getParentElement(Je)}}else for(let Je=De;Je>=0;Je--)if(this.driver.containsElement(V[Je].hostElement,D)){V.splice(Je+1,0,w),qe=!0;break}qe||V.unshift(w)}else V.push(w);return ie.set(D,w),w}register(w,D){let V=this._namespaceLookup[w];return V||(V=this.createNamespace(w,D)),V}registerTrigger(w,D,V){let ie=this._namespaceLookup[w];ie&&ie.register(D,V)&&this.totalAnimations++}destroy(w,D){if(!w)return;const V=this._fetchNamespace(w);this.afterFlush(()=>{this.namespacesByHostElement.delete(V.hostElement),delete this._namespaceLookup[w];const ie=this._namespaceList.indexOf(V);ie>=0&&this._namespaceList.splice(ie,1)}),this.afterFlushAnimationsDone(()=>V.destroy(D))}_fetchNamespace(w){return this._namespaceLookup[w]}fetchNamespacesByElement(w){const D=new Set,V=this.statesByElement.get(w);if(V){const ie=Object.keys(V);for(let De=0;De<ie.length;De++){const qe=V[ie[De]].namespaceId;if(qe){const Je=this._fetchNamespace(qe);Je&&D.add(Je)}}}return D}trigger(w,D,V,ie){if(re(D)){const De=this._fetchNamespace(w);if(De)return De.trigger(D,V,ie),!0}return!1}insertNode(w,D,V,ie){if(!re(D))return;const De=D[_r];if(De&&De.setForRemoval){De.setForRemoval=!1,De.setForMove=!0;const qe=this.collectedLeaveElements.indexOf(D);qe>=0&&this.collectedLeaveElements.splice(qe,1)}if(w){const qe=this._fetchNamespace(w);qe&&qe.insertNode(D,V)}ie&&this.collectEnterElement(D)}collectEnterElement(w){this.collectedEnterElements.push(w)}markElementAsDisabled(w,D){D?this.disabledNodes.has(w)||(this.disabledNodes.add(w),Bt(w,Wr)):this.disabledNodes.has(w)&&(this.disabledNodes.delete(w),qt(w,Wr))}removeNode(w,D,V,ie){if(re(D)){const De=w?this._fetchNamespace(w):null;if(De?De.removeNode(D,ie):this.markElementAsRemoved(w,D,!1,ie),V){const qe=this.namespacesByHostElement.get(D);qe&&qe.id!==w&&qe.removeNode(D,ie)}}else this._onRemovalComplete(D,ie)}markElementAsRemoved(w,D,V,ie,De){this.collectedLeaveElements.push(D),D[_r]={namespaceId:w,setForRemoval:ie,hasAnimation:V,removedBeforeQueried:!1,previousTriggersValues:De}}listen(w,D,V,ie,De){return re(D)?this._fetchNamespace(w).listen(D,V,ie,De):()=>{}}_buildInstruction(w,D,V,ie,De){return w.transition.build(this.driver,w.element,w.fromState.value,w.toState.value,V,ie,w.fromState.options,w.toState.options,D,De)}destroyInnerAnimations(w){let D=this.driver.query(w,sn,!0);D.forEach(V=>this.destroyActiveAnimationsForElement(V)),0!=this.playersByQueriedElement.size&&(D=this.driver.query(w,xn,!0),D.forEach(V=>this.finishActiveQueriedAnimationOnElement(V)))}destroyActiveAnimationsForElement(w){const D=this.playersByElement.get(w);D&&D.forEach(V=>{V.queued?V.markedForDestroy=!0:V.destroy()})}finishActiveQueriedAnimationOnElement(w){const D=this.playersByQueriedElement.get(w);D&&D.forEach(V=>V.finish())}whenRenderingDone(){return new Promise(w=>{if(this.players.length)return Vt(this.players).onDone(()=>w());w()})}processLeaveNode(w){var D;const V=w[_r];if(V&&V.setForRemoval){if(w[_r]=Cs,V.namespaceId){this.destroyInnerAnimations(w);const ie=this._fetchNamespace(V.namespaceId);ie&&ie.clearElementCache(w)}this._onRemovalComplete(w,V.setForRemoval)}(null===(D=w.classList)||void 0===D?void 0:D.contains(Wr))&&this.markElementAsDisabled(w,!1),this.driver.query(w,".ng-animate-disabled",!0).forEach(ie=>{this.markElementAsDisabled(ie,!1)})}flush(w=-1){let D=[];if(this.newHostElements.size&&(this.newHostElements.forEach((V,ie)=>this._balanceNamespaceList(V,ie)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let V=0;V<this.collectedEnterElements.length;V++)Bt(this.collectedEnterElements[V],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const V=[];try{D=this._flushAnimations(V,w)}finally{for(let ie=0;ie<V.length;ie++)V[ie]()}}else for(let V=0;V<this.collectedLeaveElements.length;V++)this.processLeaveNode(this.collectedLeaveElements[V]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(V=>V()),this._flushFns=[],this._whenQuietFns.length){const V=this._whenQuietFns;this._whenQuietFns=[],D.length?Vt(D).onDone(()=>{V.forEach(ie=>ie())}):V.forEach(ie=>ie())}}reportError(w){throw function dn(J){return new g.vHH(3402,X)}()}_flushAnimations(w,D){const V=new Pi,ie=[],De=new Map,qe=[],Je=new Map,yt=new Map,Pt=new Map,Dn=new Set;this.disabledNodes.forEach(_n=>{Dn.add(_n);const jn=this.driver.query(_n,".ng-animate-queued",!0);for(let ei=0;ei<jn.length;ei++)Dn.add(jn[ei])});const Pn=this.bodyNode,ai=Array.from(this.statesByElement.keys()),vi=Tt(ai,this.collectedEnterElements),Qn=new Map;let bi=0;vi.forEach((_n,jn)=>{const ei=Un+bi++;Qn.set(jn,ei),_n.forEach(ci=>Bt(ci,ei))});const tr=[],vr=new Set,hr=new Set;for(let _n=0;_n<this.collectedLeaveElements.length;_n++){const jn=this.collectedLeaveElements[_n],ei=jn[_r];ei&&ei.setForRemoval&&(tr.push(jn),vr.add(jn),ei.hasAnimation?this.driver.query(jn,".ng-star-inserted",!0).forEach(ci=>vr.add(ci)):hr.add(jn))}const ss=new Map,nr=Tt(ai,Array.from(vr));nr.forEach((_n,jn)=>{const ei=Xn+bi++;ss.set(jn,ei),_n.forEach(ci=>Bt(ci,ei))}),w.push(()=>{vi.forEach((_n,jn)=>{const ei=Qn.get(jn);_n.forEach(ci=>qt(ci,ei))}),nr.forEach((_n,jn)=>{const ei=ss.get(jn);_n.forEach(ci=>qt(ci,ei))}),tr.forEach(_n=>{this.processLeaveNode(_n)})});const Hs=[],Xi=[];for(let _n=this._namespaceList.length-1;_n>=0;_n--)this._namespaceList[_n].drainQueuedTransitions(D).forEach(ei=>{const ci=ei.player,fr=ei.element;if(Hs.push(ci),this.collectedEnterElements.length){const Zt=fr[_r];if(Zt&&Zt.setForMove){if(Zt.previousTriggersValues&&Zt.previousTriggersValues.has(ei.triggerName)){const zi=Zt.previousTriggersValues.get(ei.triggerName),Rr=this.statesByElement.get(ei.element);Rr&&Rr[ei.triggerName]&&(Rr[ei.triggerName].value=zi)}return void ci.destroy()}}const ts=!Pn||!this.driver.containsElement(Pn,fr),or=ss.get(fr),Or=Qn.get(fr),er=this._buildInstruction(ei,V,Or,or,ts);if(er.errors&&er.errors.length)return void Xi.push(er);if(ts)return ci.onStart(()=>_e(fr,er.fromStyles)),ci.onDestroy(()=>ft(fr,er.toStyles)),void ie.push(ci);if(ei.isFallbackTransition)return ci.onStart(()=>_e(fr,er.fromStyles)),ci.onDestroy(()=>ft(fr,er.toStyles)),void ie.push(ci);const ia=[];er.timelines.forEach(Zt=>{Zt.stretchStartingKeyframe=!0,this.disabledNodes.has(Zt.element)||ia.push(Zt)}),er.timelines=ia,V.append(fr,er.timelines),qe.push({instruction:er,player:ci,element:fr}),er.queriedElements.forEach(Zt=>wn(Je,Zt,[]).push(ci)),er.preStyleProps.forEach((Zt,zi)=>{const Rr=Object.keys(Zt);if(Rr.length){let no=yt.get(zi);no||yt.set(zi,no=new Set),Rr.forEach(Tn=>no.add(Tn))}}),er.postStyleProps.forEach((Zt,zi)=>{const Rr=Object.keys(Zt);let no=Pt.get(zi);no||Pt.set(zi,no=new Set),Rr.forEach(Tn=>no.add(Tn))})});if(Xi.length){const _n=[];Xi.forEach(jn=>{_n.push(function It(J,w){return new g.vHH(3505,X)}())}),Hs.forEach(jn=>jn.destroy()),this.reportError(_n)}const Br=new Map,qr=new Map;qe.forEach(_n=>{const jn=_n.element;V.has(jn)&&(qr.set(jn,jn),this._beforeAnimationBuild(_n.player.namespaceId,_n.instruction,Br))}),ie.forEach(_n=>{const jn=_n.element;this._getPreviousPlayers(jn,!1,_n.namespaceId,_n.triggerName,null).forEach(ci=>{wn(Br,jn,[]).push(ci),ci.destroy()})});const To=tr.filter(_n=>Cr(_n,yt,Pt)),js=new Map;et(js,this.driver,hr,Pt,G.l3).forEach(_n=>{Cr(_n,yt,Pt)&&To.push(_n)});const Gs=new Map;vi.forEach((_n,jn)=>{et(Gs,this.driver,new Set(_n),yt,G.k1)}),To.forEach(_n=>{const jn=js.get(_n),ei=Gs.get(_n);js.set(_n,Object.assign(Object.assign({},jn),ei))});const $s=[],lo=[],es={};qe.forEach(_n=>{const{element:jn,player:ei,instruction:ci}=_n;if(V.has(jn)){if(Dn.has(jn))return ei.onDestroy(()=>ft(jn,ci.toStyles)),ei.disabled=!0,ei.overrideTotalTime(ci.totalTime),void ie.push(ei);let fr=es;if(qr.size>1){let or=jn;const Or=[];for(;or=or.parentNode;){const er=qr.get(or);if(er){fr=er;break}Or.push(or)}Or.forEach(er=>qr.set(er,fr))}const ts=this._buildAnimation(ei.namespaceId,ci,Br,De,Gs,js);if(ei.setRealPlayer(ts),fr===es)$s.push(ei);else{const or=this.playersByElement.get(fr);or&&or.length&&(ei.parentPlayer=Vt(or)),ie.push(ei)}}else _e(jn,ci.fromStyles),ei.onDestroy(()=>ft(jn,ci.toStyles)),lo.push(ei),Dn.has(jn)&&ie.push(ei)}),lo.forEach(_n=>{const jn=De.get(_n.element);if(jn&&jn.length){const ei=Vt(jn);_n.setRealPlayer(ei)}}),ie.forEach(_n=>{_n.parentPlayer?_n.syncPlayerEvents(_n.parentPlayer):_n.destroy()});for(let _n=0;_n<tr.length;_n++){const jn=tr[_n],ei=jn[_r];if(qt(jn,Xn),ei&&ei.hasAnimation)continue;let ci=[];if(Je.size){let ts=Je.get(jn);ts&&ts.length&&ci.push(...ts);let or=this.driver.query(jn,xn,!0);for(let Or=0;Or<or.length;Or++){let er=Je.get(or[Or]);er&&er.length&&ci.push(...er)}}const fr=ci.filter(ts=>!ts.destroyed);fr.length?qi(this,jn,fr):this.processLeaveNode(jn)}return tr.length=0,$s.forEach(_n=>{this.players.push(_n),_n.onDone(()=>{_n.destroy();const jn=this.players.indexOf(_n);this.players.splice(jn,1)}),_n.play()}),$s}elementContainsData(w,D){let V=!1;const ie=D[_r];return ie&&ie.setForRemoval&&(V=!0),this.playersByElement.has(D)&&(V=!0),this.playersByQueriedElement.has(D)&&(V=!0),this.statesByElement.has(D)&&(V=!0),this._fetchNamespace(w).elementContainsData(D)||V}afterFlush(w){this._flushFns.push(w)}afterFlushAnimationsDone(w){this._whenQuietFns.push(w)}_getPreviousPlayers(w,D,V,ie,De){let qe=[];if(D){const Je=this.playersByQueriedElement.get(w);Je&&(qe=Je)}else{const Je=this.playersByElement.get(w);if(Je){const yt=!De||De==Bs;Je.forEach(Pt=>{Pt.queued||!yt&&Pt.triggerName!=ie||qe.push(Pt)})}}return(V||ie)&&(qe=qe.filter(Je=>!(V&&V!=Je.namespaceId||ie&&ie!=Je.triggerName))),qe}_beforeAnimationBuild(w,D,V){const De=D.element,qe=D.isRemovalTransition?void 0:w,Je=D.isRemovalTransition?void 0:D.triggerName;for(const yt of D.timelines){const Pt=yt.element,Dn=Pt!==De,Pn=wn(V,Pt,[]);this._getPreviousPlayers(Pt,Dn,qe,Je,D.toState).forEach(vi=>{const Qn=vi.getRealPlayer();Qn.beforeDestroy&&Qn.beforeDestroy(),vi.destroy(),Pn.push(vi)})}_e(De,D.fromStyles)}_buildAnimation(w,D,V,ie,De,qe){const Je=D.triggerName,yt=D.element,Pt=[],Dn=new Set,Pn=new Set,ai=D.timelines.map(Qn=>{const bi=Qn.element;Dn.add(bi);const tr=bi[_r];if(tr&&tr.removedBeforeQueried)return new G.ZN(Qn.duration,Qn.delay);const vr=bi!==yt,hr=function Si(J){const w=[];return yi(J,w),w}((V.get(bi)||Li).map(Br=>Br.getRealPlayer())).filter(Br=>!!Br.element&&Br.element===bi),ss=De.get(bi),nr=qe.get(bi),Hs=bn(0,this._normalizer,0,Qn.keyframes,ss,nr),Xi=this._buildPlayer(Qn,Hs,hr);if(Qn.subTimeline&&ie&&Pn.add(bi),vr){const Br=new bs(w,Je,bi);Br.setRealPlayer(Xi),Pt.push(Br)}return Xi});Pt.forEach(Qn=>{wn(this.playersByQueriedElement,Qn.element,[]).push(Qn),Qn.onDone(()=>function li(J,w,D){let V;if(J instanceof Map){if(V=J.get(w),V){if(V.length){const ie=V.indexOf(D);V.splice(ie,1)}0==V.length&&J.delete(w)}}else if(V=J[w],V){if(V.length){const ie=V.indexOf(D);V.splice(ie,1)}0==V.length&&delete J[w]}return V}(this.playersByQueriedElement,Qn.element,Qn))}),Dn.forEach(Qn=>Bt(Qn,gi));const vi=Vt(ai);return vi.onDestroy(()=>{Dn.forEach(Qn=>qt(Qn,gi)),ft(yt,D.toStyles)}),Pn.forEach(Qn=>{wn(ie,Qn,[]).push(vi)}),vi}_buildPlayer(w,D,V){return D.length>0?this.driver.animate(w.element,D,w.duration,w.delay,w.easing,V):new G.ZN(w.duration,w.delay)}}class bs{constructor(w,D,V){this.namespaceId=w,this.triggerName=D,this.element=V,this._player=new G.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(w){this._containsRealPlayer||(this._player=w,Object.keys(this._queuedCallbacks).forEach(D=>{this._queuedCallbacks[D].forEach(V=>Rn(w,D,void 0,V))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(w.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(w){this.totalTime=w}syncPlayerEvents(w){const D=this._player;D.triggerCallback&&w.onStart(()=>D.triggerCallback("start")),w.onDone(()=>this.finish()),w.onDestroy(()=>this.destroy())}_queueEvent(w,D){wn(this._queuedCallbacks,w,[]).push(D)}onDone(w){this.queued&&this._queueEvent("done",w),this._player.onDone(w)}onStart(w){this.queued&&this._queueEvent("start",w),this._player.onStart(w)}onDestroy(w){this.queued&&this._queueEvent("destroy",w),this._player.onDestroy(w)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(w){this.queued||this._player.setPosition(w)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(w){const D=this._player;D.triggerCallback&&D.triggerCallback(w)}}function re(J){return J&&1===J.nodeType}function fe(J,w){const D=J.style.display;return J.style.display=null!=w?w:"none",D}function et(J,w,D,V,ie){const De=[];D.forEach(yt=>De.push(fe(yt)));const qe=[];V.forEach((yt,Pt)=>{const Dn={};yt.forEach(Pn=>{const ai=Dn[Pn]=w.computeStyle(Pt,Pn,ie);(!ai||0==ai.length)&&(Pt[_r]=Os,qe.push(Pt))}),J.set(Pt,Dn)});let Je=0;return D.forEach(yt=>fe(yt,De[Je++])),qe}function Tt(J,w){const D=new Map;if(J.forEach(Je=>D.set(Je,[])),0==w.length)return D;const ie=new Set(w),De=new Map;function qe(Je){if(!Je)return 1;let yt=De.get(Je);if(yt)return yt;const Pt=Je.parentNode;return yt=D.has(Pt)?Pt:ie.has(Pt)?1:qe(Pt),De.set(Je,yt),yt}return w.forEach(Je=>{const yt=qe(Je);1!==yt&&D.get(yt).push(Je)}),D}function Bt(J,w){var D;null===(D=J.classList)||void 0===D||D.add(w)}function qt(J,w){var D;null===(D=J.classList)||void 0===D||D.remove(w)}function qi(J,w,D){Vt(D).onDone(()=>J.processLeaveNode(w))}function yi(J,w){for(let D=0;D<J.length;D++){const V=J[D];V instanceof G.ZE?yi(V.players,w):w.push(V)}}function Cr(J,w,D){const V=D.get(J);if(!V)return!1;let ie=w.get(J);return ie?V.forEach(De=>ie.add(De)):w.set(J,V),D.delete(J),!0}class Fi{constructor(w,D,V){this.bodyNode=w,this._driver=D,this._normalizer=V,this._triggerCache={},this.onRemovalComplete=(ie,De)=>{},this._transitionEngine=new Us(w,D,V),this._timelineEngine=new Es(w,D,V),this._transitionEngine.onRemovalComplete=(ie,De)=>this.onRemovalComplete(ie,De)}registerTrigger(w,D,V,ie,De){const qe=w+"-"+ie;let Je=this._triggerCache[qe];if(!Je){const yt=[],Dn=fs(this._driver,De,yt,[]);if(yt.length)throw function gt(J,w){return new g.vHH(3404,X)}();Je=function ys(J,w,D){return new Hr(J,w,D)}(ie,Dn,this._normalizer),this._triggerCache[qe]=Je}this._transitionEngine.registerTrigger(D,ie,Je)}register(w,D){this._transitionEngine.register(w,D)}destroy(w,D){this._transitionEngine.destroy(w,D)}onInsert(w,D,V,ie){this._transitionEngine.insertNode(w,D,V,ie)}onRemove(w,D,V,ie){this._transitionEngine.removeNode(w,D,ie||!1,V)}disableAnimations(w,D){this._transitionEngine.markElementAsDisabled(w,D)}process(w,D,V,ie){if("@"==V.charAt(0)){const[De,qe]=Zn(V);this._timelineEngine.command(De,D,qe,ie)}else this._transitionEngine.trigger(w,D,V,ie)}listen(w,D,V,ie,De){if("@"==V.charAt(0)){const[qe,Je]=Zn(V);return this._timelineEngine.listen(qe,D,Je,De)}return this._transitionEngine.listen(w,D,V,ie,De)}flush(w=-1){this._transitionEngine.flush(w)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let q=(()=>{class J{constructor(D,V,ie){this._element=D,this._startStyles=V,this._endStyles=ie,this._state=0;let De=J.initialStylesByElement.get(D);De||J.initialStylesByElement.set(D,De={}),this._initialStyles=De}start(){this._state<1&&(this._startStyles&&ft(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ft(this._element,this._initialStyles),this._endStyles&&(ft(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(J.initialStylesByElement.delete(this._element),this._startStyles&&(_e(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_e(this._element,this._endStyles),this._endStyles=null),ft(this._element,this._initialStyles),this._state=3)}}return J.initialStylesByElement=new WeakMap,J})();function H(J){let w=null;const D=Object.keys(J);for(let V=0;V<D.length;V++){const ie=D[V];F(ie)&&(w=w||{},w[ie]=J[ie])}return w}function F(J){return"display"===J||"position"===J}class he{constructor(w,D,V,ie){this.element=w,this.keyframes=D,this.options=V,this._specialStyles=ie,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=V.duration,this._delay=V.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(w=>w()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const w=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,w,this.options),this._finalKeyframe=w.length?w[w.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(w,D,V){return w.animate(D,V)}onStart(w){this._onStartFns.push(w)}onDone(w){this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(w=>w()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}setPosition(w){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=w*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const w={};if(this.hasStarted()){const D=this._finalKeyframe;Object.keys(D).forEach(V=>{"offset"!=V&&(w[V]=this._finished?D[V]:rr(this.element,V))})}this.currentSnapshot=w}triggerCallback(w){const D="start"==w?this._onStartFns:this._onDoneFns;D.forEach(V=>V()),D.length=0}}class Ft{validateStyleProperty(w){return ii(w)}matchesElement(w,D){return!1}containsElement(w,D){return ht(w,D)}getParentElement(w){return Vn(w)}query(w,D,V){return we(w,D,V)}computeStyle(w,D,V){return window.getComputedStyle(w)[D]}animate(w,D,V,ie,De,qe=[]){const yt={duration:V,delay:ie,fill:0==ie?"both":"forwards"};De&&(yt.easing=De);const Pt={},Dn=qe.filter(ai=>ai instanceof he);(function ri(J,w){return 0===J||0===w})(V,ie)&&Dn.forEach(ai=>{let vi=ai.currentSnapshot;Object.keys(vi).forEach(Qn=>Pt[Qn]=vi[Qn])}),D=function Hn(J,w,D){const V=Object.keys(D);if(V.length&&w.length){let De=w[0],qe=[];if(V.forEach(Je=>{De.hasOwnProperty(Je)||qe.push(Je),De[Je]=D[Je]}),qe.length)for(var ie=1;ie<w.length;ie++){let Je=w[ie];qe.forEach(function(yt){Je[yt]=rr(J,yt)})}}return w}(w,D=D.map(ai=>Ce(ai,!1)),Pt);const Pn=function sr(J,w){let D=null,V=null;return Array.isArray(w)&&w.length?(D=H(w[0]),w.length>1&&(V=H(w[w.length-1]))):w&&(D=H(w)),D||V?new q(J,D,V):null}(w,D);return new he(w,D,yt,Pn)}}var In=O(9808);let yr=(()=>{class J extends G._j{constructor(D,V){super(),this._nextAnimationId=0,this._renderer=D.createRenderer(V.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(D){const V=this._nextAnimationId.toString();this._nextAnimationId++;const ie=Array.isArray(D)?(0,G.vP)(D):D;return xs(this._renderer,null,V,"register",[ie]),new Lr(V,this._renderer)}}return J.\u0275fac=function(D){return new(D||J)(g.LFG(g.FYo),g.LFG(In.K0))},J.\u0275prov=g.Yz7({token:J,factory:J.\u0275fac}),J})();class Lr extends G.LC{constructor(w,D){super(),this._id=w,this._renderer=D}create(w,D){return new Jr(this._id,w,D||{},this._renderer)}}class Jr{constructor(w,D,V,ie){this.id=w,this.element=D,this._renderer=ie,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",V)}_listen(w,D){return this._renderer.listen(this.element,`@@${this.id}:${w}`,D)}_command(w,...D){return xs(this._renderer,this.element,this.id,w,D)}onDone(w){this._listen("done",w)}onStart(w){this._listen("start",w)}onDestroy(w){this._listen("destroy",w)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(w){this._command("setPosition",w)}getPosition(){var w,D;return null!==(D=null===(w=this._renderer.engine.players[+this.id])||void 0===w?void 0:w.getPosition())&&void 0!==D?D:0}}function xs(J,w,D,V,ie){return J.setProperty(w,`@@${D}:${V}`,ie)}const Nn="@.disabled";let qo=(()=>{class J{constructor(D,V,ie){this.delegate=D,this.engine=V,this._zone=ie,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),V.onRemovalComplete=(De,qe)=>{const Je=null==qe?void 0:qe.parentNode(De);Je&&qe.removeChild(Je,De)}}createRenderer(D,V){const De=this.delegate.createRenderer(D,V);if(!(D&&V&&V.data&&V.data.animation)){let Dn=this._rendererCache.get(De);return Dn||(Dn=new lr("",De,this.engine),this._rendererCache.set(De,Dn)),Dn}const qe=V.id,Je=V.id+"-"+this._currentId;this._currentId++,this.engine.register(Je,D);const yt=Dn=>{Array.isArray(Dn)?Dn.forEach(yt):this.engine.registerTrigger(qe,Je,D,Dn.name,Dn)};return V.data.animation.forEach(yt),new Za(this,Je,De,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(D,V,ie){D>=0&&D<this._microtaskId?this._zone.run(()=>V(ie)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(De=>{const[qe,Je]=De;qe(Je)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([V,ie]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return J.\u0275fac=function(D){return new(D||J)(g.LFG(g.FYo),g.LFG(Fi),g.LFG(g.R0b))},J.\u0275prov=g.Yz7({token:J,factory:J.\u0275fac}),J})();class lr{constructor(w,D,V){this.namespaceId=w,this.delegate=D,this.engine=V,this.destroyNode=this.delegate.destroyNode?ie=>D.destroyNode(ie):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(w,D){return this.delegate.createElement(w,D)}createComment(w){return this.delegate.createComment(w)}createText(w){return this.delegate.createText(w)}appendChild(w,D){this.delegate.appendChild(w,D),this.engine.onInsert(this.namespaceId,D,w,!1)}insertBefore(w,D,V,ie=!0){this.delegate.insertBefore(w,D,V),this.engine.onInsert(this.namespaceId,D,w,ie)}removeChild(w,D,V){this.engine.onRemove(this.namespaceId,D,this.delegate,V)}selectRootElement(w,D){return this.delegate.selectRootElement(w,D)}parentNode(w){return this.delegate.parentNode(w)}nextSibling(w){return this.delegate.nextSibling(w)}setAttribute(w,D,V,ie){this.delegate.setAttribute(w,D,V,ie)}removeAttribute(w,D,V){this.delegate.removeAttribute(w,D,V)}addClass(w,D){this.delegate.addClass(w,D)}removeClass(w,D){this.delegate.removeClass(w,D)}setStyle(w,D,V,ie){this.delegate.setStyle(w,D,V,ie)}removeStyle(w,D,V){this.delegate.removeStyle(w,D,V)}setProperty(w,D,V){"@"==D.charAt(0)&&D==Nn?this.disableAnimations(w,!!V):this.delegate.setProperty(w,D,V)}setValue(w,D){this.delegate.setValue(w,D)}listen(w,D,V){return this.delegate.listen(w,D,V)}disableAnimations(w,D){this.engine.disableAnimations(w,D)}}class Za extends lr{constructor(w,D,V,ie){super(D,V,ie),this.factory=w,this.namespaceId=D}setProperty(w,D,V){"@"==D.charAt(0)?"."==D.charAt(1)&&D==Nn?this.disableAnimations(w,V=void 0===V||!!V):this.engine.process(this.namespaceId,w,D.substr(1),V):this.delegate.setProperty(w,D,V)}listen(w,D,V){if("@"==D.charAt(0)){const ie=function Io(J){switch(J){case"body":return document.body;case"document":return document;case"window":return window;default:return J}}(w);let De=D.substr(1),qe="";return"@"!=De.charAt(0)&&([De,qe]=function Ds(J){const w=J.indexOf(".");return[J.substring(0,w),J.substr(w+1)]}(De)),this.engine.listen(this.namespaceId,ie,De,qe,Je=>{this.factory.scheduleListenerCallback(Je._data||-1,V,Je)})}return this.delegate.listen(w,D,V)}}let _a=(()=>{class J extends Fi{constructor(D,V,ie){super(D.body,V,ie)}ngOnDestroy(){this.flush()}}return J.\u0275fac=function(D){return new(D||J)(g.LFG(In.K0),g.LFG(Qe),g.LFG(gs))},J.\u0275prov=g.Yz7({token:J,factory:J.\u0275fac}),J})();const Zo=new g.OlP("AnimationModuleType"),So=[{provide:G._j,useClass:yr},{provide:gs,useFactory:function Ko(){return new Ys}},{provide:Fi,useClass:_a},{provide:g.FYo,useFactory:function gl(J,w,D){return new qo(J,w,D)},deps:[l.se,Fi,g.R0b]}],ws=[{provide:Qe,useFactory:()=>new Ft},{provide:Zo,useValue:"BrowserAnimations"},...So],Xr=[{provide:Qe,useClass:Te},{provide:Zo,useValue:"NoopAnimations"},...So];let to=(()=>{class J{static withConfig(D){return{ngModule:J,providers:D.disableAnimations?Xr:ws}}}return J.\u0275fac=function(D){return new(D||J)},J.\u0275mod=g.oAB({type:J}),J.\u0275inj=g.cJS({providers:ws,imports:[l.b2]}),J})()},2313:(Jt,at,O)=>{O.d(at,{b2:()=>ni,H7:()=>je,q6:()=>wn,se:()=>Dt});var g=O(9808),l=O(5e3);class G extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class X extends G{static makeCurrent(){(0,g.HT)(new X)}onAndCancel(de,ye,Ve){return de.addEventListener(ye,Ve,!1),()=>{de.removeEventListener(ye,Ve,!1)}}dispatchEvent(de,ye){de.dispatchEvent(ye)}remove(de){de.parentNode&&de.parentNode.removeChild(de)}createElement(de,ye){return(ye=ye||this.getDefaultDocument()).createElement(de)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(de){return de.nodeType===Node.ELEMENT_NODE}isShadowRoot(de){return de instanceof DocumentFragment}getGlobalEventTarget(de,ye){return"window"===ye?window:"document"===ye?de:"body"===ye?de.body:null}getBaseHref(de){const ye=function Oe(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==ye?null:function me(Y){Be=Be||document.createElement("a"),Be.setAttribute("href",Y);const de=Be.pathname;return"/"===de.charAt(0)?de:`/${de}`}(ye)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(de){return(0,g.Mx)(document.cookie,de)}}let Be,be=null;const Fe=new l.OlP("TRANSITION_ID"),ce=[{provide:l.ip1,useFactory:function te(Y,de,ye){return()=>{ye.get(l.CZH).donePromise.then(()=>{const Ve=(0,g.q)(),wt=de.querySelectorAll(`style[ng-transition="${Y}"]`);for(let Nt=0;Nt<wt.length;Nt++)Ve.remove(wt[Nt])})}},deps:[Fe,g.K0,l.zs3],multi:!0}];class Se{static init(){(0,l.VLi)(new Se)}addToWindow(de){l.dqk.getAngularTestability=(Ve,wt=!0)=>{const Nt=de.findTestabilityInTree(Ve,wt);if(null==Nt)throw new Error("Could not find testability for element.");return Nt},l.dqk.getAllAngularTestabilities=()=>de.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>de.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(Ve=>{const wt=l.dqk.getAllAngularTestabilities();let Nt=wt.length,cn=!1;const oi=function(ri){cn=cn||ri,Nt--,0==Nt&&Ve(cn)};wt.forEach(function(ri){ri.whenStable(oi)})})}findTestabilityInTree(de,ye,Ve){if(null==ye)return null;const wt=de.getTestability(ye);return null!=wt?wt:Ve?(0,g.q)().isShadowRoot(ye)?this.findTestabilityInTree(de,ye.host,!0):this.findTestabilityInTree(de,ye.parentElement,!0):null}}let Xe=(()=>{class Y{build(){return new XMLHttpRequest}}return Y.\u0275fac=function(ye){return new(ye||Y)},Y.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac}),Y})();const Ze=new l.OlP("EventManagerPlugins");let nt=(()=>{class Y{constructor(ye,Ve){this._zone=Ve,this._eventNameToPlugin=new Map,ye.forEach(wt=>wt.manager=this),this._plugins=ye.slice().reverse()}addEventListener(ye,Ve,wt){return this._findPluginFor(Ve).addEventListener(ye,Ve,wt)}addGlobalEventListener(ye,Ve,wt){return this._findPluginFor(Ve).addGlobalEventListener(ye,Ve,wt)}getZone(){return this._zone}_findPluginFor(ye){const Ve=this._eventNameToPlugin.get(ye);if(Ve)return Ve;const wt=this._plugins;for(let Nt=0;Nt<wt.length;Nt++){const cn=wt[Nt];if(cn.supports(ye))return this._eventNameToPlugin.set(ye,cn),cn}throw new Error(`No event manager plugin found for event ${ye}`)}}return Y.\u0275fac=function(ye){return new(ye||Y)(l.LFG(Ze),l.LFG(l.R0b))},Y.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac}),Y})();class pt{constructor(de){this._doc=de}addGlobalEventListener(de,ye,Ve){const wt=(0,g.q)().getGlobalEventTarget(this._doc,de);if(!wt)throw new Error(`Unsupported event target ${wt} for event ${ye}`);return this.addEventListener(wt,ye,Ve)}}let ze=(()=>{class Y{constructor(){this._stylesSet=new Set}addStyles(ye){const Ve=new Set;ye.forEach(wt=>{this._stylesSet.has(wt)||(this._stylesSet.add(wt),Ve.add(wt))}),this.onStylesAdded(Ve)}onStylesAdded(ye){}getAllStyles(){return Array.from(this._stylesSet)}}return Y.\u0275fac=function(ye){return new(ye||Y)},Y.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac}),Y})(),Le=(()=>{class Y extends ze{constructor(ye){super(),this._doc=ye,this._hostNodes=new Map,this._hostNodes.set(ye.head,[])}_addStylesToHost(ye,Ve,wt){ye.forEach(Nt=>{const cn=this._doc.createElement("style");cn.textContent=Nt,wt.push(Ve.appendChild(cn))})}addHost(ye){const Ve=[];this._addStylesToHost(this._stylesSet,ye,Ve),this._hostNodes.set(ye,Ve)}removeHost(ye){const Ve=this._hostNodes.get(ye);Ve&&Ve.forEach(He),this._hostNodes.delete(ye)}onStylesAdded(ye){this._hostNodes.forEach((Ve,wt)=>{this._addStylesToHost(ye,wt,Ve)})}ngOnDestroy(){this._hostNodes.forEach(ye=>ye.forEach(He))}}return Y.\u0275fac=function(ye){return new(ye||Y)(l.LFG(g.K0))},Y.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac}),Y})();function He(Y){(0,g.q)().remove(Y)}const Pe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ve=/%COMP%/g;function mt(Y,de,ye){for(let Ve=0;Ve<de.length;Ve++){let wt=de[Ve];Array.isArray(wt)?mt(Y,wt,ye):(wt=wt.replace(ve,Y),ye.push(wt))}return ye}function gt(Y){return de=>{if("__ngUnwrap__"===de)return Y;!1===Y(de)&&(de.preventDefault(),de.returnValue=!1)}}let Dt=(()=>{class Y{constructor(ye,Ve,wt){this.eventManager=ye,this.sharedStylesHost=Ve,this.appId=wt,this.rendererByCompId=new Map,this.defaultRenderer=new ct(ye)}createRenderer(ye,Ve){if(!ye||!Ve)return this.defaultRenderer;switch(Ve.encapsulation){case l.ifc.Emulated:{let wt=this.rendererByCompId.get(Ve.id);return wt||(wt=new An(this.eventManager,this.sharedStylesHost,Ve,this.appId),this.rendererByCompId.set(Ve.id,wt)),wt.applyToHost(ye),wt}case 1:case l.ifc.ShadowDom:return new Ut(this.eventManager,this.sharedStylesHost,ye,Ve);default:if(!this.rendererByCompId.has(Ve.id)){const wt=mt(Ve.id,Ve.styles,[]);this.sharedStylesHost.addStyles(wt),this.rendererByCompId.set(Ve.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Y.\u0275fac=function(ye){return new(ye||Y)(l.LFG(nt),l.LFG(Le),l.LFG(l.AFp))},Y.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac}),Y})();class ct{constructor(de){this.eventManager=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(de,ye){return ye?document.createElementNS(Pe[ye]||ye,de):document.createElement(de)}createComment(de){return document.createComment(de)}createText(de){return document.createTextNode(de)}appendChild(de,ye){de.appendChild(ye)}insertBefore(de,ye,Ve){de&&de.insertBefore(ye,Ve)}removeChild(de,ye){de&&de.removeChild(ye)}selectRootElement(de,ye){let Ve="string"==typeof de?document.querySelector(de):de;if(!Ve)throw new Error(`The selector "${de}" did not match any elements`);return ye||(Ve.textContent=""),Ve}parentNode(de){return de.parentNode}nextSibling(de){return de.nextSibling}setAttribute(de,ye,Ve,wt){if(wt){ye=wt+":"+ye;const Nt=Pe[wt];Nt?de.setAttributeNS(Nt,ye,Ve):de.setAttribute(ye,Ve)}else de.setAttribute(ye,Ve)}removeAttribute(de,ye,Ve){if(Ve){const wt=Pe[Ve];wt?de.removeAttributeNS(wt,ye):de.removeAttribute(`${Ve}:${ye}`)}else de.removeAttribute(ye)}addClass(de,ye){de.classList.add(ye)}removeClass(de,ye){de.classList.remove(ye)}setStyle(de,ye,Ve,wt){wt&(l.JOm.DashCase|l.JOm.Important)?de.style.setProperty(ye,Ve,wt&l.JOm.Important?"important":""):de.style[ye]=Ve}removeStyle(de,ye,Ve){Ve&l.JOm.DashCase?de.style.removeProperty(ye):de.style[ye]=""}setProperty(de,ye,Ve){de[ye]=Ve}setValue(de,ye){de.nodeValue=ye}listen(de,ye,Ve){return"string"==typeof de?this.eventManager.addGlobalEventListener(de,ye,gt(Ve)):this.eventManager.addEventListener(de,ye,gt(Ve))}}class An extends ct{constructor(de,ye,Ve,wt){super(de),this.component=Ve;const Nt=mt(wt+"-"+Ve.id,Ve.styles,[]);ye.addStyles(Nt),this.contentAttr=function Ot(Y){return"_ngcontent-%COMP%".replace(ve,Y)}(wt+"-"+Ve.id),this.hostAttr=function We(Y){return"_nghost-%COMP%".replace(ve,Y)}(wt+"-"+Ve.id)}applyToHost(de){super.setAttribute(de,this.hostAttr,"")}createElement(de,ye){const Ve=super.createElement(de,ye);return super.setAttribute(Ve,this.contentAttr,""),Ve}}class Ut extends ct{constructor(de,ye,Ve,wt){super(de),this.sharedStylesHost=ye,this.hostEl=Ve,this.shadowRoot=Ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nt=mt(wt.id,wt.styles,[]);for(let cn=0;cn<Nt.length;cn++){const oi=document.createElement("style");oi.textContent=Nt[cn],this.shadowRoot.appendChild(oi)}}nodeOrShadowRoot(de){return de===this.hostEl?this.shadowRoot:de}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(de,ye){return super.appendChild(this.nodeOrShadowRoot(de),ye)}insertBefore(de,ye,Ve){return super.insertBefore(this.nodeOrShadowRoot(de),ye,Ve)}removeChild(de,ye){return super.removeChild(this.nodeOrShadowRoot(de),ye)}parentNode(de){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(de)))}}let jt=(()=>{class Y extends pt{constructor(ye){super(ye)}supports(ye){return!0}addEventListener(ye,Ve,wt){return ye.addEventListener(Ve,wt,!1),()=>this.removeEventListener(ye,Ve,wt)}removeEventListener(ye,Ve,wt){return ye.removeEventListener(Ve,wt)}}return Y.\u0275fac=function(ye){return new(ye||Y)(l.LFG(g.K0))},Y.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac}),Y})();const un=["alt","control","meta","shift"],xt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},It={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ke={alt:Y=>Y.altKey,control:Y=>Y.ctrlKey,meta:Y=>Y.metaKey,shift:Y=>Y.shiftKey};let it=(()=>{class Y extends pt{constructor(ye){super(ye)}supports(ye){return null!=Y.parseEventName(ye)}addEventListener(ye,Ve,wt){const Nt=Y.parseEventName(Ve),cn=Y.eventCallback(Nt.fullKey,wt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(ye,Nt.domEventName,cn))}static parseEventName(ye){const Ve=ye.toLowerCase().split("."),wt=Ve.shift();if(0===Ve.length||"keydown"!==wt&&"keyup"!==wt)return null;const Nt=Y._normalizeKey(Ve.pop());let cn="";if(un.forEach(ri=>{const Hn=Ve.indexOf(ri);Hn>-1&&(Ve.splice(Hn,1),cn+=ri+".")}),cn+=Nt,0!=Ve.length||0===Nt.length)return null;const oi={};return oi.domEventName=wt,oi.fullKey=cn,oi}static getEventFullKey(ye){let Ve="",wt=function Vt(Y){let de=Y.key;if(null==de){if(de=Y.keyIdentifier,null==de)return"Unidentified";de.startsWith("U+")&&(de=String.fromCharCode(parseInt(de.substring(2),16)),3===Y.location&&It.hasOwnProperty(de)&&(de=It[de]))}return xt[de]||de}(ye);return wt=wt.toLowerCase()," "===wt?wt="space":"."===wt&&(wt="dot"),un.forEach(Nt=>{Nt!=wt&&Ke[Nt](ye)&&(Ve+=Nt+".")}),Ve+=wt,Ve}static eventCallback(ye,Ve,wt){return Nt=>{Y.getEventFullKey(Nt)===ye&&wt.runGuarded(()=>Ve(Nt))}}static _normalizeKey(ye){return"esc"===ye?"escape":ye}}return Y.\u0275fac=function(ye){return new(ye||Y)(l.LFG(g.K0))},Y.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac}),Y})();const wn=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:g.bD},{provide:l.g9A,useValue:function bn(){X.makeCurrent(),Se.init()},multi:!0},{provide:g.K0,useFactory:function $n(){return(0,l.RDi)(document),document},deps:[]}]),Zn=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Rn(){return new l.qLn},deps:[]},{provide:Ze,useClass:jt,multi:!0,deps:[g.K0,l.R0b,l.Lbi]},{provide:Ze,useClass:it,multi:!0,deps:[g.K0]},{provide:Dt,useClass:Dt,deps:[nt,Le,l.AFp]},{provide:l.FYo,useExisting:Dt},{provide:ze,useExisting:Le},{provide:Le,useClass:Le,deps:[g.K0]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:nt,useClass:nt,deps:[Ze,l.R0b]},{provide:g.JF,useClass:Xe,deps:[]}];let ni=(()=>{class Y{constructor(ye){if(ye)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ye){return{ngModule:Y,providers:[{provide:l.AFp,useValue:ye.appId},{provide:Fe,useExisting:l.AFp},ce]}}}return Y.\u0275fac=function(ye){return new(ye||Y)(l.LFG(Y,12))},Y.\u0275mod=l.oAB({type:Y}),Y.\u0275inj=l.cJS({providers:Zn,imports:[g.ez,l.hGG]}),Y})();"undefined"!=typeof window&&window;let je=(()=>{class Y{}return Y.\u0275fac=function(ye){return new(ye||Y)},Y.\u0275prov=l.Yz7({token:Y,factory:function(ye){let Ve=null;return Ve=ye?new(ye||Y):l.LFG(_e),Ve},providedIn:"root"}),Y})(),_e=(()=>{class Y extends je{constructor(ye){super(),this._doc=ye}sanitize(ye,Ve){if(null==Ve)return null;switch(ye){case l.q3G.NONE:return Ve;case l.q3G.HTML:return(0,l.qzn)(Ve,"HTML")?(0,l.z3N)(Ve):(0,l.EiD)(this._doc,String(Ve)).toString();case l.q3G.STYLE:return(0,l.qzn)(Ve,"Style")?(0,l.z3N)(Ve):Ve;case l.q3G.SCRIPT:if((0,l.qzn)(Ve,"Script"))return(0,l.z3N)(Ve);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(Ve),(0,l.qzn)(Ve,"URL")?(0,l.z3N)(Ve):(0,l.mCW)(String(Ve));case l.q3G.RESOURCE_URL:if((0,l.qzn)(Ve,"ResourceURL"))return(0,l.z3N)(Ve);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ye} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ye){return(0,l.JVY)(ye)}bypassSecurityTrustStyle(ye){return(0,l.L6k)(ye)}bypassSecurityTrustScript(ye){return(0,l.eBb)(ye)}bypassSecurityTrustUrl(ye){return(0,l.LAX)(ye)}bypassSecurityTrustResourceUrl(ye){return(0,l.pB0)(ye)}}return Y.\u0275fac=function(ye){return new(ye||Y)(l.LFG(g.K0))},Y.\u0275prov=l.Yz7({token:Y,factory:function(ye){let Ve=null;return Ve=ye?new ye:function ft(Y){return new _e(Y.get(g.K0))}(l.LFG(l.zs3)),Ve},providedIn:"root"}),Y})()},3287:(Jt,at,O)=>{O.d(at,{F0:()=>es,Od:()=>ts,yS:()=>ci,Bz:()=>Gl,lC:()=>_r});var g=O(5e3),l=O(8306),G=O(4742),X=O(8996),be=O(4671),Oe=O(3268),Be=O(3269),me=O(1810),Fe=O(5403),te=O(9672);function Xe(k,S,A){k?(0,te.f)(A,k,S):S()}var Ze=O(727),nt=O(4482);function pt(){return(0,nt.e)((k,S)=>{let A=null;k._refCount++;const L=(0,Fe.x)(S,void 0,void 0,void 0,()=>{if(!k||k._refCount<=0||0<--k._refCount)return void(A=null);const K=k._connection,ue=A;A=null,K&&(!ue||K===ue)&&K.unsubscribe(),S.unsubscribe()});k.subscribe(L),L.closed||(A=k.connect())})}class ze extends l.y{constructor(S,A){super(),this.source=S,this.subjectFactory=A,this._subject=null,this._refCount=0,this._connection=null,(0,nt.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,null==S||S.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new Ze.w0;const A=this.getSubject();S.add(this.source.subscribe((0,Fe.x)(A,void 0,()=>{this._teardown(),A.complete()},L=>{this._teardown(),A.error(L)},()=>this._teardown()))),S.closed&&(this._connection=null,S=Ze.w0.EMPTY)}return S}refCount(){return pt()(this)}}var Le=O(9646),He=O(1135),Pe=O(2843),ve=O(6805),le=O(7272),Ee=O(9770),lt=O(515),Ue=O(7579),Ot=O(9300);function We(k){return k<=0?()=>lt.E:(0,nt.e)((S,A)=>{let L=[];S.subscribe((0,Fe.x)(A,K=>{L.push(K),k<L.length&&L.shift()},()=>{for(const K of L)A.next(K);A.complete()},void 0,()=>{L=null}))})}var mt=O(8068),gt=O(6590),Dt=O(4004),ct=O(3900),mn=O(5698),en=O(8675),An=O(5026),Ut=O(262),jt=O(4351),un=O(590),dn=O(5577),xt=O(8505),It=O(8746),Ke=O(8189),it=O(9808);class Vt{constructor(S,A){this.id=S,this.url=A}}class bn extends Vt{constructor(S,A,L="imperative",K=null){super(S,A),this.navigationTrigger=L,this.restoredState=K}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rn extends Vt{constructor(S,A,L){super(S,A),this.urlAfterRedirects=L}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $n extends Vt{constructor(S,A,L){super(S,A),this.reason=L}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kn extends Vt{constructor(S,A,L){super(S,A),this.error=L}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wn extends Vt{constructor(S,A,L,K){super(S,A),this.urlAfterRedirects=L,this.state=K}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zn extends Vt{constructor(S,A,L,K){super(S,A),this.urlAfterRedirects=L,this.state=K}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ni extends Vt{constructor(S,A,L,K,ue){super(S,A),this.urlAfterRedirects=L,this.state=K,this.shouldActivate=ue}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wi extends Vt{constructor(S,A,L,K){super(S,A),this.urlAfterRedirects=L,this.state=K}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends Vt{constructor(S,A,L,K){super(S,A),this.urlAfterRedirects=L,this.state=K}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vn{constructor(S){this.route=S}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zn{constructor(S){this.route=S}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fn{constructor(S){this.snapshot=S}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(S){this.snapshot=S}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ri{constructor(S){this.snapshot=S}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ii{constructor(S){this.snapshot=S}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(S,A,L){this.routerEvent=S,this.position=A,this.anchor=L}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ht="primary";class we{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const A=this.params[S];return Array.isArray(A)?A[0]:A}return null}getAll(S){if(this.has(S)){const A=this.params[S];return Array.isArray(A)?A:[A]}return[]}get keys(){return Object.keys(this.params)}}function tt(k){return new we(k)}const Te="ngNavigationCancelingError";function Qe(k){const S=Error("NavigationCancelingError: "+k);return S[Te]=!0,S}function pn(k,S,A){const L=A.path.split("/");if(L.length>k.length||"full"===A.pathMatch&&(S.hasChildren()||L.length<k.length))return null;const K={};for(let ue=0;ue<L.length;ue++){const Re=L[ue],Ne=k[ue];if(Re.startsWith(":"))K[Re.substring(1)]=Ne;else if(Re!==Ne.path)return null}return{consumed:k.slice(0,L.length),posParams:K}}function Un(k,S){const A=k?Object.keys(k):void 0,L=S?Object.keys(S):void 0;if(!A||!L||A.length!=L.length)return!1;let K;for(let ue=0;ue<A.length;ue++)if(K=A[ue],!Xn(k[K],S[K]))return!1;return!0}function Xn(k,S){if(Array.isArray(k)&&Array.isArray(S)){if(k.length!==S.length)return!1;const A=[...k].sort(),L=[...S].sort();return A.every((K,ue)=>L[ue]===K)}return k===S}function Gn(k){return Array.prototype.concat.apply([],k)}function sn(k){return k.length>0?k[k.length-1]:null}function xn(k,S){for(const A in k)k.hasOwnProperty(A)&&S(k[A],A)}function pe(k){return(0,g.CqO)(k)?k:(0,g.QGY)(k)?(0,X.D)(Promise.resolve(k)):(0,Le.of)(k)}const x={exact:function Ce(k,S,A){if(!Ve(k.segments,S.segments)||!_e(k.segments,S.segments,A)||k.numberOfChildren!==S.numberOfChildren)return!1;for(const L in S.children)if(!k.children[L]||!Ce(k.children[L],S.children[L],A))return!1;return!0},subset:je},j={exact:function rt(k,S){return Un(k,S)},subset:function Ie(k,S){return Object.keys(S).length<=Object.keys(k).length&&Object.keys(S).every(A=>Xn(k[A],S[A]))},ignored:()=>!0};function ge(k,S,A){return x[A.paths](k.root,S.root,A.matrixParams)&&j[A.queryParams](k.queryParams,S.queryParams)&&!("exact"===A.fragment&&k.fragment!==S.fragment)}function je(k,S,A){return ft(k,S,S.segments,A)}function ft(k,S,A,L){if(k.segments.length>A.length){const K=k.segments.slice(0,A.length);return!(!Ve(K,A)||S.hasChildren()||!_e(K,A,L))}if(k.segments.length===A.length){if(!Ve(k.segments,A)||!_e(k.segments,A,L))return!1;for(const K in S.children)if(!k.children[K]||!je(k.children[K],S.children[K],L))return!1;return!0}{const K=A.slice(0,k.segments.length),ue=A.slice(k.segments.length);return!!(Ve(k.segments,K)&&_e(k.segments,K,L)&&k.children[ht])&&ft(k.children[ht],S,ue,L)}}function _e(k,S,A){return S.every((L,K)=>j[A](k[K].parameters,L.parameters))}class xe{constructor(S,A,L){this.root=S,this.queryParams=A,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tt(this.queryParams)),this._queryParamMap}toString(){return oi.serialize(this)}}class Y{constructor(S,A){this.segments=S,this.children=A,this.parent=null,xn(A,(L,K)=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ri(this)}}class de{constructor(S,A){this.path=S,this.parameters=A}get parameterMap(){return this._parameterMap||(this._parameterMap=tt(this.parameters)),this._parameterMap}toString(){return Yn(this)}}function Ve(k,S){return k.length===S.length&&k.every((A,L)=>A.path===S[L].path)}class Nt{}class cn{parse(S){const A=new si(S);return new xe(A.parseRootSegment(),A.parseQueryParams(),A.parseFragment())}serialize(S){const A=`/${Hn(S.root,!0)}`,L=function Mr(k){const S=Object.keys(k).map(A=>{const L=k[A];return Array.isArray(L)?L.map(K=>`${rr(A)}=${rr(K)}`).join("&"):`${rr(A)}=${rr(L)}`}).filter(A=>!!A);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${A}${L}${"string"==typeof S.fragment?`#${function Ai(k){return encodeURI(k)}(S.fragment)}`:""}`}}const oi=new cn;function ri(k){return k.segments.map(S=>Yn(S)).join("/")}function Hn(k,S){if(!k.hasChildren())return ri(k);if(S){const A=k.children[ht]?Hn(k.children[ht],!1):"",L=[];return xn(k.children,(K,ue)=>{ue!==ht&&L.push(`${ue}:${Hn(K,!1)}`)}),L.length>0?`${A}(${L.join("//")})`:A}{const A=function wt(k,S){let A=[];return xn(k.children,(L,K)=>{K===ht&&(A=A.concat(S(L,K)))}),xn(k.children,(L,K)=>{K!==ht&&(A=A.concat(S(L,K)))}),A}(k,(L,K)=>K===ht?[Hn(k.children[ht],!1)]:[`${K}:${Hn(L,!1)}`]);return 1===Object.keys(k.children).length&&null!=k.children[ht]?`${ri(k)}/${A[0]}`:`${ri(k)}/(${A.join("//")})`}}function ti(k){return encodeURIComponent(k).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rr(k){return ti(k).replace(/%3B/gi,";")}function Ar(k){return ti(k).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mi(k){return decodeURIComponent(k)}function hn(k){return mi(k.replace(/\+/g,"%20"))}function Yn(k){return`${Ar(k.path)}${function Oi(k){return Object.keys(k).map(S=>`;${Ar(S)}=${Ar(k[S])}`).join("")}(k.parameters)}`}const Er=/^[^\/()?;=#]+/;function hi(k){const S=k.match(Er);return S?S[0]:""}const Qi=/^[^=?&#]+/,Ui=/^[^&#]+/;class si{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let A={};this.peekStartsWith("/(")&&(this.capture("/"),A=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(S.length>0||Object.keys(A).length>0)&&(L[ht]=new Y(S,A)),L}parseSegment(){const S=hi(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(S),new de(mi(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const A=hi(this.remaining);if(!A)return;this.capture(A);let L="";if(this.consumeOptional("=")){const K=hi(this.remaining);K&&(L=K,this.capture(L))}S[mi(A)]=mi(L)}parseQueryParam(S){const A=function ki(k){const S=k.match(Qi);return S?S[0]:""}(this.remaining);if(!A)return;this.capture(A);let L="";if(this.consumeOptional("=")){const Re=function Yr(k){const S=k.match(Ui);return S?S[0]:""}(this.remaining);Re&&(L=Re,this.capture(L))}const K=hn(A),ue=hn(L);if(S.hasOwnProperty(K)){let Re=S[K];Array.isArray(Re)||(Re=[Re],S[K]=Re),Re.push(ue)}else S[K]=ue}parseParens(S){const A={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=hi(this.remaining),K=this.remaining[L.length];if("/"!==K&&")"!==K&&";"!==K)throw new Error(`Cannot parse url '${this.url}'`);let ue;L.indexOf(":")>-1?(ue=L.substr(0,L.indexOf(":")),this.capture(ue),this.capture(":")):S&&(ue=ht);const Re=this.parseChildren();A[ue]=1===Object.keys(Re).length?Re[ht]:new Y([],Re),this.consumeOptional("//")}return A}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new Error(`Expected "${S}".`)}}class Ur{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const A=this.pathFromRoot(S);return A.length>1?A[A.length-2]:null}children(S){const A=Gr(S,this._root);return A?A.children.map(L=>L.value):[]}firstChild(S){const A=Gr(S,this._root);return A&&A.children.length>0?A.children[0].value:null}siblings(S){const A=fs(S,this._root);return A.length<2?[]:A[A.length-2].children.map(K=>K.value).filter(K=>K!==S)}pathFromRoot(S){return fs(S,this._root).map(A=>A.value)}}function Gr(k,S){if(k===S.value)return S;for(const A of S.children){const L=Gr(k,A);if(L)return L}return null}function fs(k,S){if(k===S.value)return[S];for(const A of S.children){const L=fs(k,A);if(L.length)return L.unshift(S),L}return[]}class Ji{constructor(S,A){this.value=S,this.children=A}toString(){return`TreeNode(${this.value})`}}function Gi(k){const S={};return k&&k.children.forEach(A=>S[A.value.outlet]=A),S}class Qr extends Ur{constructor(S,A){super(S),this.snapshot=A,Ii(this,S)}toString(){return this.snapshot.toString()}}function cr(k,S){const A=function dt(k,S){const Re=new zt([],{},{},"",{},ht,S,null,k.root,-1,{});return new Cn("",new Ji(Re,[]))}(k,S),L=new He.X([new de("",{})]),K=new He.X({}),ue=new He.X({}),Re=new He.X({}),Ne=new He.X(""),kt=new Ye(L,K,Re,Ne,ue,ht,S,A.root);return kt.snapshot=A.root,new Qr(new Ji(kt,[]),A)}class Ye{constructor(S,A,L,K,ue,Re,Ne,kt){this.url=S,this.params=A,this.queryParams=L,this.fragment=K,this.data=ue,this.outlet=Re,this.component=Ne,this._futureSnapshot=kt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(S=>tt(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(S=>tt(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vt(k,S="emptyOnly"){const A=k.pathFromRoot;let L=0;if("always"!==S)for(L=A.length-1;L>=1;){const K=A[L],ue=A[L-1];if(K.routeConfig&&""===K.routeConfig.path)L--;else{if(ue.component)break;L--}}return function Gt(k){return k.reduce((S,A)=>({params:Object.assign(Object.assign({},S.params),A.params),data:Object.assign(Object.assign({},S.data),A.data),resolve:Object.assign(Object.assign({},S.resolve),A._resolvedData)}),{params:{},data:{},resolve:{}})}(A.slice(L))}class zt{constructor(S,A,L,K,ue,Re,Ne,kt,Sn,xi,kn){this.url=S,this.params=A,this.queryParams=L,this.fragment=K,this.data=ue,this.outlet=Re,this.component=Ne,this.routeConfig=kt,this._urlSegment=Sn,this._lastPathIndex=xi,this._resolve=kn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cn extends Ur{constructor(S,A){super(A),this.url=S,Ii(this,A)}toString(){return Pi(this._root)}}function Ii(k,S){S.value._routerState=k,S.children.forEach(A=>Ii(k,A))}function Pi(k){const S=k.children.length>0?` { ${k.children.map(Pi).join(", ")} } `:"";return`${k.value}${S}`}function _i(k){if(k.snapshot){const S=k.snapshot,A=k._futureSnapshot;k.snapshot=A,Un(S.queryParams,A.queryParams)||k.queryParams.next(A.queryParams),S.fragment!==A.fragment&&k.fragment.next(A.fragment),Un(S.params,A.params)||k.params.next(A.params),function En(k,S){if(k.length!==S.length)return!1;for(let A=0;A<k.length;++A)if(!Un(k[A],S[A]))return!1;return!0}(S.url,A.url)||k.url.next(A.url),Un(S.data,A.data)||k.data.next(A.data)}else k.snapshot=k._futureSnapshot,k.data.next(k._futureSnapshot.data)}function mr(k,S){const A=Un(k.params,S.params)&&function ye(k,S){return Ve(k,S)&&k.every((A,L)=>Un(A.parameters,S[L].parameters))}(k.url,S.url);return A&&!(!k.parent!=!S.parent)&&(!k.parent||mr(k.parent,S.parent))}function ur(k,S,A){if(A&&k.shouldReuseRoute(S.value,A.value.snapshot)){const L=A.value;L._futureSnapshot=S.value;const K=function wi(k,S,A){return S.children.map(L=>{for(const K of A.children)if(k.shouldReuseRoute(L.value,K.value.snapshot))return ur(k,L,K);return ur(k,L)})}(k,S,A);return new Ji(L,K)}{if(k.shouldAttach(S.value)){const ue=k.retrieve(S.value);if(null!==ue){const Re=ue.route;return Re.value._futureSnapshot=S.value,Re.children=S.children.map(Ne=>ur(k,Ne)),Re}}const L=function Nr(k){return new Ye(new He.X(k.url),new He.X(k.params),new He.X(k.queryParams),new He.X(k.fragment),new He.X(k.data),k.outlet,k.component,k)}(S.value),K=S.children.map(ue=>ur(k,ue));return new Ji(L,K)}}function kr(k){return"object"==typeof k&&null!=k&&!k.outlets&&!k.segmentPath}function Hi(k){return"object"==typeof k&&null!=k&&k.outlets}function ps(k,S,A,L,K){let ue={};if(L&&xn(L,(Ne,kt)=>{ue[kt]=Array.isArray(Ne)?Ne.map(Sn=>`${Sn}`):`${Ne}`}),k===S)return new xe(A,ue,K);const Re=Do(k,S,A);return new xe(Re,ue,K)}function Do(k,S,A){const L={};return xn(k.children,(K,ue)=>{L[ue]=K===S?A:Do(K,S,A)}),new Y(k.segments,L)}class Zs{constructor(S,A,L){if(this.isAbsolute=S,this.numberOfDoubleDots=A,this.commands=L,S&&L.length>0&&kr(L[0]))throw new Error("Root segment cannot have matrix parameters");const K=L.find(Hi);if(K&&K!==sn(L))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ao{constructor(S,A,L){this.segmentGroup=S,this.processChildren=A,this.index=L}}function ms(k,S,A){if(k||(k=new Y([],{})),0===k.segments.length&&k.hasChildren())return ls(k,S,A);const L=function zo(k,S,A){let L=0,K=S;const ue={match:!1,pathIndex:0,commandIndex:0};for(;K<k.segments.length;){if(L>=A.length)return ue;const Re=k.segments[K],Ne=A[L];if(Hi(Ne))break;const kt=`${Ne}`,Sn=L<A.length-1?A[L+1]:null;if(K>0&&void 0===kt)break;if(kt&&Sn&&"object"==typeof Sn&&void 0===Sn.outlets){if(!cs(kt,Sn,Re))return ue;L+=2}else{if(!cs(kt,{},Re))return ue;L++}K++}return{match:!0,pathIndex:K,commandIndex:L}}(k,S,A),K=A.slice(L.commandIndex);if(L.match&&L.pathIndex<k.segments.length){const ue=new Y(k.segments.slice(0,L.pathIndex),{});return ue.children[ht]=new Y(k.segments.slice(L.pathIndex),k.children),ls(ue,0,K)}return L.match&&0===K.length?new Y(k.segments,{}):L.match&&!k.hasChildren()?_s(k,S,A):L.match?ls(k,0,K):_s(k,S,A)}function ls(k,S,A){if(0===A.length)return new Y(k.segments,{});{const L=function Ys(k){return Hi(k[0])?k[0].outlets:{[ht]:k}}(A),K={};return xn(L,(ue,Re)=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&(K[Re]=ms(k.children[Re],S,ue))}),xn(k.children,(ue,Re)=>{void 0===L[Re]&&(K[Re]=ue)}),new Y(k.segments,K)}}function _s(k,S,A){const L=k.segments.slice(0,S);let K=0;for(;K<A.length;){const ue=A[K];if(Hi(ue)){const kt=Qs(ue.outlets);return new Y(L,kt)}if(0===K&&kr(A[0])){L.push(new de(k.segments[S].path,Ms(A[0]))),K++;continue}const Re=Hi(ue)?ue.outlets[ht]:`${ue}`,Ne=K<A.length-1?A[K+1]:null;Re&&Ne&&kr(Ne)?(L.push(new de(Re,Ms(Ne))),K+=2):(L.push(new de(Re,{})),K++)}return new Y(L,{})}function Qs(k){const S={};return xn(k,(A,L)=>{"string"==typeof A&&(A=[A]),null!==A&&(S[L]=_s(new Y([],{}),0,A))}),S}function Ms(k){const S={};return xn(k,(A,L)=>S[L]=`${A}`),S}function cs(k,S,A){return k==A.path&&Un(S,A.parameters)}class Hr{constructor(S,A,L,K){this.routeReuseStrategy=S,this.futureState=A,this.currState=L,this.forwardEvent=K}activate(S){const A=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(A,L,S),_i(this.futureState.root),this.activateChildRoutes(A,L,S)}deactivateChildRoutes(S,A,L){const K=Gi(A);S.children.forEach(ue=>{const Re=ue.value.outlet;this.deactivateRoutes(ue,K[Re],L),delete K[Re]}),xn(K,(ue,Re)=>{this.deactivateRouteAndItsChildren(ue,L)})}deactivateRoutes(S,A,L){const K=S.value,ue=A?A.value:null;if(K===ue)if(K.component){const Re=L.getContext(K.outlet);Re&&this.deactivateChildRoutes(S,A,Re.children)}else this.deactivateChildRoutes(S,A,L);else ue&&this.deactivateRouteAndItsChildren(A,L)}deactivateRouteAndItsChildren(S,A){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,A):this.deactivateRouteAndOutlet(S,A)}detachAndStoreRouteSubtree(S,A){const L=A.getContext(S.value.outlet),K=L&&S.value.component?L.children:A,ue=Gi(S);for(const Re of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Re],K);if(L&&L.outlet){const Re=L.outlet.detach(),Ne=L.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:Re,route:S,contexts:Ne})}}deactivateRouteAndOutlet(S,A){const L=A.getContext(S.value.outlet),K=L&&S.value.component?L.children:A,ue=Gi(S);for(const Re of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Re],K);L&&L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated(),L.attachRef=null,L.resolver=null,L.route=null)}activateChildRoutes(S,A,L){const K=Gi(A);S.children.forEach(ue=>{this.activateRoutes(ue,K[ue.value.outlet],L),this.forwardEvent(new ii(ue.value.snapshot))}),S.children.length&&this.forwardEvent(new di(S.value.snapshot))}activateRoutes(S,A,L){const K=S.value,ue=A?A.value:null;if(_i(K),K===ue)if(K.component){const Re=L.getOrCreateContext(K.outlet);this.activateChildRoutes(S,A,Re.children)}else this.activateChildRoutes(S,A,L);else if(K.component){const Re=L.getOrCreateContext(K.outlet);if(this.routeReuseStrategy.shouldAttach(K.snapshot)){const Ne=this.routeReuseStrategy.retrieve(K.snapshot);this.routeReuseStrategy.store(K.snapshot,null),Re.children.onOutletReAttached(Ne.contexts),Re.attachRef=Ne.componentRef,Re.route=Ne.route.value,Re.outlet&&Re.outlet.attach(Ne.componentRef,Ne.route.value),_i(Ne.route.value),this.activateChildRoutes(S,null,Re.children)}else{const Ne=function Wo(k){for(let S=k.parent;S;S=S.parent){const A=S.routeConfig;if(A&&A._loadedConfig)return A._loadedConfig;if(A&&A.component)return null}return null}(K.snapshot),kt=Ne?Ne.module.componentFactoryResolver:null;Re.attachRef=null,Re.route=K,Re.resolver=kt,Re.outlet&&Re.outlet.activateWith(K,kt),this.activateChildRoutes(S,null,Re.children)}}else this.activateChildRoutes(S,null,L)}}class $r{constructor(S,A){this.routes=S,this.module=A}}function Ir(k){return"function"==typeof k}function zr(k){return k instanceof xe}const vs=Symbol("INITIAL_VALUE");function Li(){return(0,ct.w)(k=>function ce(...k){const S=(0,Be.yG)(k),A=(0,Be.jO)(k),{args:L,keys:K}=(0,G.D)(k);if(0===L.length)return(0,X.D)([],S);const ue=new l.y(function Se(k,S,A=be.y){return L=>{Xe(S,()=>{const{length:K}=k,ue=new Array(K);let Re=K,Ne=K;for(let kt=0;kt<K;kt++)Xe(S,()=>{const Sn=(0,X.D)(k[kt],S);let xi=!1;Sn.subscribe((0,Fe.x)(L,kn=>{ue[kt]=kn,xi||(xi=!0,Ne--),Ne||L.next(A(ue.slice()))},()=>{--Re||L.complete()}))},L)},L)}}(L,S,K?Re=>(0,me.n)(K,Re):be.y));return A?ue.pipe((0,Oe.Z)(A)):ue}(k.map(S=>S.pipe((0,mn.q)(1),(0,en.O)(vs)))).pipe((0,An.R)((S,A)=>{let L=!1;return A.reduce((K,ue,Re)=>K!==vs?K:(ue===vs&&(L=!0),L||!1!==ue&&Re!==A.length-1&&!zr(ue)?K:ue),S)},vs),(0,Ot.h)(S=>S!==vs),(0,Dt.U)(S=>zr(S)?S:!0===S),(0,mn.q)(1)))}class Cs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Os,this.attachRef=null}}class Os{constructor(){this.contexts=new Map}onChildOutletCreated(S,A){const L=this.getOrCreateContext(S);L.outlet=A,this.contexts.set(S,L)}onChildOutletDestroyed(S){const A=this.getContext(S);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let A=this.getContext(S);return A||(A=new Cs,this.contexts.set(S,A)),A}getContext(S){return this.contexts.get(S)||null}}let _r=(()=>{class k{constructor(A,L,K,ue,Re){this.parentContexts=A,this.location=L,this.resolver=K,this.changeDetector=Re,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=ue||ht,A.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const A=this.parentContexts.getContext(this.name);A&&A.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(A.instance),A}attach(A,L){this.activated=A,this._activatedRoute=L,this.location.insert(A.hostView),this.attachEvents.emit(A.instance)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,L){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=A;const Re=(L=L||this.resolver).resolveComponentFactory(A._futureSnapshot.routeConfig.component),Ne=this.parentContexts.getOrCreateContext(this.name).children,kt=new eo(A,Ne,this.location.injector);this.activated=this.location.createComponent(Re,this.location.length,kt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return k.\u0275fac=function(A){return new(A||k)(g.Y36(Os),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},k.\u0275dir=g.lG2({type:k,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),k})();class eo{constructor(S,A,L){this.route=S,this.childContexts=A,this.parent=L}get(S,A){return S===Ye?this.route:S===Os?this.childContexts:this.parent.get(S,A)}}let Bs=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275cmp=g.Xpm({type:k,selectors:[["ng-component"]],decls:1,vars:0,template:function(A,L){1&A&&g._UZ(0,"router-outlet")},directives:[_r],encapsulation:2}),k})();function Vs(k,S=""){for(let A=0;A<k.length;A++){const L=k[A];us(L,Us(S,L))}}function us(k,S){k.children&&Vs(k.children,S)}function Us(k,S){return S?k||S.path?k&&!S.path?`${k}/`:!k&&S.path?S.path:`${k}/${S.path}`:"":k}function bs(k){const S=k.children&&k.children.map(bs),A=S?Object.assign(Object.assign({},k),{children:S}):Object.assign({},k);return!A.component&&(S||A.loadChildren)&&A.outlet&&A.outlet!==ht&&(A.component=Bs),A}function li(k){return k.outlet||ht}function z(k,S){const A=k.filter(L=>li(L)===S);return A.push(...k.filter(L=>li(L)!==S)),A}const re={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $(k,S,A){var L;if(""===S.path)return"full"===S.pathMatch&&(k.hasChildren()||A.length>0)?Object.assign({},re):{matched:!0,consumedSegments:[],remainingSegments:A,parameters:{},positionalParamSegments:{}};const ue=(S.matcher||pn)(A,k,S);if(!ue)return Object.assign({},re);const Re={};xn(ue.posParams,(kt,Sn)=>{Re[Sn]=kt.path});const Ne=ue.consumed.length>0?Object.assign(Object.assign({},Re),ue.consumed[ue.consumed.length-1].parameters):Re;return{matched:!0,consumedSegments:ue.consumed,remainingSegments:A.slice(ue.consumed.length),parameters:Ne,positionalParamSegments:null!==(L=ue.posParams)&&void 0!==L?L:{}}}function fe(k,S,A,L,K="corrected"){if(A.length>0&&function Bt(k,S,A){return A.some(L=>qi(k,S,L)&&li(L)!==ht)}(k,A,L)){const Re=new Y(S,function Tt(k,S,A,L){const K={};K[ht]=L,L._sourceSegment=k,L._segmentIndexShift=S.length;for(const ue of A)if(""===ue.path&&li(ue)!==ht){const Re=new Y([],{});Re._sourceSegment=k,Re._segmentIndexShift=S.length,K[li(ue)]=Re}return K}(k,S,L,new Y(A,k.children)));return Re._sourceSegment=k,Re._segmentIndexShift=S.length,{segmentGroup:Re,slicedSegments:[]}}if(0===A.length&&function qt(k,S,A){return A.some(L=>qi(k,S,L))}(k,A,L)){const Re=new Y(k.segments,function et(k,S,A,L,K,ue){const Re={};for(const Ne of L)if(qi(k,A,Ne)&&!K[li(Ne)]){const kt=new Y([],{});kt._sourceSegment=k,kt._segmentIndexShift="legacy"===ue?k.segments.length:S.length,Re[li(Ne)]=kt}return Object.assign(Object.assign({},K),Re)}(k,S,A,L,k.children,K));return Re._sourceSegment=k,Re._segmentIndexShift=S.length,{segmentGroup:Re,slicedSegments:A}}const ue=new Y(k.segments,k.children);return ue._sourceSegment=k,ue._segmentIndexShift=S.length,{segmentGroup:ue,slicedSegments:A}}function qi(k,S,A){return(!(k.hasChildren()||S.length>0)||"full"!==A.pathMatch)&&""===A.path}function Si(k,S,A,L){return!!(li(k)===L||L!==ht&&qi(S,A,k))&&("**"===k.path||$(S,k,A).matched)}function yi(k,S,A){return 0===S.length&&!k.children[A]}class fi{constructor(S){this.segmentGroup=S||null}}class Cr{constructor(S){this.urlTree=S}}function Fi(k){return(0,Pe._)(new fi(k))}function sr(k){return(0,Pe._)(new Cr(k))}class he{constructor(S,A,L,K,ue){this.configLoader=A,this.urlSerializer=L,this.urlTree=K,this.config=ue,this.allowRedirects=!0,this.ngModule=S.get(g.h0i)}apply(){const S=fe(this.urlTree.root,[],[],this.config).segmentGroup,A=new Y(S.segments,S.children);return this.expandSegmentGroup(this.ngModule,this.config,A,ht).pipe((0,Dt.U)(ue=>this.createUrlTree(In(ue),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ut.K)(ue=>{if(ue instanceof Cr)return this.allowRedirects=!1,this.match(ue.urlTree);throw ue instanceof fi?this.noMatchError(ue):ue}))}match(S){return this.expandSegmentGroup(this.ngModule,this.config,S.root,ht).pipe((0,Dt.U)(K=>this.createUrlTree(In(K),S.queryParams,S.fragment))).pipe((0,Ut.K)(K=>{throw K instanceof fi?this.noMatchError(K):K}))}noMatchError(S){return new Error(`Cannot match any routes. URL Segment: '${S.segmentGroup}'`)}createUrlTree(S,A,L){const K=S.segments.length>0?new Y([],{[ht]:S}):S;return new xe(K,A,L)}expandSegmentGroup(S,A,L,K){return 0===L.segments.length&&L.hasChildren()?this.expandChildren(S,A,L).pipe((0,Dt.U)(ue=>new Y([],ue))):this.expandSegment(S,L,A,L.segments,K,!0)}expandChildren(S,A,L){const K=[];for(const ue of Object.keys(L.children))"primary"===ue?K.unshift(ue):K.push(ue);return(0,X.D)(K).pipe((0,jt.b)(ue=>{const Re=L.children[ue],Ne=z(A,ue);return this.expandSegmentGroup(S,Ne,Re,ue).pipe((0,Dt.U)(kt=>({segment:kt,outlet:ue})))}),(0,An.R)((ue,Re)=>(ue[Re.outlet]=Re.segment,ue),{}),function Et(k,S){const A=arguments.length>=2;return L=>L.pipe(k?(0,Ot.h)((K,ue)=>k(K,ue,L)):be.y,We(1),A?(0,gt.d)(S):(0,mt.T)(()=>new ve.K))}())}expandSegment(S,A,L,K,ue,Re){return(0,X.D)(L).pipe((0,jt.b)(Ne=>this.expandSegmentAgainstRoute(S,A,L,Ne,K,ue,Re).pipe((0,Ut.K)(Sn=>{if(Sn instanceof fi)return(0,Le.of)(null);throw Sn}))),(0,un.P)(Ne=>!!Ne),(0,Ut.K)((Ne,kt)=>{if(Ne instanceof ve.K||"EmptyError"===Ne.name)return yi(A,K,ue)?(0,Le.of)(new Y([],{})):Fi(A);throw Ne}))}expandSegmentAgainstRoute(S,A,L,K,ue,Re,Ne){return Si(K,A,ue,Re)?void 0===K.redirectTo?this.matchSegmentAgainstRoute(S,A,K,ue,Re):Ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,A,L,K,ue,Re):Fi(A):Fi(A)}expandSegmentAgainstRouteUsingRedirect(S,A,L,K,ue,Re){return"**"===K.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,L,K,Re):this.expandRegularSegmentAgainstRouteUsingRedirect(S,A,L,K,ue,Re)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,A,L,K){const ue=this.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?sr(ue):this.lineralizeSegments(L,ue).pipe((0,dn.z)(Re=>{const Ne=new Y(Re,{});return this.expandSegment(S,Ne,A,Re,K,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,A,L,K,ue,Re){const{matched:Ne,consumedSegments:kt,remainingSegments:Sn,positionalParamSegments:xi}=$(A,K,ue);if(!Ne)return Fi(A);const kn=this.applyRedirectCommands(kt,K.redirectTo,xi);return K.redirectTo.startsWith("/")?sr(kn):this.lineralizeSegments(K,kn).pipe((0,dn.z)(Ln=>this.expandSegment(S,A,L,Ln.concat(Sn),Re,!1)))}matchSegmentAgainstRoute(S,A,L,K,ue){if("**"===L.path)return L.loadChildren?(L._loadedConfig?(0,Le.of)(L._loadedConfig):this.configLoader.load(S.injector,L)).pipe((0,Dt.U)(kn=>(L._loadedConfig=kn,new Y(K,{})))):(0,Le.of)(new Y(K,{}));const{matched:Re,consumedSegments:Ne,remainingSegments:kt}=$(A,L,K);return Re?this.getChildConfig(S,L,K).pipe((0,dn.z)(xi=>{const kn=xi.module,Ln=xi.routes,{segmentGroup:ir,slicedSegments:pr}=fe(A,Ne,kt,Ln),ns=new Y(ir.segments,ir.children);if(0===pr.length&&ns.hasChildren())return this.expandChildren(kn,Ln,ns).pipe((0,Dt.U)(Rs=>new Y(Ne,Rs)));if(0===Ln.length&&0===pr.length)return(0,Le.of)(new Y(Ne,{}));const ba=li(L)===ue;return this.expandSegment(kn,ns,Ln,pr,ba?ht:ue,!0).pipe((0,Dt.U)(oa=>new Y(Ne.concat(oa.segments),oa.children)))})):Fi(A)}getChildConfig(S,A,L){return A.children?(0,Le.of)(new $r(A.children,S)):A.loadChildren?void 0!==A._loadedConfig?(0,Le.of)(A._loadedConfig):this.runCanLoadGuards(S.injector,A,L).pipe((0,dn.z)(K=>K?this.configLoader.load(S.injector,A).pipe((0,Dt.U)(ue=>(A._loadedConfig=ue,ue))):function H(k){return(0,Pe._)(Qe(`Cannot load children because the guard of the route "path: '${k.path}'" returned false`))}(A))):(0,Le.of)(new $r([],S))}runCanLoadGuards(S,A,L){const K=A.canLoad;if(!K||0===K.length)return(0,Le.of)(!0);const ue=K.map(Re=>{const Ne=S.get(Re);let kt;if(function Js(k){return k&&Ir(k.canLoad)}(Ne))kt=Ne.canLoad(A,L);else{if(!Ir(Ne))throw new Error("Invalid CanLoad guard");kt=Ne(A,L)}return pe(kt)});return(0,Le.of)(ue).pipe(Li(),(0,xt.b)(Re=>{if(!zr(Re))return;const Ne=Qe(`Redirecting to "${this.urlSerializer.serialize(Re)}"`);throw Ne.url=Re,Ne}),(0,Dt.U)(Re=>!0===Re))}lineralizeSegments(S,A){let L=[],K=A.root;for(;;){if(L=L.concat(K.segments),0===K.numberOfChildren)return(0,Le.of)(L);if(K.numberOfChildren>1||!K.children[ht])return(0,Pe._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${S.redirectTo}'`));K=K.children[ht]}}applyRedirectCommands(S,A,L){return this.applyRedirectCreatreUrlTree(A,this.urlSerializer.parse(A),S,L)}applyRedirectCreatreUrlTree(S,A,L,K){const ue=this.createSegmentGroup(S,A.root,L,K);return new xe(ue,this.createQueryParams(A.queryParams,this.urlTree.queryParams),A.fragment)}createQueryParams(S,A){const L={};return xn(S,(K,ue)=>{if("string"==typeof K&&K.startsWith(":")){const Ne=K.substring(1);L[ue]=A[Ne]}else L[ue]=K}),L}createSegmentGroup(S,A,L,K){const ue=this.createSegments(S,A.segments,L,K);let Re={};return xn(A.children,(Ne,kt)=>{Re[kt]=this.createSegmentGroup(S,Ne,L,K)}),new Y(ue,Re)}createSegments(S,A,L,K){return A.map(ue=>ue.path.startsWith(":")?this.findPosParam(S,ue,K):this.findOrReturn(ue,L))}findPosParam(S,A,L){const K=L[A.path.substring(1)];if(!K)throw new Error(`Cannot redirect to '${S}'. Cannot find '${A.path}'.`);return K}findOrReturn(S,A){let L=0;for(const K of A){if(K.path===S.path)return A.splice(L),K;L++}return S}}function In(k){const S={};for(const L of Object.keys(k.children)){const ue=In(k.children[L]);(ue.segments.length>0||ue.hasChildren())&&(S[L]=ue)}return function Ft(k){if(1===k.numberOfChildren&&k.children[ht]){const S=k.children[ht];return new Y(k.segments.concat(S.segments),S.children)}return k}(new Y(k.segments,S))}class Lr{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Jr{constructor(S,A){this.component=S,this.route=A}}function xs(k,S,A){const L=k._root;return lr(L,S?S._root:null,A,[L.value])}function Nn(k,S,A){const L=function qo(k){if(!k)return null;for(let S=k.parent;S;S=S.parent){const A=S.routeConfig;if(A&&A._loadedConfig)return A._loadedConfig}return null}(S);return(L?L.module.injector:A).get(k)}function lr(k,S,A,L,K={canDeactivateChecks:[],canActivateChecks:[]}){const ue=Gi(S);return k.children.forEach(Re=>{(function Za(k,S,A,L,K={canDeactivateChecks:[],canActivateChecks:[]}){const ue=k.value,Re=S?S.value:null,Ne=A?A.getContext(k.value.outlet):null;if(Re&&ue.routeConfig===Re.routeConfig){const kt=function Io(k,S,A){if("function"==typeof A)return A(k,S);switch(A){case"pathParamsChange":return!Ve(k.url,S.url);case"pathParamsOrQueryParamsChange":return!Ve(k.url,S.url)||!Un(k.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mr(k,S)||!Un(k.queryParams,S.queryParams);default:return!mr(k,S)}}(Re,ue,ue.routeConfig.runGuardsAndResolvers);kt?K.canActivateChecks.push(new Lr(L)):(ue.data=Re.data,ue._resolvedData=Re._resolvedData),lr(k,S,ue.component?Ne?Ne.children:null:A,L,K),kt&&Ne&&Ne.outlet&&Ne.outlet.isActivated&&K.canDeactivateChecks.push(new Jr(Ne.outlet.component,Re))}else Re&&Ds(S,Ne,K),K.canActivateChecks.push(new Lr(L)),lr(k,null,ue.component?Ne?Ne.children:null:A,L,K)})(Re,ue[Re.value.outlet],A,L.concat([Re.value]),K),delete ue[Re.value.outlet]}),xn(ue,(Re,Ne)=>Ds(Re,A.getContext(Ne),K)),K}function Ds(k,S,A){const L=Gi(k),K=k.value;xn(L,(ue,Re)=>{Ds(ue,K.component?S?S.children.getContext(Re):null:S,A)}),A.canDeactivateChecks.push(new Jr(K.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,K))}class _o{}function J(k){return new l.y(S=>S.error(k))}class D{constructor(S,A,L,K,ue,Re){this.rootComponentType=S,this.config=A,this.urlTree=L,this.url=K,this.paramsInheritanceStrategy=ue,this.relativeLinkResolution=Re}recognize(){const S=fe(this.urlTree.root,[],[],this.config.filter(Re=>void 0===Re.redirectTo),this.relativeLinkResolution).segmentGroup,A=this.processSegmentGroup(this.config,S,ht);if(null===A)return null;const L=new zt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),K=new Ji(L,A),ue=new Cn(this.url,K);return this.inheritParamsAndData(ue._root),ue}inheritParamsAndData(S){const A=S.value,L=vt(A,this.paramsInheritanceStrategy);A.params=Object.freeze(L.params),A.data=Object.freeze(L.data),S.children.forEach(K=>this.inheritParamsAndData(K))}processSegmentGroup(S,A,L){return 0===A.segments.length&&A.hasChildren()?this.processChildren(S,A):this.processSegment(S,A,A.segments,L)}processChildren(S,A){const L=[];for(const ue of Object.keys(A.children)){const Re=A.children[ue],Ne=z(S,ue),kt=this.processSegmentGroup(Ne,Re,ue);if(null===kt)return null;L.push(...kt)}const K=qe(L);return function V(k){k.sort((S,A)=>S.value.outlet===ht?-1:A.value.outlet===ht?1:S.value.outlet.localeCompare(A.value.outlet))}(K),K}processSegment(S,A,L,K){for(const ue of S){const Re=this.processSegmentAgainstRoute(ue,A,L,K);if(null!==Re)return Re}return yi(A,L,K)?[]:null}processSegmentAgainstRoute(S,A,L,K){if(S.redirectTo||!Si(S,A,L,K))return null;let ue,Re=[],Ne=[];if("**"===S.path){const ir=L.length>0?sn(L).parameters:{};ue=new zt(L,ir,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dn(S),li(S),S.component,S,yt(A),Pt(A)+L.length,Pn(S))}else{const ir=$(A,S,L);if(!ir.matched)return null;Re=ir.consumedSegments,Ne=ir.remainingSegments,ue=new zt(Re,ir.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dn(S),li(S),S.component,S,yt(A),Pt(A)+Re.length,Pn(S))}const kt=function ie(k){return k.children?k.children:k.loadChildren?k._loadedConfig.routes:[]}(S),{segmentGroup:Sn,slicedSegments:xi}=fe(A,Re,Ne,kt.filter(ir=>void 0===ir.redirectTo),this.relativeLinkResolution);if(0===xi.length&&Sn.hasChildren()){const ir=this.processChildren(kt,Sn);return null===ir?null:[new Ji(ue,ir)]}if(0===kt.length&&0===xi.length)return[new Ji(ue,[])];const kn=li(S)===K,Ln=this.processSegment(kt,Sn,xi,kn?ht:K);return null===Ln?null:[new Ji(ue,Ln)]}}function De(k){const S=k.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function qe(k){const S=[],A=new Set;for(const L of k){if(!De(L)){S.push(L);continue}const K=S.find(ue=>L.value.routeConfig===ue.value.routeConfig);void 0!==K?(K.children.push(...L.children),A.add(K)):S.push(L)}for(const L of A){const K=qe(L.children);S.push(new Ji(L.value,K))}return S.filter(L=>!A.has(L))}function yt(k){let S=k;for(;S._sourceSegment;)S=S._sourceSegment;return S}function Pt(k){let S=k,A=S._segmentIndexShift?S._segmentIndexShift:0;for(;S._sourceSegment;)S=S._sourceSegment,A+=S._segmentIndexShift?S._segmentIndexShift:0;return A-1}function Dn(k){return k.data||{}}function Pn(k){return k.resolve||{}}function tr(k){return[...Object.keys(k),...Object.getOwnPropertySymbols(k)]}function hr(k){return(0,ct.w)(S=>{const A=k(S);return A?(0,X.D)(A).pipe((0,Dt.U)(()=>S)):(0,Le.of)(S)})}class Hs extends class nr{shouldDetach(S){return!1}store(S,A){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,A){return S.routeConfig===A.routeConfig}}{}const Xi=new g.OlP("ROUTES");class Br{constructor(S,A,L,K){this.injector=S,this.compiler=A,this.onLoadStartListener=L,this.onLoadEndListener=K}load(S,A){if(A._loader$)return A._loader$;this.onLoadStartListener&&this.onLoadStartListener(A);const K=this.loadModuleFactory(A.loadChildren).pipe((0,Dt.U)(ue=>{this.onLoadEndListener&&this.onLoadEndListener(A);const Re=ue.create(S);return new $r(Gn(Re.injector.get(Xi,void 0,g.XFs.Self|g.XFs.Optional)).map(bs),Re)}),(0,Ut.K)(ue=>{throw A._loader$=void 0,ue}));return A._loader$=new ze(K,()=>new Ue.x).pipe(pt()),A._loader$}loadModuleFactory(S){return pe(S()).pipe((0,dn.z)(A=>A instanceof g.YKP?(0,Le.of)(A):(0,X.D)(this.compiler.compileModuleAsync(A))))}}class To{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,A){return S}}function js(k){throw k}function yo(k,S,A){return S.parse("/")}function Gs(k,S){return(0,Le.of)(null)}const $s={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let es=(()=>{class k{constructor(A,L,K,ue,Re,Ne,kt){this.rootComponentType=A,this.urlSerializer=L,this.rootContexts=K,this.location=ue,this.config=kt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ue.x,this.errorHandler=js,this.malformedUriErrorHandler=yo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Gs,afterPreactivation:Gs},this.urlHandlingStrategy=new To,this.routeReuseStrategy=new Hs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Re.get(g.h0i),this.console=Re.get(g.c2e);const kn=Re.get(g.R0b);this.isNgZoneEnabled=kn instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(kt),this.currentUrlTree=function U(){return new xe(new Y([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Br(Re,Ne,Ln=>this.triggerEvent(new Vn(Ln)),Ln=>this.triggerEvent(new zn(Ln))),this.routerState=cr(this.currentUrlTree,this.rootComponentType),this.transitions=new He.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var A;return null===(A=this.location.getState())||void 0===A?void 0:A.\u0275routerPageId}setupNavigations(A){const L=this.events;return A.pipe((0,Ot.h)(K=>0!==K.id),(0,Dt.U)(K=>Object.assign(Object.assign({},K),{extractedUrl:this.urlHandlingStrategy.extract(K.rawUrl)})),(0,ct.w)(K=>{let ue=!1,Re=!1;return(0,Le.of)(K).pipe((0,xt.b)(Ne=>{this.currentNavigation={id:Ne.id,initialUrl:Ne.currentRawUrl,extractedUrl:Ne.extractedUrl,trigger:Ne.source,extras:Ne.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,ct.w)(Ne=>{const kt=this.browserUrlTree.toString(),Sn=!this.navigated||Ne.extractedUrl.toString()!==kt||kt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Sn)&&this.urlHandlingStrategy.shouldProcessUrl(Ne.rawUrl))return jn(Ne.source)&&(this.browserUrlTree=Ne.extractedUrl),(0,Le.of)(Ne).pipe((0,ct.w)(kn=>{const Ln=this.transitions.getValue();return L.next(new bn(kn.id,this.serializeUrl(kn.extractedUrl),kn.source,kn.restoredState)),Ln!==this.transitions.getValue()?lt.E:Promise.resolve(kn)}),function yr(k,S,A,L){return(0,ct.w)(K=>function F(k,S,A,L,K){return new he(k,S,A,L,K).apply()}(k,S,A,K.extractedUrl,L).pipe((0,Dt.U)(ue=>Object.assign(Object.assign({},K),{urlAfterRedirects:ue}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,xt.b)(kn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:kn.urlAfterRedirects})}),function ai(k,S,A,L,K){return(0,dn.z)(ue=>function w(k,S,A,L,K="emptyOnly",ue="legacy"){try{const Re=new D(k,S,A,L,K,ue).recognize();return null===Re?J(new _o):(0,Le.of)(Re)}catch(Re){return J(Re)}}(k,S,ue.urlAfterRedirects,A(ue.urlAfterRedirects),L,K).pipe((0,Dt.U)(Re=>Object.assign(Object.assign({},ue),{targetSnapshot:Re}))))}(this.rootComponentType,this.config,kn=>this.serializeUrl(kn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,xt.b)(kn=>{if("eager"===this.urlUpdateStrategy){if(!kn.extras.skipLocationChange){const ir=this.urlHandlingStrategy.merge(kn.urlAfterRedirects,kn.rawUrl);this.setBrowserUrl(ir,kn)}this.browserUrlTree=kn.urlAfterRedirects}const Ln=new wn(kn.id,this.serializeUrl(kn.extractedUrl),this.serializeUrl(kn.urlAfterRedirects),kn.targetSnapshot);L.next(Ln)}));if(Sn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ln,extractedUrl:ir,source:pr,restoredState:ns,extras:ba}=Ne,Fr=new bn(Ln,this.serializeUrl(ir),pr,ns);L.next(Fr);const oa=cr(ir,this.rootComponentType).snapshot;return(0,Le.of)(Object.assign(Object.assign({},Ne),{targetSnapshot:oa,urlAfterRedirects:ir,extras:Object.assign(Object.assign({},ba),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ne.rawUrl,Ne.resolve(null),lt.E}),hr(Ne=>{const{targetSnapshot:kt,id:Sn,extractedUrl:xi,rawUrl:kn,extras:{skipLocationChange:Ln,replaceUrl:ir}}=Ne;return this.hooks.beforePreactivation(kt,{navigationId:Sn,appliedUrlTree:xi,rawUrlTree:kn,skipLocationChange:!!Ln,replaceUrl:!!ir})}),(0,xt.b)(Ne=>{const kt=new Zn(Ne.id,this.serializeUrl(Ne.extractedUrl),this.serializeUrl(Ne.urlAfterRedirects),Ne.targetSnapshot);this.triggerEvent(kt)}),(0,Dt.U)(Ne=>Object.assign(Object.assign({},Ne),{guards:xs(Ne.targetSnapshot,Ne.currentSnapshot,this.rootContexts)})),function _a(k,S){return(0,dn.z)(A=>{const{targetSnapshot:L,currentSnapshot:K,guards:{canActivateChecks:ue,canDeactivateChecks:Re}}=A;return 0===Re.length&&0===ue.length?(0,Le.of)(Object.assign(Object.assign({},A),{guardsResult:!0})):function Ko(k,S,A,L){return(0,X.D)(k).pipe((0,dn.z)(K=>function to(k,S,A,L,K){const ue=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!ue||0===ue.length)return(0,Le.of)(!0);const Re=ue.map(Ne=>{const kt=Nn(Ne,S,K);let Sn;if(function Xs(k){return k&&Ir(k.canDeactivate)}(kt))Sn=pe(kt.canDeactivate(k,S,A,L));else{if(!Ir(kt))throw new Error("Invalid CanDeactivate guard");Sn=pe(kt(k,S,A,L))}return Sn.pipe((0,un.P)())});return(0,Le.of)(Re).pipe(Li())}(K.component,K.route,A,S,L)),(0,un.P)(K=>!0!==K,!0))}(Re,L,K,k).pipe((0,dn.z)(Ne=>Ne&&function Es(k){return"boolean"==typeof k}(Ne)?function gl(k,S,A,L){return(0,X.D)(S).pipe((0,jt.b)(K=>(0,le.z)(function So(k,S){return null!==k&&S&&S(new Fn(k)),(0,Le.of)(!0)}(K.route.parent,L),function Zo(k,S){return null!==k&&S&&S(new Ri(k)),(0,Le.of)(!0)}(K.route,L),function Xr(k,S,A){const L=S[S.length-1],ue=S.slice(0,S.length-1).reverse().map(Re=>function Kt(k){const S=k.routeConfig?k.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:k,guards:S}:null}(Re)).filter(Re=>null!==Re).map(Re=>(0,Ee.P)(()=>{const Ne=Re.guards.map(kt=>{const Sn=Nn(kt,Re.node,A);let xi;if(function Ni(k){return k&&Ir(k.canActivateChild)}(Sn))xi=pe(Sn.canActivateChild(L,k));else{if(!Ir(Sn))throw new Error("Invalid CanActivateChild guard");xi=pe(Sn(L,k))}return xi.pipe((0,un.P)())});return(0,Le.of)(Ne).pipe(Li())}));return(0,Le.of)(ue).pipe(Li())}(k,K.path,A),function ws(k,S,A){const L=S.routeConfig?S.routeConfig.canActivate:null;if(!L||0===L.length)return(0,Le.of)(!0);const K=L.map(ue=>(0,Ee.P)(()=>{const Re=Nn(ue,S,A);let Ne;if(function Wr(k){return k&&Ir(k.canActivate)}(Re))Ne=pe(Re.canActivate(S,k));else{if(!Ir(Re))throw new Error("Invalid CanActivate guard");Ne=pe(Re(S,k))}return Ne.pipe((0,un.P)())}));return(0,Le.of)(K).pipe(Li())}(k,K.route,A))),(0,un.P)(K=>!0!==K,!0))}(L,ue,k,S):(0,Le.of)(Ne)),(0,Dt.U)(Ne=>Object.assign(Object.assign({},A),{guardsResult:Ne})))})}(this.ngModule.injector,Ne=>this.triggerEvent(Ne)),(0,xt.b)(Ne=>{if(zr(Ne.guardsResult)){const Sn=Qe(`Redirecting to "${this.serializeUrl(Ne.guardsResult)}"`);throw Sn.url=Ne.guardsResult,Sn}const kt=new ni(Ne.id,this.serializeUrl(Ne.extractedUrl),this.serializeUrl(Ne.urlAfterRedirects),Ne.targetSnapshot,!!Ne.guardsResult);this.triggerEvent(kt)}),(0,Ot.h)(Ne=>!!Ne.guardsResult||(this.restoreHistory(Ne),this.cancelNavigationTransition(Ne,""),!1)),hr(Ne=>{if(Ne.guards.canActivateChecks.length)return(0,Le.of)(Ne).pipe((0,xt.b)(kt=>{const Sn=new Wi(kt.id,this.serializeUrl(kt.extractedUrl),this.serializeUrl(kt.urlAfterRedirects),kt.targetSnapshot);this.triggerEvent(Sn)}),(0,ct.w)(kt=>{let Sn=!1;return(0,Le.of)(kt).pipe(function vi(k,S){return(0,dn.z)(A=>{const{targetSnapshot:L,guards:{canActivateChecks:K}}=A;if(!K.length)return(0,Le.of)(A);let ue=0;return(0,X.D)(K).pipe((0,jt.b)(Re=>function Qn(k,S,A,L){return function bi(k,S,A,L){const K=tr(k);if(0===K.length)return(0,Le.of)({});const ue={};return(0,X.D)(K).pipe((0,dn.z)(Re=>function vr(k,S,A,L){const K=Nn(k,S,L);return pe(K.resolve?K.resolve(S,A):K(S,A))}(k[Re],S,A,L).pipe((0,xt.b)(Ne=>{ue[Re]=Ne}))),We(1),(0,dn.z)(()=>tr(ue).length===K.length?(0,Le.of)(ue):lt.E))}(k._resolve,k,S,L).pipe((0,Dt.U)(ue=>(k._resolvedData=ue,k.data=Object.assign(Object.assign({},k.data),vt(k,A).resolve),null)))}(Re.route,L,k,S)),(0,xt.b)(()=>ue++),We(1),(0,dn.z)(Re=>ue===K.length?(0,Le.of)(A):lt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,xt.b)({next:()=>Sn=!0,complete:()=>{Sn||(this.restoreHistory(kt),this.cancelNavigationTransition(kt,"At least one route resolver didn't emit any value."))}}))}),(0,xt.b)(kt=>{const Sn=new ln(kt.id,this.serializeUrl(kt.extractedUrl),this.serializeUrl(kt.urlAfterRedirects),kt.targetSnapshot);this.triggerEvent(Sn)}))}),hr(Ne=>{const{targetSnapshot:kt,id:Sn,extractedUrl:xi,rawUrl:kn,extras:{skipLocationChange:Ln,replaceUrl:ir}}=Ne;return this.hooks.afterPreactivation(kt,{navigationId:Sn,appliedUrlTree:xi,rawUrlTree:kn,skipLocationChange:!!Ln,replaceUrl:!!ir})}),(0,Dt.U)(Ne=>{const kt=function $i(k,S,A){const L=ur(k,S._root,A?A._root:void 0);return new Qr(L,S)}(this.routeReuseStrategy,Ne.targetSnapshot,Ne.currentRouterState);return Object.assign(Object.assign({},Ne),{targetRouterState:kt})}),(0,xt.b)(Ne=>{this.currentUrlTree=Ne.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ne.urlAfterRedirects,Ne.rawUrl),this.routerState=Ne.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ne.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ne),this.browserUrlTree=Ne.urlAfterRedirects)}),((k,S,A)=>(0,Dt.U)(L=>(new Hr(S,L.targetRouterState,L.currentRouterState,A).activate(k),L)))(this.rootContexts,this.routeReuseStrategy,Ne=>this.triggerEvent(Ne)),(0,xt.b)({next(){ue=!0},complete(){ue=!0}}),(0,It.x)(()=>{var Ne;ue||Re||this.cancelNavigationTransition(K,`Navigation ID ${K.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Ne=this.currentNavigation)||void 0===Ne?void 0:Ne.id)===K.id&&(this.currentNavigation=null)}),(0,Ut.K)(Ne=>{if(Re=!0,function Xt(k){return k&&k[Te]}(Ne)){const kt=zr(Ne.url);kt||(this.navigated=!0,this.restoreHistory(K,!0));const Sn=new $n(K.id,this.serializeUrl(K.extractedUrl),Ne.message);L.next(Sn),kt?setTimeout(()=>{const xi=this.urlHandlingStrategy.merge(Ne.url,this.rawUrlTree),kn={skipLocationChange:K.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jn(K.source)};this.scheduleNavigation(xi,"imperative",null,kn,{resolve:K.resolve,reject:K.reject,promise:K.promise})},0):K.resolve(!1)}else{this.restoreHistory(K,!0);const kt=new Kn(K.id,this.serializeUrl(K.extractedUrl),Ne);L.next(kt);try{K.resolve(this.errorHandler(Ne))}catch(Sn){K.reject(Sn)}}return lt.E}))}))}resetRootComponentType(A){this.rootComponentType=A,this.routerState.root.component=this.rootComponentType}setTransition(A){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),A))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(A=>{const L="popstate"===A.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{var K;const ue={replaceUrl:!0},Re=(null===(K=A.state)||void 0===K?void 0:K.navigationId)?A.state:null;if(Re){const kt=Object.assign({},Re);delete kt.navigationId,delete kt.\u0275routerPageId,0!==Object.keys(kt).length&&(ue.state=kt)}const Ne=this.parseUrl(A.url);this.scheduleNavigation(Ne,L,Re,ue)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(A){this.events.next(A)}resetConfig(A){Vs(A),this.config=A.map(bs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(A,L={}){const{relativeTo:K,queryParams:ue,fragment:Re,queryParamsHandling:Ne,preserveFragment:kt}=L,Sn=K||this.routerState.root,xi=kt?this.currentUrlTree.fragment:Re;let kn=null;switch(Ne){case"merge":kn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ue);break;case"preserve":kn=this.currentUrlTree.queryParams;break;default:kn=ue||null}return null!==kn&&(kn=this.removeEmptyProps(kn)),function ma(k,S,A,L,K){if(0===A.length)return ps(S.root,S.root,S.root,L,K);const ue=function Ls(k){if("string"==typeof k[0]&&1===k.length&&"/"===k[0])return new Zs(!0,0,k);let S=0,A=!1;const L=k.reduce((K,ue,Re)=>{if("object"==typeof ue&&null!=ue){if(ue.outlets){const Ne={};return xn(ue.outlets,(kt,Sn)=>{Ne[Sn]="string"==typeof kt?kt.split("/"):kt}),[...K,{outlets:Ne}]}if(ue.segmentPath)return[...K,ue.segmentPath]}return"string"!=typeof ue?[...K,ue]:0===Re?(ue.split("/").forEach((Ne,kt)=>{0==kt&&"."===Ne||(0==kt&&""===Ne?A=!0:".."===Ne?S++:""!=Ne&&K.push(Ne))}),K):[...K,ue]},[]);return new Zs(A,S,L)}(A);if(ue.toRoot())return ps(S.root,S.root,new Y([],{}),L,K);const Re=function gs(k,S,A){if(k.isAbsolute)return new Ao(S.root,!0,0);if(-1===A.snapshot._lastPathIndex){const ue=A.snapshot._urlSegment;return new Ao(ue,ue===S.root,0)}const L=kr(k.commands[0])?0:1;return function na(k,S,A){let L=k,K=S,ue=A;for(;ue>K;){if(ue-=K,L=L.parent,!L)throw new Error("Invalid number of '../'");K=L.segments.length}return new Ao(L,!1,K-ue)}(A.snapshot._urlSegment,A.snapshot._lastPathIndex+L,k.numberOfDoubleDots)}(ue,S,k),Ne=Re.processChildren?ls(Re.segmentGroup,Re.index,ue.commands):ms(Re.segmentGroup,Re.index,ue.commands);return ps(S.root,Re.segmentGroup,Ne,L,K)}(Sn,this.currentUrlTree,A,kn,null!=xi?xi:null)}navigateByUrl(A,L={skipLocationChange:!1}){const K=zr(A)?A:this.parseUrl(A),ue=this.urlHandlingStrategy.merge(K,this.rawUrlTree);return this.scheduleNavigation(ue,"imperative",null,L)}navigate(A,L={skipLocationChange:!1}){return function _n(k){for(let S=0;S<k.length;S++){const A=k[S];if(null==A)throw new Error(`The requested path contains ${A} segment at index ${S}`)}}(A),this.navigateByUrl(this.createUrlTree(A,L),L)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){let L;try{L=this.urlSerializer.parse(A)}catch(K){L=this.malformedUriErrorHandler(K,this.urlSerializer,A)}return L}isActive(A,L){let K;if(K=!0===L?Object.assign({},$s):!1===L?Object.assign({},lo):L,zr(A))return ge(this.currentUrlTree,A,K);const ue=this.parseUrl(A);return ge(this.currentUrlTree,ue,K)}removeEmptyProps(A){return Object.keys(A).reduce((L,K)=>{const ue=A[K];return null!=ue&&(L[K]=ue),L},{})}processNavigations(){this.navigations.subscribe(A=>{this.navigated=!0,this.lastSuccessfulId=A.id,this.currentPageId=A.targetPageId,this.events.next(new Rn(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,A.resolve(!0)},A=>{this.console.warn(`Unhandled Navigation Error: ${A}`)})}scheduleNavigation(A,L,K,ue,Re){var Ne,kt;if(this.disposed)return Promise.resolve(!1);let Sn,xi,kn;Re?(Sn=Re.resolve,xi=Re.reject,kn=Re.promise):kn=new Promise((pr,ns)=>{Sn=pr,xi=ns});const Ln=++this.navigationId;let ir;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(K=this.location.getState()),ir=K&&K.\u0275routerPageId?K.\u0275routerPageId:ue.replaceUrl||ue.skipLocationChange?null!==(Ne=this.browserPageId)&&void 0!==Ne?Ne:0:(null!==(kt=this.browserPageId)&&void 0!==kt?kt:0)+1):ir=0,this.setTransition({id:Ln,targetPageId:ir,source:L,restoredState:K,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:A,extras:ue,resolve:Sn,reject:xi,promise:kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kn.catch(pr=>Promise.reject(pr))}setBrowserUrl(A,L){const K=this.urlSerializer.serialize(A),ue=Object.assign(Object.assign({},L.extras.state),this.generateNgRouterState(L.id,L.targetPageId));this.location.isCurrentPathEqualTo(K)||L.extras.replaceUrl?this.location.replaceState(K,"",ue):this.location.go(K,"",ue)}restoreHistory(A,L=!1){var K,ue;if("computed"===this.canceledNavigationResolution){const Re=this.currentPageId-A.targetPageId;"popstate"!==A.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(K=this.currentNavigation)||void 0===K?void 0:K.finalUrl)||0===Re?this.currentUrlTree===(null===(ue=this.currentNavigation)||void 0===ue?void 0:ue.finalUrl)&&0===Re&&(this.resetState(A),this.browserUrlTree=A.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Re)}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(A),this.resetUrlToCurrentUrlTree())}resetState(A){this.routerState=A.currentRouterState,this.currentUrlTree=A.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,A.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(A,L){const K=new $n(A.id,this.serializeUrl(A.extractedUrl),L);this.triggerEvent(K),A.resolve(!1)}generateNgRouterState(A,L){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:L}:{navigationId:A}}}return k.\u0275fac=function(A){g.$Z()},k.\u0275prov=g.Yz7({token:k,factory:k.\u0275fac}),k})();function jn(k){return"imperative"!==k}let ei=(()=>{class k{constructor(A,L,K,ue,Re){this.router=A,this.route=L,this.tabIndexAttribute=K,this.renderer=ue,this.el=Re,this.commands=null,this.onChanges=new Ue.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(A){if(null!=this.tabIndexAttribute)return;const L=this.renderer,K=this.el.nativeElement;null!==A?L.setAttribute(K,"tabindex",A):L.removeAttribute(K,"tabindex")}ngOnChanges(A){this.onChanges.next(this)}set routerLink(A){null!=A?(this.commands=Array.isArray(A)?A:[A],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const A={skipLocationChange:fr(this.skipLocationChange),replaceUrl:fr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,A),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fr(this.preserveFragment)})}}return k.\u0275fac=function(A){return new(A||k)(g.Y36(es),g.Y36(Ye),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},k.\u0275dir=g.lG2({type:k,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(A,L){1&A&&g.NdJ("click",function(){return L.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),k})(),ci=(()=>{class k{constructor(A,L,K){this.router=A,this.route=L,this.locationStrategy=K,this.commands=null,this.href=null,this.onChanges=new Ue.x,this.subscription=A.events.subscribe(ue=>{ue instanceof Rn&&this.updateTargetUrlAndHref()})}set routerLink(A){this.commands=null!=A?Array.isArray(A)?A:[A]:null}ngOnChanges(A){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(A,L,K,ue,Re){if(0!==A||L||K||ue||Re||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Ne={skipLocationChange:fr(this.skipLocationChange),replaceUrl:fr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ne),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fr(this.preserveFragment)})}}return k.\u0275fac=function(A){return new(A||k)(g.Y36(es),g.Y36(Ye),g.Y36(it.S$))},k.\u0275dir=g.lG2({type:k,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(A,L){1&A&&g.NdJ("click",function(ue){return L.onClick(ue.button,ue.ctrlKey,ue.shiftKey,ue.altKey,ue.metaKey)}),2&A&&g.uIk("target",L.target)("href",L.href,g.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),k})();function fr(k){return""===k||!!k}let ts=(()=>{class k{constructor(A,L,K,ue,Re,Ne){this.router=A,this.element=L,this.renderer=K,this.cdr=ue,this.link=Re,this.linkWithHref=Ne,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.vpe,this.routerEventsSubscription=A.events.subscribe(kt=>{kt instanceof Rn&&this.update()})}ngAfterContentInit(){(0,Le.of)(this.links.changes,this.linksWithHrefs.changes,(0,Le.of)(null)).pipe((0,Ke.J)()).subscribe(A=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var A;null===(A=this.linkInputChangesSubscription)||void 0===A||A.unsubscribe();const L=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(K=>!!K).map(K=>K.onChanges);this.linkInputChangesSubscription=(0,X.D)(L).pipe((0,Ke.J)()).subscribe(K=>{this.isActive!==this.isLinkActive(this.router)(K)&&this.update()})}set routerLinkActive(A){const L=Array.isArray(A)?A:A.split(" ");this.classes=L.filter(K=>!!K)}ngOnChanges(A){this.update()}ngOnDestroy(){var A;this.routerEventsSubscription.unsubscribe(),null===(A=this.linkInputChangesSubscription)||void 0===A||A.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const A=this.hasActiveLinks();this.isActive!==A&&(this.isActive=A,this.cdr.markForCheck(),this.classes.forEach(L=>{A?this.renderer.addClass(this.element.nativeElement,L):this.renderer.removeClass(this.element.nativeElement,L)}),this.isActiveChange.emit(A))})}isLinkActive(A){const L=function or(k){return!!k.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return K=>!!K.urlTree&&A.isActive(K.urlTree,L)}hasActiveLinks(){const A=this.isLinkActive(this.router);return this.link&&A(this.link)||this.linkWithHref&&A(this.linkWithHref)||this.links.some(A)||this.linksWithHrefs.some(A)}}return k.\u0275fac=function(A){return new(A||k)(g.Y36(es),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(ei,8),g.Y36(ci,8))},k.\u0275dir=g.lG2({type:k,selectors:[["","routerLinkActive",""]],contentQueries:function(A,L,K){if(1&A&&(g.Suo(K,ei,5),g.Suo(K,ci,5)),2&A){let ue;g.iGM(ue=g.CRH())&&(L.links=ue),g.iGM(ue=g.CRH())&&(L.linksWithHrefs=ue)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[g.TTD]}),k})();class Or{}class ia{preload(S,A){return(0,Le.of)(null)}}let ml=(()=>{class k{constructor(A,L,K,ue){this.router=A,this.injector=K,this.preloadingStrategy=ue,this.loader=new Br(K,L,kt=>A.triggerEvent(new Vn(kt)),kt=>A.triggerEvent(new zn(kt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ot.h)(A=>A instanceof Rn),(0,jt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const A=this.injector.get(g.h0i);return this.processRoutes(A,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(A,L){const K=[];for(const ue of L)if(ue.loadChildren&&!ue.canLoad&&ue._loadedConfig){const Re=ue._loadedConfig;K.push(this.processRoutes(Re.module,Re.routes))}else ue.loadChildren&&!ue.canLoad?K.push(this.preloadConfig(A,ue)):ue.children&&K.push(this.processRoutes(A,ue.children));return(0,X.D)(K).pipe((0,Ke.J)(),(0,Dt.U)(ue=>{}))}preloadConfig(A,L){return this.preloadingStrategy.preload(L,()=>(L._loadedConfig?(0,Le.of)(L._loadedConfig):this.loader.load(A.injector,L)).pipe((0,dn.z)(ue=>(L._loadedConfig=ue,this.processRoutes(ue.module,ue.routes)))))}}return k.\u0275fac=function(A){return new(A||k)(g.LFG(es),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(Or))},k.\u0275prov=g.Yz7({token:k,factory:k.\u0275fac}),k})(),Zt=(()=>{class k{constructor(A,L,K={}){this.router=A,this.viewportScroller=L,this.options=K,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},K.scrollPositionRestoration=K.scrollPositionRestoration||"disabled",K.anchorScrolling=K.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(A=>{A instanceof bn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=A.navigationTrigger,this.restoredId=A.restoredState?A.restoredState.navigationId:0):A instanceof Rn&&(this.lastId=A.id,this.scheduleScrollEvent(A,this.router.parseUrl(A.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(A=>{A instanceof Rt&&(A.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(A.position):A.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(A.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(A,L){this.router.triggerEvent(new Rt(A,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return k.\u0275fac=function(A){g.$Z()},k.\u0275prov=g.Yz7({token:k,factory:k.\u0275fac}),k})();const Rr=new g.OlP("ROUTER_CONFIGURATION"),no=new g.OlP("ROUTER_FORROOT_GUARD"),Tn=[it.Ye,{provide:Nt,useClass:cn},{provide:es,useFactory:function ra(k,S,A,L,K,ue,Re={},Ne,kt){const Sn=new es(null,k,S,A,L,K,Gn(ue));return Ne&&(Sn.urlHandlingStrategy=Ne),kt&&(Sn.routeReuseStrategy=kt),function Po(k,S){k.errorHandler&&(S.errorHandler=k.errorHandler),k.malformedUriErrorHandler&&(S.malformedUriErrorHandler=k.malformedUriErrorHandler),k.onSameUrlNavigation&&(S.onSameUrlNavigation=k.onSameUrlNavigation),k.paramsInheritanceStrategy&&(S.paramsInheritanceStrategy=k.paramsInheritanceStrategy),k.relativeLinkResolution&&(S.relativeLinkResolution=k.relativeLinkResolution),k.urlUpdateStrategy&&(S.urlUpdateStrategy=k.urlUpdateStrategy),k.canceledNavigationResolution&&(S.canceledNavigationResolution=k.canceledNavigationResolution)}(Re,Sn),Re.enableTracing&&Sn.events.subscribe(xi=>{var kn,Ln;null===(kn=console.group)||void 0===kn||kn.call(console,`Router Event: ${xi.constructor.name}`),console.log(xi.toString()),console.log(xi),null===(Ln=console.groupEnd)||void 0===Ln||Ln.call(console)}),Sn},deps:[Nt,Os,it.Ye,g.zs3,g.Sil,Xi,Rr,[class qr{},new g.FiY],[class ss{},new g.FiY]]},Os,{provide:Ye,useFactory:function wc(k){return k.routerState.root},deps:[es]},ml,ia,class er{preload(S,A){return A().pipe((0,Ut.K)(()=>(0,Le.of)(null)))}},{provide:Rr,useValue:{enableTracing:!1}}];function Jn(){return new g.PXZ("Router",es)}let Gl=(()=>{class k{constructor(A,L){}static forRoot(A,L){return{ngModule:k,providers:[Tn,br(A),{provide:no,useFactory:tn,deps:[[es,new g.FiY,new g.tp0]]},{provide:Rr,useValue:L||{}},{provide:it.S$,useFactory:St,deps:[it.lw,[new g.tBr(it.mr),new g.FiY],Rr]},{provide:Zt,useFactory:on,deps:[es,it.EM,Rr]},{provide:Or,useExisting:L&&L.preloadingStrategy?L.preloadingStrategy:ia},{provide:g.PXZ,multi:!0,useFactory:Jn},[ya,{provide:g.ip1,multi:!0,useFactory:Ya,deps:[ya]},{provide:sa,useFactory:Pa,deps:[ya]},{provide:g.tb,multi:!0,useExisting:sa}]]}}static forChild(A){return{ngModule:k,providers:[br(A)]}}}return k.\u0275fac=function(A){return new(A||k)(g.LFG(no,8),g.LFG(es,8))},k.\u0275mod=g.oAB({type:k}),k.\u0275inj=g.cJS({}),k})();function on(k,S,A){return A.scrollOffset&&S.setOffset(A.scrollOffset),new Zt(k,S,A)}function St(k,S,A={}){return A.useHash?new it.Do(k,S):new it.b0(k,S)}function tn(k){return"guarded"}function br(k){return[{provide:g.deG,multi:!0,useValue:k},{provide:Xi,multi:!0,useValue:k}]}let ya=(()=>{class k{constructor(A){this.injector=A,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ue.x}appInitializer(){return this.injector.get(it.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let L=null;const K=new Promise(Ne=>L=Ne),ue=this.injector.get(es),Re=this.injector.get(Rr);return"disabled"===Re.initialNavigation?(ue.setUpLocationChangeListener(),L(!0)):"enabled"===Re.initialNavigation||"enabledBlocking"===Re.initialNavigation?(ue.hooks.afterPreactivation=()=>this.initNavigation?(0,Le.of)(null):(this.initNavigation=!0,L(!0),this.resultOfPreactivationDone),ue.initialNavigation()):L(!0),K})}bootstrapListener(A){const L=this.injector.get(Rr),K=this.injector.get(ml),ue=this.injector.get(Zt),Re=this.injector.get(es),Ne=this.injector.get(g.z2F);A===Ne.components[0]&&(("enabledNonBlocking"===L.initialNavigation||void 0===L.initialNavigation)&&Re.initialNavigation(),K.setUpPreloading(),ue.init(),Re.resetRootComponentType(Ne.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return k.\u0275fac=function(A){return new(A||k)(g.LFG(g.zs3))},k.\u0275prov=g.Yz7({token:k,factory:k.\u0275fac}),k})();function Ya(k){return k.appInitializer.bind(k)}function Pa(k){return k.bootstrapListener.bind(k)}const sa=new g.OlP("Router Initializer")},3942:(Jt,at,O)=>{O.d(at,{Z:()=>nt});var g=O(2090),l=O(4859),G=O(9681),X=O(1877);class be{constructor(ze,Le){this._delegate=ze,this.firebase=Le,(0,G._addComponent)(ze,new l.wA("app-compat",()=>this,"PUBLIC")),this.container=ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this._delegate.automaticDataCollectionEnabled=ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ze=>{this._delegate.checkDestroyed(),ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(ze,Le=G._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(ze);return!Pe.isInitialized()&&"EXPLICIT"===(null===(He=Pe.getComponent())||void 0===He?void 0:He.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:Le})}_removeServiceInstance(ze,Le=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ze).clearInstance(Le)}_addComponent(ze){(0,G._addComponent)(this._delegate,ze)}_addOrOverwriteComponent(ze){(0,G._addOrOverwriteComponent)(this._delegate,ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Be=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Fe(){const pt=function me(pt){const ze={},Le={__esModule:!0,initializeApp:function ve(Ue,Ot={}){const We=G.initializeApp(Ue,Ot);if((0,g.r3)(ze,We.name))return ze[We.name];const mt=new pt(We,Le);return ze[We.name]=mt,mt},app:Pe,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Ue){const Ot=Ue.name,We=Ot.replace("-compat","");if(G._registerComponent(Ue)&&"PUBLIC"===Ue.type){const mt=(gt=Pe())=>{if("function"!=typeof gt[We])throw Be.create("invalid-app-argument",{appName:Ot});return gt[We]()};void 0!==Ue.serviceProps&&(0,g.ZB)(mt,Ue.serviceProps),Le[We]=mt,pt.prototype[We]=function(...gt){return this._getService.bind(this,Ot).apply(this,Ue.multipleInstances?gt:[])}}return"PUBLIC"===Ue.type?Le[We]:null},removeApp:function He(Ue){delete ze[Ue]},useAsService:function lt(Ue,Ot){return"serverAuth"===Ot?null:Ot},modularAPIs:G}};function Pe(Ue){if(!(0,g.r3)(ze,Ue=Ue||G._DEFAULT_ENTRY_NAME))throw Be.create("no-app",{appName:Ue});return ze[Ue]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function le(){return Object.keys(ze).map(Ue=>ze[Ue])}}),Pe.App=pt,Le}(be);return pt.INTERNAL=Object.assign(Object.assign({},pt.INTERNAL),{createFirebaseNamespace:Fe,extendNamespace:function ze(Le){(0,g.ZB)(pt,Le)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),pt}(),ce=new X.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pt=self.firebase.SDK_VERSION;pt&&pt.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=te;!function Ze(pt){(0,G.registerVersion)("@firebase/app-compat","0.1.21",pt)}()},9681:(Jt,at,O)=>{O.r(at),O.d(at,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>An,_addComponent:()=>dn,_addOrOverwriteComponent:()=>xt,_apps:()=>jt,_clearComponents:()=>Vt,_components:()=>un,_getProvider:()=>Ke,_registerComponent:()=>It,_removeServiceInstance:()=>it,deleteApp:()=>Wi,getApp:()=>Zn,getApps:()=>ni,initializeApp:()=>wn,onLog:()=>zn,registerVersion:()=>Vn,setLogLevel:()=>Fn});var g=O(5861),l=O(4859),G=O(1877),X=O(2090);class be{constructor(U){this.container=U}getPlatformInfoString(){return this.container.getProviders().map(x=>{if(function Oe(pe){const U=pe.getComponent();return"VERSION"===(null==U?void 0:U.type)}(x)){const j=x.getImmediate();return`${j.library}/${j.version}`}return null}).filter(x=>x).join(" ")}}const Be="@firebase/app",Fe=new G.Yd("@firebase/app"),An="[DEFAULT]",Ut={[Be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,un=new Map;function dn(pe,U){try{pe.container.addComponent(U)}catch(x){Fe.debug(`Component ${U.name} failed to register with FirebaseApp ${pe.name}`,x)}}function xt(pe,U){pe.container.addOrOverwriteComponent(U)}function It(pe){const U=pe.name;if(un.has(U))return Fe.debug(`There were multiple attempts to register component ${U}.`),!1;un.set(U,pe);for(const x of jt.values())dn(x,pe);return!0}function Ke(pe,U){const x=pe.container.getProvider("heartbeat").getImmediate({optional:!0});return x&&x.triggerHeartbeat(),pe.container.getProvider(U)}function it(pe,U,x=An){Ke(pe,U).clearInstance(x)}function Vt(){un.clear()}const Rn=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class $n{constructor(U,x,j){this._isDeleted=!1,this._options=Object.assign({},U),this._config=Object.assign({},x),this._name=x.name,this._automaticDataCollectionEnabled=x.automaticDataCollectionEnabled,this._container=j,this.container.addComponent(new l.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(U){this.checkDestroyed(),this._automaticDataCollectionEnabled=U}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(U){this._isDeleted=U}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const Kn="9.6.10";function wn(pe,U={}){"object"!=typeof U&&(U={name:U});const x=Object.assign({name:An,automaticDataCollectionEnabled:!1},U),j=x.name;if("string"!=typeof j||!j)throw Rn.create("bad-app-name",{appName:String(j)});const ge=jt.get(j);if(ge){if((0,X.vZ)(pe,ge.options)&&(0,X.vZ)(x,ge.config))return ge;throw Rn.create("duplicate-app",{appName:j})}const rt=new l.H0(j);for(const Ie of un.values())rt.addComponent(Ie);const Ce=new $n(pe,x,rt);return jt.set(j,Ce),Ce}function Zn(pe=An){const U=jt.get(pe);if(!U)throw Rn.create("no-app",{appName:pe});return U}function ni(){return Array.from(jt.values())}function Wi(pe){return ln.apply(this,arguments)}function ln(){return(ln=(0,g.Z)(function*(pe){const U=pe.name;jt.has(U)&&(jt.delete(U),yield Promise.all(pe.container.getProviders().map(x=>x.delete())),pe.isDeleted=!0)})).apply(this,arguments)}function Vn(pe,U,x){var j;let ge=null!==(j=Ut[pe])&&void 0!==j?j:pe;x&&(ge+=`-${x}`);const rt=ge.match(/\s|\//),Ce=U.match(/\s|\//);if(rt||Ce){const Ie=[`Unable to register library "${ge}" with version "${U}":`];return rt&&Ie.push(`library name "${ge}" contains illegal characters (whitespace or "/")`),rt&&Ce&&Ie.push("and"),Ce&&Ie.push(`version name "${U}" contains illegal characters (whitespace or "/")`),void Fe.warn(Ie.join(" "))}It(new l.wA(`${ge}-version`,()=>({library:ge,version:U}),"VERSION"))}function zn(pe,U){if(null!==pe&&"function"!=typeof pe)throw Rn.create("invalid-log-argument");(0,G.Am)(pe,U)}function Fn(pe){(0,G.Ub)(pe)}const ii="firebase-heartbeat-store";let Rt=null;function ht(){return Rt||(Rt=(0,X.X3)("firebase-heartbeat-database",1,(pe,U)=>{0===U&&pe.createObjectStore(ii)}).catch(pe=>{throw Rn.create("storage-open",{originalErrorMessage:pe.message})})),Rt}function tt(){return(tt=(0,g.Z)(function*(pe){try{return(yield ht()).transaction(ii).objectStore(ii).get(Xt(pe))}catch(U){throw Rn.create("storage-get",{originalErrorMessage:U.message})}})).apply(this,arguments)}function Te(pe,U){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,g.Z)(function*(pe,U){try{const j=(yield ht()).transaction(ii,"readwrite");return yield j.objectStore(ii).put(U,Xt(pe)),j.complete}catch(x){throw Rn.create("storage-set",{originalErrorMessage:x.message})}})).apply(this,arguments)}function Xt(pe){return`${pe.name}!${pe.options.appId}`}class Un{constructor(U){this.container=U,this._heartbeatsCache=null;const x=this.container.getProvider("app").getImmediate();this._storage=new sn(x),this._heartbeatsCachePromise=this._storage.read().then(j=>(this._heartbeatsCache=j,j))}triggerHeartbeat(){var U=this;return(0,g.Z)(function*(){const j=U.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ge=Xn();if(null===U._heartbeatsCache&&(U._heartbeatsCache=yield U._heartbeatsCachePromise),U._heartbeatsCache.lastSentHeartbeatDate!==ge&&!U._heartbeatsCache.heartbeats.some(rt=>rt.date===ge))return U._heartbeatsCache.heartbeats.push({date:ge,agent:j}),U._heartbeatsCache.heartbeats=U._heartbeatsCache.heartbeats.filter(rt=>{const Ce=new Date(rt.date).valueOf();return Date.now()-Ce<=2592e6}),U._storage.overwrite(U._heartbeatsCache)})()}getHeartbeatsHeader(){var U=this;return(0,g.Z)(function*(){if(null===U._heartbeatsCache&&(yield U._heartbeatsCachePromise),null===U._heartbeatsCache||0===U._heartbeatsCache.heartbeats.length)return"";const x=Xn(),{heartbeatsToSend:j,unsentEntries:ge}=function Gn(pe,U=1024){const x=[];let j=pe.slice();for(const ge of pe){const rt=x.find(Ce=>Ce.agent===ge.agent);if(rt){if(rt.dates.push(ge.date),gi(x)>U){rt.dates.pop();break}}else if(x.push({agent:ge.agent,dates:[ge.date]}),gi(x)>U){x.pop();break}j=j.slice(1)}return{heartbeatsToSend:x,unsentEntries:j}}(U._heartbeatsCache.heartbeats),rt=(0,X.L)(JSON.stringify({version:2,heartbeats:j}));return U._heartbeatsCache.lastSentHeartbeatDate=x,ge.length>0?(U._heartbeatsCache.heartbeats=ge,yield U._storage.overwrite(U._heartbeatsCache)):(U._heartbeatsCache.heartbeats=[],U._storage.overwrite(U._heartbeatsCache)),rt})()}}function Xn(){return(new Date).toISOString().substring(0,10)}class sn{constructor(U){this.app=U,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var U=this;return(0,g.Z)(function*(){return(yield U._canUseIndexedDBPromise)&&(yield function we(pe){return tt.apply(this,arguments)}(U.app))||{heartbeats:[]}})()}overwrite(U){var x=this;return(0,g.Z)(function*(){var j;if(yield x._canUseIndexedDBPromise){const rt=yield x.read();return Te(x.app,{lastSentHeartbeatDate:null!==(j=U.lastSentHeartbeatDate)&&void 0!==j?j:rt.lastSentHeartbeatDate,heartbeats:U.heartbeats})}})()}add(U){var x=this;return(0,g.Z)(function*(){var j;if(yield x._canUseIndexedDBPromise){const rt=yield x.read();return Te(x.app,{lastSentHeartbeatDate:null!==(j=U.lastSentHeartbeatDate)&&void 0!==j?j:rt.lastSentHeartbeatDate,heartbeats:[...rt.heartbeats,...U.heartbeats]})}})()}}function gi(pe){return(0,X.L)(JSON.stringify({version:2,heartbeats:pe})).length}!function xn(pe){It(new l.wA("platform-logger",U=>new be(U),"PRIVATE")),It(new l.wA("heartbeat",U=>new Un(U),"PRIVATE")),Vn(Be,"0.7.20",pe),Vn(Be,"0.7.20","esm2017"),Vn("fire-js","")}("")},4859:(Jt,at,O)=>{O.d(at,{wA:()=>G,H0:()=>me});var g=O(5861),l=O(2090);class G{constructor(te,ce,Se){this.name=te,this.instanceFactory=ce,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const X="[DEFAULT]";class be{constructor(te,ce){this.name=te,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ce=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ce)){const Se=new l.BH;if(this.instancesDeferred.set(ce,Se),this.isInitialized(ce)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:ce});Xe&&Se.resolve(Xe)}catch(Xe){}}return this.instancesDeferred.get(ce).promise}getImmediate(te){var ce;const Se=this.normalizeInstanceIdentifier(null==te?void 0:te.identifier),Xe=null!==(ce=null==te?void 0:te.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Ze){if(Xe)return null;throw Ze}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Be(Fe){return"EAGER"===Fe.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:X})}catch(ce){}for(const[ce,Se]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(ce);try{const Ze=this.getOrInitializeService({instanceIdentifier:Xe});Se.resolve(Ze)}catch(Ze){}}}}clearInstance(te=X){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,g.Z)(function*(){const ce=Array.from(te.instances.values());yield Promise.all([...ce.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...ce.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=X){return this.instances.has(te)}getOptions(te=X){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ce={}}=te,Se=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:Se,options:ce});for(const[Ze,nt]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(Ze)&&nt.resolve(Xe);return Xe}onInit(te,ce){var Se;const Xe=this.normalizeInstanceIdentifier(ce),Ze=null!==(Se=this.onInitCallbacks.get(Xe))&&void 0!==Se?Se:new Set;Ze.add(te),this.onInitCallbacks.set(Xe,Ze);const nt=this.instances.get(Xe);return nt&&te(nt,Xe),()=>{Ze.delete(te)}}invokeOnInitCallbacks(te,ce){const Se=this.onInitCallbacks.get(ce);if(Se)for(const Xe of Se)try{Xe(te,ce)}catch(Ze){}}getOrInitializeService({instanceIdentifier:te,options:ce={}}){let Se=this.instances.get(te);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=te,Fe===X?void 0:Fe),options:ce}),this.instances.set(te,Se),this.instancesOptions.set(te,ce),this.invokeOnInitCallbacks(Se,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Se)}catch(Xe){}var Fe;return Se||null}normalizeInstanceIdentifier(te=X){return this.component?this.component.multipleInstances?te:X:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ce=this.getProvider(te.name);if(ce.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ce.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ce=new be(te,this);return this.providers.set(te,ce),ce}getProviders(){return Array.from(this.providers.values())}}},1877:(Jt,at,O)=>{O.d(at,{in:()=>l,Yd:()=>Be,Ub:()=>me,Am:()=>Fe});const g=[];var l=(()=>{return(te=l||(l={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",l;var te})();const G={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},X=l.INFO,be={[l.DEBUG]:"log",[l.VERBOSE]:"log",[l.INFO]:"info",[l.WARN]:"warn",[l.ERROR]:"error"},Oe=(te,ce,...Se)=>{if(ce<te.logLevel)return;const Xe=(new Date).toISOString(),Ze=be[ce];if(!Ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Ze](`[${Xe}]  ${te.name}:`,...Se)};class Be{constructor(ce){this.name=ce,this._logLevel=X,this._logHandler=Oe,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in l))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?G[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,l.DEBUG,...ce),this._logHandler(this,l.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,l.VERBOSE,...ce),this._logHandler(this,l.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,l.INFO,...ce),this._logHandler(this,l.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,l.WARN,...ce),this._logHandler(this,l.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,l.ERROR,...ce),this._logHandler(this,l.ERROR,...ce)}}function me(te){g.forEach(ce=>{ce.setLogLevel(te)})}function Fe(te,ce){for(const Se of g){let Xe=null;ce&&ce.level&&(Xe=G[ce.level]),Se.userLogHandler=null===te?null:(Ze,nt,...pt)=>{const ze=pt.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch(He){return null}}).filter(Le=>Le).join(" ");nt>=(null!=Xe?Xe:Ze.logLevel)&&te({level:l[nt].toLowerCase(),message:ze,args:pt,type:Ze.name})}}}},2290:(Jt,at,O)=>{O.d(at,{Rh:()=>An,_W:()=>ct});var g=O(5e3),l=O(1777),G=O(7579),X=O(9808),be=O(2313);const Oe=["toast-component",""];function Be(xt,It){if(1&xt){const Ke=g.EpF();g.TgZ(0,"button",5),g.NdJ("click",function(){return g.CHM(Ke),g.oxw().remove()}),g.TgZ(1,"span",6),g._uU(2,"\xd7"),g.qZA()()}}function me(xt,It){if(1&xt&&(g.ynx(0),g._uU(1),g.BQk()),2&xt){const Ke=g.oxw(2);g.xp6(1),g.hij("[",Ke.duplicatesCount+1,"]")}}function Fe(xt,It){if(1&xt&&(g.TgZ(0,"div"),g._uU(1),g.YNc(2,me,2,1,"ng-container",4),g.qZA()),2&xt){const Ke=g.oxw();g.Tol(Ke.options.titleClass),g.uIk("aria-label",Ke.title),g.xp6(1),g.hij(" ",Ke.title," "),g.xp6(1),g.Q6J("ngIf",Ke.duplicatesCount)}}function te(xt,It){if(1&xt&&g._UZ(0,"div",7),2&xt){const Ke=g.oxw();g.Tol(Ke.options.messageClass),g.Q6J("innerHTML",Ke.message,g.oJD)}}function ce(xt,It){if(1&xt&&(g.TgZ(0,"div",8),g._uU(1),g.qZA()),2&xt){const Ke=g.oxw();g.Tol(Ke.options.messageClass),g.uIk("aria-label",Ke.message),g.xp6(1),g.hij(" ",Ke.message," ")}}function Se(xt,It){if(1&xt&&(g.TgZ(0,"div"),g._UZ(1,"div",9),g.qZA()),2&xt){const Ke=g.oxw();g.xp6(1),g.Udp("width",Ke.width+"%")}}function Xe(xt,It){if(1&xt){const Ke=g.EpF();g.TgZ(0,"button",5),g.NdJ("click",function(){return g.CHM(Ke),g.oxw().remove()}),g.TgZ(1,"span",6),g._uU(2,"\xd7"),g.qZA()()}}function Ze(xt,It){if(1&xt&&(g.ynx(0),g._uU(1),g.BQk()),2&xt){const Ke=g.oxw(2);g.xp6(1),g.hij("[",Ke.duplicatesCount+1,"]")}}function nt(xt,It){if(1&xt&&(g.TgZ(0,"div"),g._uU(1),g.YNc(2,Ze,2,1,"ng-container",4),g.qZA()),2&xt){const Ke=g.oxw();g.Tol(Ke.options.titleClass),g.uIk("aria-label",Ke.title),g.xp6(1),g.hij(" ",Ke.title," "),g.xp6(1),g.Q6J("ngIf",Ke.duplicatesCount)}}function pt(xt,It){if(1&xt&&g._UZ(0,"div",7),2&xt){const Ke=g.oxw();g.Tol(Ke.options.messageClass),g.Q6J("innerHTML",Ke.message,g.oJD)}}function ze(xt,It){if(1&xt&&(g.TgZ(0,"div",8),g._uU(1),g.qZA()),2&xt){const Ke=g.oxw();g.Tol(Ke.options.messageClass),g.uIk("aria-label",Ke.message),g.xp6(1),g.hij(" ",Ke.message," ")}}function Le(xt,It){if(1&xt&&(g.TgZ(0,"div"),g._UZ(1,"div",9),g.qZA()),2&xt){const Ke=g.oxw();g.xp6(1),g.Udp("width",Ke.width+"%")}}class ve{constructor(It,Ke){this.component=It,this.injector=Ke}attach(It,Ke){return this._attachedHost=It,It.attach(this,Ke)}detach(){const It=this._attachedHost;if(It)return this._attachedHost=void 0,It.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(It){this._attachedHost=It}}class Ee{constructor(It,Ke,it,Vt,bn,Rn){this.toastId=It,this.config=Ke,this.message=it,this.title=Vt,this.toastType=bn,this.toastRef=Rn,this._onTap=new G.x,this._onAction=new G.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(It){this._onAction.next(It)}onAction(){return this._onAction.asObservable()}}const lt={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},Ue=new g.OlP("ToastConfig");class Ot{constructor(It){this._overlayRef=It,this.duplicatesCount=0,this._afterClosed=new G.x,this._activate=new G.x,this._manualClose=new G.x,this._resetTimeout=new G.x,this._countDuplicate=new G.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(It,Ke){It&&this._resetTimeout.next(),Ke&&this._countDuplicate.next(++this.duplicatesCount)}}class We{constructor(It,Ke){this._toastPackage=It,this._parentInjector=Ke}get(It,Ke,it){return It===Ee?this._toastPackage:this._parentInjector.get(It,Ke,it)}}class mt extends class le{attach(It,Ke){return this._attachedPortal=It,this.attachComponentPortal(It,Ke)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(It){this._disposeFn=It}}{constructor(It,Ke,it){super(),this._hostDomElement=It,this._componentFactoryResolver=Ke,this._appRef=it}attachComponentPortal(It,Ke){const it=this._componentFactoryResolver.resolveComponentFactory(It.component);let Vt;return Vt=it.create(It.injector),this._appRef.attachView(Vt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Vt.hostView),Vt.destroy()}),Ke?this._hostDomElement.insertBefore(this._getComponentRootNode(Vt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Vt)),Vt}_getComponentRootNode(It){return It.hostView.rootNodes[0]}}class gt{constructor(It){this._portalHost=It}attach(It,Ke=!0){return this._portalHost.attach(It,Ke)}detach(){return this._portalHost.detach()}}let Et=(()=>{class xt{constructor(Ke){this._document=Ke}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ke=this._document.createElement("div");Ke.classList.add("overlay-container"),this._document.body.appendChild(Ke),this._containerElement=Ke}}return xt.\u0275fac=function(Ke){return new(Ke||xt)(g.LFG(X.K0))},xt.\u0275prov=g.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})(),Dt=(()=>{class xt{constructor(Ke,it,Vt,bn){this._overlayContainer=Ke,this._componentFactoryResolver=it,this._appRef=Vt,this._document=bn,this._paneElements=new Map}create(Ke,it){return this._createOverlayRef(this.getPaneElement(Ke,it))}getPaneElement(Ke="",it){return this._paneElements.get(it)||this._paneElements.set(it,{}),this._paneElements.get(it)[Ke]||(this._paneElements.get(it)[Ke]=this._createPaneElement(Ke,it)),this._paneElements.get(it)[Ke]}_createPaneElement(Ke,it){const Vt=this._document.createElement("div");return Vt.id="toast-container",Vt.classList.add(Ke),Vt.classList.add("toast-container"),it?it.getContainerElement().appendChild(Vt):this._overlayContainer.getContainerElement().appendChild(Vt),Vt}_createPortalHost(Ke){return new mt(Ke,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ke){return new gt(this._createPortalHost(Ke))}}return xt.\u0275fac=function(Ke){return new(Ke||xt)(g.LFG(Et),g.LFG(g._Vd),g.LFG(g.z2F),g.LFG(X.K0))},xt.\u0275prov=g.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})(),ct=(()=>{class xt{constructor(Ke,it,Vt,bn,Rn){this.overlay=it,this._injector=Vt,this.sanitizer=bn,this.ngZone=Rn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},Ke.default),Ke.config),Ke.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},Ke.default.iconClasses),Ke.config.iconClasses))}show(Ke,it,Vt={},bn=""){return this._preBuildNotification(bn,Ke,it,this.applyConfig(Vt))}success(Ke,it,Vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ke,it,this.applyConfig(Vt))}error(Ke,it,Vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ke,it,this.applyConfig(Vt))}info(Ke,it,Vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ke,it,this.applyConfig(Vt))}warning(Ke,it,Vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ke,it,this.applyConfig(Vt))}clear(Ke){for(const it of this.toasts)if(void 0!==Ke){if(it.toastId===Ke)return void it.toastRef.manualClose()}else it.toastRef.manualClose()}remove(Ke){const it=this._findToast(Ke);if(!it||(it.activeToast.toastRef.close(),this.toasts.splice(it.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Vt=this.toasts[this.currentlyActive].toastRef;Vt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Vt.activate())}return!0}findDuplicate(Ke="",it="",Vt,bn){const{includeTitleDuplicates:Rn}=this.toastrConfig;for(const $n of this.toasts){const Kn=Rn&&$n.title===Ke;if((!Rn||Kn)&&$n.message===it)return $n.toastRef.onDuplicate(Vt,bn),$n}return null}applyConfig(Ke={}){return Object.assign(Object.assign({},this.toastrConfig),Ke)}_findToast(Ke){for(let it=0;it<this.toasts.length;it++)if(this.toasts[it].toastId===Ke)return{index:it,activeToast:this.toasts[it]};return null}_preBuildNotification(Ke,it,Vt,bn){return bn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ke,it,Vt,bn)):this._buildNotification(Ke,it,Vt,bn)}_buildNotification(Ke,it,Vt,bn){if(!bn.toastComponent)throw new Error("toastComponent required");const Rn=this.findDuplicate(Vt,it,this.toastrConfig.resetTimeoutOnDuplicate&&bn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Vt||it)&&this.toastrConfig.preventDuplicates&&null!==Rn)return Rn;this.previousToastMessage=it;let $n=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&($n=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Kn=this.overlay.create(bn.positionClass,this.overlayContainer);this.index=this.index+1;let wn=it;it&&bn.enableHtml&&(wn=this.sanitizer.sanitize(g.q3G.HTML,it));const Zn=new Ot(Kn),ni=new Ee(this.index,bn,wn,Vt,Ke,Zn),Wi=new We(ni,this._injector),ln=new ve(bn.toastComponent,Wi),Vn=Kn.attach(ln,this.toastrConfig.newestOnTop);Zn.componentInstance=Vn.instance;const zn={toastId:this.index,title:Vt||"",message:it||"",toastRef:Zn,onShown:Zn.afterActivate(),onHidden:Zn.afterClosed(),onTap:ni.onTap(),onAction:ni.onAction(),portal:Vn};return $n||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{zn.toastRef.activate()})),this.toasts.push(zn),zn}}return xt.\u0275fac=function(Ke){return new(Ke||xt)(g.LFG(Ue),g.LFG(Dt),g.LFG(g.zs3),g.LFG(be.H7),g.LFG(g.R0b))},xt.\u0275prov=g.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})(),mn=(()=>{class xt{constructor(Ke,it,Vt){this.toastrService=Ke,this.toastPackage=it,this.ngZone=Vt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=it.message,this.title=it.title,this.options=it.config,this.originalTimeout=it.config.timeOut,this.toastClasses=`${it.toastType} ${it.config.toastClass}`,this.sub=it.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=it.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=it.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=it.toastRef.countDuplicate().subscribe(bn=>{this.duplicatesCount=bn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ke=(new Date).getTime();this.width=(this.hideTime-Ke)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ke,it){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ke),it)):this.timeout=setTimeout(()=>Ke(),it)}outsideInterval(Ke,it){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ke),it)):this.intervalId=setInterval(()=>Ke(),it)}runInsideAngular(Ke){this.ngZone?this.ngZone.run(()=>Ke()):Ke()}}return xt.\u0275fac=function(Ke){return new(Ke||xt)(g.Y36(ct),g.Y36(Ee),g.Y36(g.R0b))},xt.\u0275cmp=g.Xpm({type:xt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ke,it){1&Ke&&g.NdJ("click",function(){return it.tapToast()})("mouseenter",function(){return it.stickAround()})("mouseleave",function(){return it.delayedHideToast()}),2&Ke&&(g.d8E("@flyInOut",it.state),g.Tol(it.toastClasses),g.Udp("display",it.displayStyle))},attrs:Oe,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(Ke,it){1&Ke&&(g.YNc(0,Be,3,0,"button",0),g.YNc(1,Fe,3,5,"div",1),g.YNc(2,te,1,3,"div",2),g.YNc(3,ce,2,4,"div",3),g.YNc(4,Se,2,2,"div",4)),2&Ke&&(g.Q6J("ngIf",it.options.closeButton),g.xp6(1),g.Q6J("ngIf",it.title),g.xp6(1),g.Q6J("ngIf",it.message&&it.options.enableHtml),g.xp6(1),g.Q6J("ngIf",it.message&&!it.options.enableHtml),g.xp6(1),g.Q6J("ngIf",it.options.progressBar))},directives:[X.O5],encapsulation:2,data:{animation:[(0,l.X$)("flyInOut",[(0,l.SB)("inactive",(0,l.oB)({opacity:0})),(0,l.SB)("active",(0,l.oB)({opacity:1})),(0,l.SB)("removed",(0,l.oB)({opacity:0})),(0,l.eR)("inactive => active",(0,l.jt)("{{ easeTime }}ms {{ easing }}")),(0,l.eR)("active => removed",(0,l.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),xt})();const en=Object.assign(Object.assign({},lt),{toastComponent:mn});let An=(()=>{class xt{static forRoot(Ke={}){return{ngModule:xt,providers:[{provide:Ue,useValue:{default:en,config:Ke}}]}}}return xt.\u0275fac=function(Ke){return new(Ke||xt)},xt.\u0275mod=g.oAB({type:xt}),xt.\u0275inj=g.cJS({imports:[[X.ez]]}),xt})(),jt=(()=>{class xt{constructor(Ke,it,Vt){this.toastrService=Ke,this.toastPackage=it,this.appRef=Vt,this.width=-1,this.toastClasses="",this.state="inactive",this.message=it.message,this.title=it.title,this.options=it.config,this.originalTimeout=it.config.timeOut,this.toastClasses=`${it.toastType} ${it.config.toastClass}`,this.sub=it.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=it.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=it.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=it.toastRef.countDuplicate().subscribe(bn=>{this.duplicatesCount=bn})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ke=(new Date).getTime();this.width=(this.hideTime-Ke)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return xt.\u0275fac=function(Ke){return new(Ke||xt)(g.Y36(ct),g.Y36(Ee),g.Y36(g.z2F))},xt.\u0275cmp=g.Xpm({type:xt,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(Ke,it){1&Ke&&g.NdJ("click",function(){return it.tapToast()})("mouseenter",function(){return it.stickAround()})("mouseleave",function(){return it.delayedHideToast()}),2&Ke&&(g.Tol(it.toastClasses),g.Udp("display",it.displayStyle))},attrs:Oe,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(Ke,it){1&Ke&&(g.YNc(0,Xe,3,0,"button",0),g.YNc(1,nt,3,5,"div",1),g.YNc(2,pt,1,3,"div",2),g.YNc(3,ze,2,4,"div",3),g.YNc(4,Le,2,2,"div",4)),2&Ke&&(g.Q6J("ngIf",it.options.closeButton),g.xp6(1),g.Q6J("ngIf",it.title),g.xp6(1),g.Q6J("ngIf",it.message&&it.options.enableHtml),g.xp6(1),g.Q6J("ngIf",it.message&&!it.options.enableHtml),g.xp6(1),g.Q6J("ngIf",it.options.progressBar))},directives:[X.O5],encapsulation:2}),xt})();Object.assign(Object.assign({},lt),{toastComponent:jt})},5861:(Jt,at,O)=>{function g(G,X,be,Oe,Be,me,Fe){try{var te=G[me](Fe),ce=te.value}catch(Se){return void be(Se)}te.done?X(ce):Promise.resolve(ce).then(Oe,Be)}function l(G){return function(){var X=this,be=arguments;return new Promise(function(Oe,Be){var me=G.apply(X,be);function Fe(ce){g(me,Oe,Be,Fe,te,"next",ce)}function te(ce){g(me,Oe,Be,Fe,te,"throw",ce)}Fe(void 0)})}}O.d(at,{Z:()=>l})}},Jt=>{Jt(Jt.s=8374)}]);